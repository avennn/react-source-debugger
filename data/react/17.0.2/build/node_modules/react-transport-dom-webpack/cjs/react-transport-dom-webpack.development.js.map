{"version":3,"file":"react-transport-dom-webpack.development.js","sources":["../../../../packages/react-client/src/ReactFlightClientHostConfigBrowser.js","../../../../packages/react-client/src/ReactFlightClientHostConfigStream.js","../../../../packages/react-transport-dom-webpack/src/ReactFlightClientWebpackBundlerConfig.js","../../../../packages/shared/ReactSymbols.js","../../../../packages/react-client/src/ReactFlightClient.js","../../../../packages/react-client/src/ReactFlightClientStream.js","../../../../packages/react-transport-dom-webpack/src/ReactFlightDOMClient.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type StringDecoder = TextDecoder;\n\nexport const supportsBinaryStreams = true;\n\nexport function createStringDecoder(): StringDecoder {\n  return new TextDecoder();\n}\n\nconst decoderOptions = {stream: true};\n\nexport function readPartialStringChunk(\n  decoder: StringDecoder,\n  buffer: Uint8Array,\n): string {\n  return decoder.decode(buffer, decoderOptions);\n}\n\nexport function readFinalStringChunk(\n  decoder: StringDecoder,\n  buffer: Uint8Array,\n): string {\n  return decoder.decode(buffer);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ResponseBase} from './ReactFlightClient';\nimport type {StringDecoder} from './ReactFlightClientHostConfig';\n\nexport type Response = ResponseBase & {\n  _partialRow: string,\n  _fromJSON: (key: string, value: JSONValue) => any,\n  _stringDecoder: StringDecoder,\n};\n\nexport type UninitializedModel = string;\n\nexport function parseModel<T>(response: Response, json: UninitializedModel): T {\n  return JSON.parse(json, response._fromJSON);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport opaque type ModuleMetaData = {\n  id: string,\n  chunks: Array<string>,\n  name: string,\n};\n\n// eslint-disable-next-line no-unused-vars\nexport opaque type ModuleReference<T> = ModuleMetaData;\n\nexport function resolveModuleReference<T>(\n  moduleData: ModuleMetaData,\n): ModuleReference<T> {\n  return moduleData;\n}\n\n// The chunk cache contains all the chunks we've preloaded so far.\n// If they're still pending they're a thenable. This map also exists\n// in Webpack but unfortunately it's not exposed so we have to\n// replicate it in user space. null means that it has already loaded.\nconst chunkCache: Map<string, null | Promise<any> | Error> = new Map();\n\n// Start preloading the modules since we might need them soon.\n// This function doesn't suspend.\nexport function preloadModule<T>(moduleData: ModuleReference<T>): void {\n  const chunks = moduleData.chunks;\n  for (let i = 0; i < chunks.length; i++) {\n    const chunkId = chunks[i];\n    const entry = chunkCache.get(chunkId);\n    if (entry === undefined) {\n      const thenable = __webpack_chunk_load__(chunkId);\n      const resolve = chunkCache.set.bind(chunkCache, chunkId, null);\n      const reject = chunkCache.set.bind(chunkCache, chunkId);\n      thenable.then(resolve, reject);\n      chunkCache.set(chunkId, thenable);\n    }\n  }\n}\n\n// Actually require the module or suspend if it's not yet ready.\n// Increase priority if necessary.\nexport function requireModule<T>(moduleData: ModuleReference<T>): T {\n  const chunks = moduleData.chunks;\n  for (let i = 0; i < chunks.length; i++) {\n    const chunkId = chunks[i];\n    const entry = chunkCache.get(chunkId);\n    if (entry !== null) {\n      // We assume that preloadModule has been called before.\n      // So we don't expect to see entry being undefined here, that's an error.\n      // Let's throw either an error or the Promise.\n      throw entry;\n    }\n  }\n  return __webpack_require__(moduleData.id)[moduleData.name];\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_BLOCK_TYPE = 0xead9;\nexport let REACT_SERVER_BLOCK_TYPE = 0xeada;\nexport let REACT_FUNDAMENTAL_TYPE = 0xead5;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {BlockComponent, BlockRenderFunction} from 'react/src/ReactBlock';\nimport type {LazyComponent} from 'react/src/ReactLazy';\n\nimport type {\n  ModuleReference,\n  ModuleMetaData,\n  UninitializedModel,\n  Response,\n} from './ReactFlightClientHostConfig';\n\nimport {\n  resolveModuleReference,\n  preloadModule,\n  requireModule,\n  parseModel,\n} from './ReactFlightClientHostConfig';\n\nimport {\n  REACT_LAZY_TYPE,\n  REACT_BLOCK_TYPE,\n  REACT_ELEMENT_TYPE,\n} from 'shared/ReactSymbols';\n\nexport type JSONValue =\n  | number\n  | null\n  | boolean\n  | string\n  | {+[key: string]: JSONValue}\n  | $ReadOnlyArray<JSONValue>;\n\nconst PENDING = 0;\nconst RESOLVED_MODEL = 1;\nconst INITIALIZED = 2;\nconst ERRORED = 3;\n\ntype PendingChunk = {\n  _status: 0,\n  _value: null | Array<() => mixed>,\n  _response: Response,\n  then(resolve: () => mixed): void,\n};\ntype ResolvedModelChunk = {\n  _status: 1,\n  _value: UninitializedModel,\n  _response: Response,\n  then(resolve: () => mixed): void,\n};\ntype InitializedChunk<T> = {\n  _status: 2,\n  _value: T,\n  _response: Response,\n  then(resolve: () => mixed): void,\n};\ntype ErroredChunk = {\n  _status: 3,\n  _value: Error,\n  _response: Response,\n  then(resolve: () => mixed): void,\n};\ntype SomeChunk<T> =\n  | PendingChunk\n  | ResolvedModelChunk\n  | InitializedChunk<T>\n  | ErroredChunk;\n\nfunction Chunk(status: any, value: any, response: Response) {\n  this._status = status;\n  this._value = value;\n  this._response = response;\n}\nChunk.prototype.then = function<T>(resolve: () => mixed) {\n  const chunk: SomeChunk<T> = this;\n  if (chunk._status === PENDING) {\n    if (chunk._value === null) {\n      chunk._value = [];\n    }\n    chunk._value.push(resolve);\n  } else {\n    resolve();\n  }\n};\n\nexport type ResponseBase = {\n  _chunks: Map<number, SomeChunk<any>>,\n  readRoot<T>(): T,\n  ...\n};\n\nexport type {Response};\n\nfunction readChunk<T>(chunk: SomeChunk<T>): T {\n  switch (chunk._status) {\n    case INITIALIZED:\n      return chunk._value;\n    case RESOLVED_MODEL:\n      return initializeModelChunk(chunk);\n    case PENDING:\n      // eslint-disable-next-line no-throw-literal\n      throw (chunk: Wakeable);\n    default:\n      throw chunk._value;\n  }\n}\n\nfunction readRoot<T>(): T {\n  const response: Response = this;\n  const chunk = getChunk(response, 0);\n  return readChunk(chunk);\n}\n\nfunction createPendingChunk(response: Response): PendingChunk {\n  return new Chunk(PENDING, null, response);\n}\n\nfunction createErrorChunk(response: Response, error: Error): ErroredChunk {\n  return new Chunk(ERRORED, error, response);\n}\n\nfunction wakeChunk(listeners: null | Array<() => mixed>) {\n  if (listeners !== null) {\n    for (let i = 0; i < listeners.length; i++) {\n      const listener = listeners[i];\n      listener();\n    }\n  }\n}\n\nfunction triggerErrorOnChunk<T>(chunk: SomeChunk<T>, error: Error): void {\n  if (chunk._status !== PENDING) {\n    // We already resolved. We didn't expect to see this.\n    return;\n  }\n  const listeners = chunk._value;\n  const erroredChunk: ErroredChunk = (chunk: any);\n  erroredChunk._status = ERRORED;\n  erroredChunk._value = error;\n  wakeChunk(listeners);\n}\n\nfunction createResolvedModelChunk(\n  response: Response,\n  value: UninitializedModel,\n): ResolvedModelChunk {\n  return new Chunk(RESOLVED_MODEL, value, response);\n}\n\nfunction resolveModelChunk<T>(\n  chunk: SomeChunk<T>,\n  value: UninitializedModel,\n): void {\n  if (chunk._status !== PENDING) {\n    // We already resolved. We didn't expect to see this.\n    return;\n  }\n  const listeners = chunk._value;\n  const resolvedChunk: ResolvedModelChunk = (chunk: any);\n  resolvedChunk._status = RESOLVED_MODEL;\n  resolvedChunk._value = value;\n  wakeChunk(listeners);\n}\n\nfunction initializeModelChunk<T>(chunk: ResolvedModelChunk): T {\n  const value: T = parseModel(chunk._response, chunk._value);\n  const initializedChunk: InitializedChunk<T> = (chunk: any);\n  initializedChunk._status = INITIALIZED;\n  initializedChunk._value = value;\n  return value;\n}\n\n// Report that any missing chunks in the model is now going to throw this\n// error upon read. Also notify any pending promises.\nexport function reportGlobalError(response: Response, error: Error): void {\n  response._chunks.forEach(chunk => {\n    // If this chunk was already resolved or errored, it won't\n    // trigger an error but if it wasn't then we need to\n    // because we won't be getting any new data to resolve it.\n    triggerErrorOnChunk(chunk, error);\n  });\n}\n\nfunction readMaybeChunk<T>(maybeChunk: SomeChunk<T> | T): T {\n  if (maybeChunk == null || !(maybeChunk instanceof Chunk)) {\n    // $FlowFixMe\n    return maybeChunk;\n  }\n  const chunk: SomeChunk<T> = (maybeChunk: any);\n  return readChunk(chunk);\n}\n\nfunction createElement(type, key, props): React$Element<any> {\n  const element: any = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: null,\n    props: props,\n\n    // Record the component responsible for creating this element.\n    _owner: null,\n  };\n  if (__DEV__) {\n    // We don't really need to add any of these but keeping them for good measure.\n    // Unfortunately, _store is enumerable in jest matchers so for equality to\n    // work, I need to keep it or make _store non-enumerable in the other file.\n    element._store = {};\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: true, // This element has already been validated on the server.\n    });\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: null,\n    });\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: null,\n    });\n  }\n  return element;\n}\n\ntype UninitializedBlockPayload<Data> = [\n  mixed,\n  ModuleMetaData | SomeChunk<ModuleMetaData>,\n  Data | SomeChunk<Data>,\n  Response,\n];\n\nfunction initializeBlock<Props, Data>(\n  tuple: UninitializedBlockPayload<Data>,\n): BlockComponent<Props, Data> {\n  // Require module first and then data. The ordering matters.\n  const moduleMetaData: ModuleMetaData = readMaybeChunk(tuple[1]);\n  const moduleReference: ModuleReference<\n    BlockRenderFunction<Props, Data>,\n  > = resolveModuleReference(moduleMetaData);\n  // TODO: Do this earlier, as the chunk is resolved.\n  preloadModule(moduleReference);\n\n  const moduleExport = requireModule(moduleReference);\n\n  // The ordering here is important because this call might suspend.\n  // We don't want that to prevent the module graph for being initialized.\n  const data: Data = readMaybeChunk(tuple[2]);\n\n  return {\n    $$typeof: REACT_BLOCK_TYPE,\n    _status: -1,\n    _data: data,\n    _render: moduleExport,\n  };\n}\n\nfunction createLazyBlock<Props, Data>(\n  tuple: UninitializedBlockPayload<Data>,\n): LazyComponent<BlockComponent<Props, Data>, UninitializedBlockPayload<Data>> {\n  const lazyType: LazyComponent<\n    BlockComponent<Props, Data>,\n    UninitializedBlockPayload<Data>,\n  > = {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: tuple,\n    _init: initializeBlock,\n  };\n  return lazyType;\n}\n\nfunction getChunk(response: Response, id: number): SomeChunk<any> {\n  const chunks = response._chunks;\n  let chunk = chunks.get(id);\n  if (!chunk) {\n    chunk = createPendingChunk(response);\n    chunks.set(id, chunk);\n  }\n  return chunk;\n}\n\nexport function parseModelString(\n  response: Response,\n  parentObject: Object,\n  value: string,\n): any {\n  if (value[0] === '$') {\n    if (value === '$') {\n      return REACT_ELEMENT_TYPE;\n    } else if (value[1] === '$' || value[1] === '@') {\n      // This was an escaped string value.\n      return value.substring(1);\n    } else {\n      const id = parseInt(value.substring(1), 16);\n      const chunk = getChunk(response, id);\n      if (parentObject[0] === REACT_BLOCK_TYPE) {\n        // Block types know how to deal with lazy values.\n        return chunk;\n      }\n      // For anything else we must Suspend this block if\n      // we don't yet have the value.\n      return readChunk(chunk);\n    }\n  }\n  if (value === '@') {\n    return REACT_BLOCK_TYPE;\n  }\n  return value;\n}\n\nexport function parseModelTuple(\n  response: Response,\n  value: {+[key: string]: JSONValue} | $ReadOnlyArray<JSONValue>,\n): any {\n  const tuple: [mixed, mixed, mixed, mixed] = (value: any);\n  if (tuple[0] === REACT_ELEMENT_TYPE) {\n    // TODO: Consider having React just directly accept these arrays as elements.\n    // Or even change the ReactElement type to be an array.\n    return createElement(tuple[1], tuple[2], tuple[3]);\n  } else if (tuple[0] === REACT_BLOCK_TYPE) {\n    // TODO: Consider having React just directly accept these arrays as blocks.\n    return createLazyBlock((tuple: any));\n  }\n  return value;\n}\n\nexport function createResponse(): ResponseBase {\n  const chunks: Map<number, SomeChunk<any>> = new Map();\n  const response = {\n    _chunks: chunks,\n    readRoot: readRoot,\n  };\n  return response;\n}\n\nexport function resolveModel(\n  response: Response,\n  id: number,\n  model: UninitializedModel,\n): void {\n  const chunks = response._chunks;\n  const chunk = chunks.get(id);\n  if (!chunk) {\n    chunks.set(id, createResolvedModelChunk(response, model));\n  } else {\n    resolveModelChunk(chunk, model);\n  }\n}\n\nexport function resolveError(\n  response: Response,\n  id: number,\n  message: string,\n  stack: string,\n): void {\n  const error = new Error(message);\n  error.stack = stack;\n  const chunks = response._chunks;\n  const chunk = chunks.get(id);\n  if (!chunk) {\n    chunks.set(id, createErrorChunk(response, error));\n  } else {\n    triggerErrorOnChunk(chunk, error);\n  }\n}\n\nexport function close(response: Response): void {\n  // In case there are any remaining unresolved chunks, they won't\n  // be resolved now. So we need to issue an error to those.\n  // Ideally we should be able to early bail out if we kept a\n  // ref count of pending chunks.\n  reportGlobalError(response, new Error('Connection closed.'));\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Response} from './ReactFlightClientHostConfigStream';\n\nimport {\n  resolveModel,\n  resolveError,\n  createResponse as createResponseBase,\n  parseModelString,\n  parseModelTuple,\n} from './ReactFlightClient';\n\nimport {\n  readPartialStringChunk,\n  readFinalStringChunk,\n  supportsBinaryStreams,\n  createStringDecoder,\n} from './ReactFlightClientHostConfig';\n\nexport type {Response};\n\nfunction processFullRow(response: Response, row: string): void {\n  if (row === '') {\n    return;\n  }\n  const tag = row[0];\n  switch (tag) {\n    case 'J': {\n      const colon = row.indexOf(':', 1);\n      const id = parseInt(row.substring(1, colon), 16);\n      const json = row.substring(colon + 1);\n      resolveModel(response, id, json);\n      return;\n    }\n    case 'E': {\n      const colon = row.indexOf(':', 1);\n      const id = parseInt(row.substring(1, colon), 16);\n      const json = row.substring(colon + 1);\n      const errorInfo = JSON.parse(json);\n      resolveError(response, id, errorInfo.message, errorInfo.stack);\n      return;\n    }\n    default: {\n      // Assume this is the root model.\n      resolveModel(response, 0, row);\n      return;\n    }\n  }\n}\n\nexport function processStringChunk(\n  response: Response,\n  chunk: string,\n  offset: number,\n): void {\n  let linebreak = chunk.indexOf('\\n', offset);\n  while (linebreak > -1) {\n    const fullrow = response._partialRow + chunk.substring(offset, linebreak);\n    processFullRow(response, fullrow);\n    response._partialRow = '';\n    offset = linebreak + 1;\n    linebreak = chunk.indexOf('\\n', offset);\n  }\n  response._partialRow += chunk.substring(offset);\n}\n\nexport function processBinaryChunk(\n  response: Response,\n  chunk: Uint8Array,\n): void {\n  if (!supportsBinaryStreams) {\n    throw new Error(\"This environment don't support binary chunks.\");\n  }\n  const stringDecoder = response._stringDecoder;\n  let linebreak = chunk.indexOf(10); // newline\n  while (linebreak > -1) {\n    const fullrow =\n      response._partialRow +\n      readFinalStringChunk(stringDecoder, chunk.subarray(0, linebreak));\n    processFullRow(response, fullrow);\n    response._partialRow = '';\n    chunk = chunk.subarray(linebreak + 1);\n    linebreak = chunk.indexOf(10); // newline\n  }\n  response._partialRow += readPartialStringChunk(stringDecoder, chunk);\n}\n\nfunction createFromJSONCallback(response: Response) {\n  return function(key: string, value: JSONValue) {\n    if (typeof value === 'string') {\n      // We can't use .bind here because we need the \"this\" value.\n      return parseModelString(response, this, value);\n    }\n    if (typeof value === 'object' && value !== null) {\n      return parseModelTuple(response, value);\n    }\n    return value;\n  };\n}\n\nexport function createResponse(): Response {\n  // NOTE: CHECK THE COMPILER OUTPUT EACH TIME YOU CHANGE THIS.\n  // It should be inlined to one object literal but minor changes can break it.\n  const stringDecoder = supportsBinaryStreams ? createStringDecoder() : null;\n  const response: any = createResponseBase();\n  response._partialRow = '';\n  if (supportsBinaryStreams) {\n    response._stringDecoder = stringDecoder;\n  }\n  // Don't inline this call because it causes closure to outline the call above.\n  response._fromJSON = createFromJSONCallback(response);\n  return response;\n}\n\nexport {reportGlobalError, close} from './ReactFlightClient';\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Response as FlightResponse} from 'react-client/src/ReactFlightClientStream';\n\nimport {\n  createResponse,\n  reportGlobalError,\n  processStringChunk,\n  processBinaryChunk,\n  close,\n} from 'react-client/src/ReactFlightClientStream';\n\nfunction startReadingFromStream(\n  response: FlightResponse,\n  stream: ReadableStream,\n): void {\n  const reader = stream.getReader();\n  function progress({done, value}) {\n    if (done) {\n      close(response);\n      return;\n    }\n    const buffer: Uint8Array = (value: any);\n    processBinaryChunk(response, buffer);\n    return reader.read().then(progress, error);\n  }\n  function error(e) {\n    reportGlobalError(response, e);\n  }\n  reader.read().then(progress, error);\n}\n\nfunction createFromReadableStream(stream: ReadableStream): FlightResponse {\n  const response: FlightResponse = createResponse();\n  startReadingFromStream(response, stream);\n  return response;\n}\n\nfunction createFromFetch(\n  promiseForResponse: Promise<Response>,\n): FlightResponse {\n  const response: FlightResponse = createResponse();\n  promiseForResponse.then(\n    function(r) {\n      startReadingFromStream(response, (r.body: any));\n    },\n    function(e) {\n      reportGlobalError(response, e);\n    },\n  );\n  return response;\n}\n\nfunction createFromXHR(request: XMLHttpRequest): FlightResponse {\n  const response: FlightResponse = createResponse();\n  let processedLength = 0;\n  function progress(e: ProgressEvent): void {\n    const chunk = request.responseText;\n    processStringChunk(response, chunk, processedLength);\n    processedLength = chunk.length;\n  }\n  function load(e: ProgressEvent): void {\n    progress(e);\n    close(response);\n  }\n  function error(e: ProgressEvent): void {\n    reportGlobalError(response, new TypeError('Network error'));\n  }\n  request.addEventListener('progress', progress);\n  request.addEventListener('load', load);\n  request.addEventListener('error', error);\n  request.addEventListener('abort', error);\n  request.addEventListener('timeout', error);\n  return response;\n}\n\nexport {createFromXHR, createFromFetch, createFromReadableStream};\n"],"names":["createStringDecoder","TextDecoder","decoderOptions","stream","readPartialStringChunk","decoder","buffer","decode","readFinalStringChunk","parseModel","response","json","JSON","parse","_fromJSON","resolveModuleReference","moduleData","chunkCache","Map","preloadModule","chunks","i","length","chunkId","entry","get","undefined","thenable","__webpack_chunk_load__","resolve","set","bind","reject","then","requireModule","__webpack_require__","id","name","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_SERVER_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_SCOPE_TYPE","REACT_OPAQUE_ID_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","Symbol","for","symbolFor","PENDING","RESOLVED_MODEL","INITIALIZED","ERRORED","Chunk","status","value","_status","_value","_response","prototype","chunk","push","readChunk","initializeModelChunk","readRoot","getChunk","createPendingChunk","createErrorChunk","error","wakeChunk","listeners","listener","triggerErrorOnChunk","erroredChunk","createResolvedModelChunk","resolveModelChunk","resolvedChunk","initializedChunk","reportGlobalError","_chunks","forEach","readMaybeChunk","maybeChunk","createElement","type","key","props","element","$$typeof","ref","_owner","_store","Object","defineProperty","configurable","enumerable","writable","initializeBlock","tuple","moduleMetaData","moduleReference","moduleExport","data","_data","_render","createLazyBlock","lazyType","_payload","_init","parseModelString","parentObject","substring","parseInt","parseModelTuple","createResponse","resolveModel","model","resolveError","message","stack","Error","close","processFullRow","row","tag","colon","indexOf","errorInfo","processStringChunk","offset","linebreak","fullrow","_partialRow","processBinaryChunk","stringDecoder","_stringDecoder","subarray","createFromJSONCallback","supportsBinaryStreams","createResponseBase","startReadingFromStream","reader","getReader","progress","done","read","e","createFromReadableStream","createFromFetch","promiseForResponse","r","body","createFromXHR","request","processedLength","responseText","load","TypeError","addEventListener"],"mappings":"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"}