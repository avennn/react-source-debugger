{"version":3,"file":"react-dom-server.browser.production.min.js","sources":["../../../../packages/shared/formatProdErrorMessage.js","../../../../packages/shared/ReactVersion.js","../../../../packages/shared/ReactSymbols.js","../../../../packages/shared/getComponentName.js","../../../../packages/shared/ReactFeatureFlags.js","../../../../packages/shared/ReactSharedInternals.js","../../../../packages/shared/ReactComponentStackFrame.js","../../../../packages/shared/checkPropTypes.js","../../../../packages/react-dom/src/server/ReactPartialRendererContext.js","../../../../packages/react-dom/src/server/ReactThreadIDAllocator.js","../../../../packages/react-dom/src/shared/DOMProperty.js","../../../../packages/react-dom/src/server/escapeTextForBrowser.js","../../../../packages/react-dom/src/server/quoteAttributeValueForBrowser.js","../../../../packages/react-dom/src/server/DOMMarkupOperations.js","../../../../packages/shared/objectIs.js","../../../../packages/react-dom/src/server/ReactPartialRendererHooks.js","../../../../packages/react-dom/src/shared/DOMNamespaces.js","../../../../packages/react-dom/src/shared/omittedCloseTags.js","../../../../packages/react-dom/src/shared/voidElementTags.js","../../../../packages/react-dom/src/shared/assertValidProps.js","../../../../packages/react-dom/src/shared/CSSProperty.js","../../../../packages/react-dom/src/shared/dangerousStyleValue.js","../../../../packages/react-dom/src/shared/hyphenateStyleName.js","../../../../packages/react-dom/src/shared/isCustomComponent.js","../../../../packages/react-dom/src/server/ReactPartialRenderer.js","../../../../packages/react-dom/src/server/ReactDOMStringRenderer.js","../../../../packages/react-dom/src/server/ReactDOMServerBrowser.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n// Do not require this module directly! Use normal `invariant` calls with\n// template literal strings. The messages will be replaced with error codes\n// during build.\n\nfunction formatProdErrorMessage(code) {\n  let url = 'https://reactjs.org/docs/error-decoder.html?invariant=' + code;\n  for (let i = 1; i < arguments.length; i++) {\n    url += '&args[]=' + encodeURIComponent(arguments[i]);\n  }\n  return (\n    `Minified React error #${code}; visit ${url} for the full message or ` +\n    'use the non-minified dev environment for full errors and additional ' +\n    'helpful warnings.'\n  );\n}\n\nexport default formatProdErrorMessage;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// TODO: this is special because it gets imported during build.\nexport default '17.0.0';\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_BLOCK_TYPE = 0xead9;\nexport let REACT_SERVER_BLOCK_TYPE = 0xeada;\nexport let REACT_FUNDAMENTAL_TYPE = 0xead5;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {LazyComponent} from 'react/src/ReactLazy';\n\nimport {\n  REACT_CONTEXT_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_PROVIDER_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_LAZY_TYPE,\n  REACT_BLOCK_TYPE,\n} from 'shared/ReactSymbols';\nimport type {ReactContext, ReactProviderType} from 'shared/ReactTypes';\n\nfunction getWrappedName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n): string {\n  const functionName = innerType.displayName || innerType.name || '';\n  return (\n    (outerType: any).displayName ||\n    (functionName !== '' ? `${wrapperName}(${functionName})` : wrapperName)\n  );\n}\n\nfunction getContextName(type: ReactContext<any>) {\n  return type.displayName || 'Context';\n}\n\nfunction getComponentName(type: mixed): string | null {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n  if (__DEV__) {\n    if (typeof (type: any).tag === 'number') {\n      console.error(\n        'Received an unexpected object in getComponentName(). ' +\n          'This is likely a bug in React. Please file an issue.',\n      );\n    }\n  }\n  if (typeof type === 'function') {\n    return (type: any).displayName || type.name || null;\n  }\n  if (typeof type === 'string') {\n    return type;\n  }\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        const context: ReactContext<any> = (type: any);\n        return getContextName(context) + '.Consumer';\n      case REACT_PROVIDER_TYPE:\n        const provider: ReactProviderType<any> = (type: any);\n        return getContextName(provider._context) + '.Provider';\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n      case REACT_MEMO_TYPE:\n        return getComponentName(type.type);\n      case REACT_BLOCK_TYPE:\n        return getComponentName(type._render);\n      case REACT_LAZY_TYPE: {\n        const lazyComponent: LazyComponent<any, any> = (type: any);\n        const payload = lazyComponent._payload;\n        const init = lazyComponent._init;\n        try {\n          return getComponentName(init(payload));\n        } catch (x) {\n          return null;\n        }\n      }\n    }\n  }\n  return null;\n}\n\nexport default getComponentName;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n */\n\n// Filter certain DOM attributes (e.g. src, href) if their values are empty strings.\n// This prevents e.g. <img src=\"\"> from making an unnecessary HTTP request for certain browsers.\nexport const enableFilterEmptyStringAttributesDOM = false;\n\n// Adds verbose console logging for e.g. state updates, suspense, and work loop stuff.\n// Intended to enable React core members to more easily debug scheduling issues in DEV builds.\nexport const enableDebugTracing = false;\n\n// Adds user timing marks for e.g. state updates, suspense, and work loop stuff,\n// for an experimental scheduling profiler tool.\nexport const enableSchedulingProfiler = __PROFILE__ && __EXPERIMENTAL__;\n\n// Helps identify side effects in render-phase lifecycle hooks and setState\n// reducers by double invoking them in Strict Mode.\nexport const debugRenderPhaseSideEffectsForStrictMode = __DEV__;\n\n// To preserve the \"Pause on caught exceptions\" behavior of the debugger, we\n// replay the begin phase of a failed component inside invokeGuardedCallback.\nexport const replayFailedUnitOfWorkWithInvokeGuardedCallback = __DEV__;\n\n// Warn about deprecated, async-unsafe lifecycles; relates to RFC #6:\nexport const warnAboutDeprecatedLifecycles = true;\n\n// Gather advanced timing metrics for Profiler subtrees.\nexport const enableProfilerTimer = __PROFILE__;\n\n// Record durations for commit and passive effects phases.\nexport const enableProfilerCommitHooks = false;\n\n// Trace which interactions trigger each commit.\nexport const enableSchedulerTracing = __PROFILE__;\n\n// SSR experiments\nexport const enableSuspenseServerRenderer = __EXPERIMENTAL__;\nexport const enableSelectiveHydration = __EXPERIMENTAL__;\n\n// Flight experiments\nexport const enableBlocksAPI = __EXPERIMENTAL__;\nexport const enableLazyElements = __EXPERIMENTAL__;\n\n// Only used in www builds.\nexport const enableSchedulerDebugging = false;\n\n// Disable javascript: URL strings in href for XSS protection.\nexport const disableJavaScriptURLs = false;\n\n// Experimental Host Component support.\nexport const enableFundamentalAPI = false;\n\n// Experimental Scope support.\nexport const enableScopeAPI = false;\n\n// Experimental Create Event Handle API.\nexport const enableCreateEventHandleAPI = false;\n\n// New API for JSX transforms to target - https://github.com/reactjs/rfcs/pull/107\n\n// We will enforce mocking scheduler with scheduler/unstable_mock at some point. (v18?)\n// Till then, we warn about the missing mock, but still fallback to a legacy mode compatible version\nexport const warnAboutUnmockedScheduler = false;\n\n// Add a callback property to suspense to notify which promises are currently\n// in the update queue. This allows reporting and tracing of what is causing\n// the user to see a loading state.\n// Also allows hydration callbacks to fire when a dehydrated boundary gets\n// hydrated or deleted.\nexport const enableSuspenseCallback = false;\n\n// Part of the simplification of React.createElement so we can eventually move\n// from React.createElement to React.jsx\n// https://github.com/reactjs/rfcs/blob/createlement-rfc/text/0000-create-element-changes.md\nexport const warnAboutDefaultPropsOnFunctionComponents = false;\n\nexport const disableSchedulerTimeoutBasedOnReactExpirationTime = false;\n\nexport const enableTrustedTypesIntegration = false;\n\n// Enables a warning when trying to spread a 'key' to an element;\n// a deprecated pattern we want to get rid of in the future\nexport const warnAboutSpreadingKeyToJSX = false;\n\nexport const enableComponentStackLocations = true;\n\nexport const enableNewReconciler = false;\n\n// Errors that are thrown while unmounting (or after in the case of passive effects)\n// should bypass any error boundaries that are also unmounting (or have unmounted)\n// and be handled by the nearest still-mounted boundary.\n// If there are no still-mounted boundaries, the errors should be rethrown.\nexport const skipUnmountedBoundaries = false;\n\n// --------------------------\n// Future APIs to be deprecated\n// --------------------------\n\n// Prevent the value and checked attributes from syncing\n// with their related DOM properties\nexport const disableInputAttributeSyncing = false;\n\nexport const warnAboutStringRefs = false;\n\nexport const disableLegacyContext = false;\n\n// Disables children for <textarea> elements\nexport const disableTextareaChildren = false;\n\nexport const disableModulePatternComponents = false;\n\n// We should remove this flag once the above flag becomes enabled\nexport const warnUnstableRenderSubtreeIntoContainer = false;\n\n// Support legacy Primer support on internal FB www\nexport const enableLegacyFBSupport = false;\n\n// Updates that occur in the render phase are not officially supported. But when\n// they do occur, we defer them to a subsequent render by picking a lane that's\n// not currently rendering. We treat them the same as if they came from an\n// interleaved event. Remove this flag once we have migrated to the\n// new behavior.\nexport const deferRenderPhaseUpdateToNextBatch = true;\n\n// Replacement for runWithPriority in React internals.\nexport const decoupleUpdatePriorityFromScheduler = false;\n\nexport const enableDiscreteEventFlushingChange = false;\n\nexport const enableEagerRootListeners = true;\n\nexport const enableDoubleInvokingEffects = false;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactSharedInternals =\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Source} from 'shared/ReactElementType';\nimport type {LazyComponent} from 'react/src/ReactLazy';\n\nimport {enableComponentStackLocations} from 'shared/ReactFeatureFlags';\n\nimport {\n  REACT_SUSPENSE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_BLOCK_TYPE,\n  REACT_LAZY_TYPE,\n} from 'shared/ReactSymbols';\n\nimport {disableLogs, reenableLogs} from 'shared/ConsolePatchingDev';\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\nconst {ReactCurrentDispatcher} = ReactSharedInternals;\n\nlet prefix;\nexport function describeBuiltInComponentFrame(\n  name: string,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n): string {\n  if (enableComponentStackLocations) {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        const match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = (match && match[1]) || '';\n      }\n    }\n    // We use the prefix to ensure our stacks line up with native stack frames.\n    return '\\n' + prefix + name;\n  } else {\n    let ownerName = null;\n    if (__DEV__ && ownerFn) {\n      ownerName = ownerFn.displayName || ownerFn.name || null;\n    }\n    return describeComponentFrame(name, source, ownerName);\n  }\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  let control;\n\n  reentry = true;\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe It does accept undefined.\n  Error.prepareStackTrace = undefined;\n  let previousDispatcher;\n  if (__DEV__) {\n    previousDispatcher = ReactCurrentDispatcher.current;\n    // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      const Fake = function() {\n        throw Error();\n      };\n      // $FlowFixMe\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function() {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        },\n      });\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sample.stack.split('\\n');\n      const controlLines = control.stack.split('\\n');\n      let s = sampleLines.length - 1;\n      let c = controlLines.length - 1;\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                const frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n    if (__DEV__) {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nconst BEFORE_SLASH_RE = /^(.*)[\\\\\\/]/;\n\nfunction describeComponentFrame(\n  name: null | string,\n  source: void | null | Source,\n  ownerName: null | string,\n) {\n  let sourceInfo = '';\n  if (__DEV__ && source) {\n    const path = source.fileName;\n    let fileName = path.replace(BEFORE_SLASH_RE, '');\n    // In DEV, include code for a common special case:\n    // prefer \"folder/index.js\" instead of just \"index.js\".\n    if (/^index\\./.test(fileName)) {\n      const match = path.match(BEFORE_SLASH_RE);\n      if (match) {\n        const pathBeforeSlash = match[1];\n        if (pathBeforeSlash) {\n          const folderName = pathBeforeSlash.replace(BEFORE_SLASH_RE, '');\n          fileName = folderName + '/' + fileName;\n        }\n      }\n    }\n    sourceInfo = ' (at ' + fileName + ':' + source.lineNumber + ')';\n  } else if (ownerName) {\n    sourceInfo = ' (created by ' + ownerName + ')';\n  }\n  return '\\n    in ' + (name || 'Unknown') + sourceInfo;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n): string {\n  if (enableComponentStackLocations) {\n    return describeNativeComponentFrame(ctor, true);\n  } else {\n    return describeFunctionComponentFrame(ctor, source, ownerFn);\n  }\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n): string {\n  if (enableComponentStackLocations) {\n    return describeNativeComponentFrame(fn, false);\n  } else {\n    if (!fn) {\n      return '';\n    }\n    const name = fn.displayName || fn.name || null;\n    let ownerName = null;\n    if (__DEV__ && ownerFn) {\n      ownerName = ownerFn.displayName || ownerFn.name || null;\n    }\n    return describeComponentFrame(name, source, ownerName);\n  }\n}\n\nfunction shouldConstruct(Component: Function) {\n  const prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nexport function describeUnknownElementTypeFrameInDEV(\n  type: any,\n  source: void | null | Source,\n  ownerFn: void | null | Function,\n): string {\n  if (!__DEV__) {\n    return '';\n  }\n  if (type == null) {\n    return '';\n  }\n  if (typeof type === 'function') {\n    if (enableComponentStackLocations) {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    } else {\n      return describeFunctionComponentFrame(type, source, ownerFn);\n    }\n  }\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type, source, ownerFn);\n  }\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense', source, ownerFn);\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList', source, ownerFn);\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render, source, ownerFn);\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n      case REACT_BLOCK_TYPE:\n        return describeFunctionComponentFrame(type._render, source, ownerFn);\n      case REACT_LAZY_TYPE: {\n        const lazyComponent: LazyComponent<any, any> = (type: any);\n        const payload = lazyComponent._payload;\n        const init = lazyComponent._init;\n        try {\n          // Lazy may contain any component type so we recursively resolve it.\n          return describeUnknownElementTypeFrameInDEV(\n            init(payload),\n            source,\n            ownerFn,\n          );\n        } catch (x) {}\n      }\n    }\n  }\n  return '';\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst loggedTypeFailures = {};\n\nimport {describeUnknownElementTypeFrameInDEV} from 'shared/ReactComponentStackFrame';\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\nconst ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  if (__DEV__) {\n    if (element) {\n      const owner = element._owner;\n      const stack = describeUnknownElementTypeFrameInDEV(\n        element.type,\n        element._source,\n        owner ? owner.type : null,\n      );\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nexport default function checkPropTypes(\n  typeSpecs: Object,\n  values: Object,\n  location: string,\n  componentName: ?string,\n  element?: any,\n): void {\n  if (__DEV__) {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    const has = Function.call.bind(Object.prototype.hasOwnProperty);\n    for (const typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        let error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            const err = Error(\n              (componentName || 'React class') +\n                ': ' +\n                location +\n                ' type `' +\n                typeSpecName +\n                '` is invalid; ' +\n                'it must be a function, usually from the `prop-types` package, but received `' +\n                typeof typeSpecs[typeSpecName] +\n                '`.' +\n                'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.',\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](\n            values,\n            typeSpecName,\n            componentName,\n            location,\n            null,\n            'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED',\n          );\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n          console.error(\n            '%s: type specification of %s' +\n              ' `%s` is invalid; the type checker ' +\n              'function must return `null` or an `Error` but returned a %s. ' +\n              'You may have forgotten to pass an argument to the type checker ' +\n              'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n              'shape all require an argument).',\n            componentName || 'React class',\n            location,\n            typeSpecName,\n            typeof error,\n          );\n          setCurrentlyValidatingElement(null);\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          setCurrentlyValidatingElement(element);\n          console.error('Failed %s type: %s', location, error.message);\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ThreadID} from './ReactThreadIDAllocator';\nimport type {ReactContext} from 'shared/ReactTypes';\n\nimport {disableLegacyContext} from 'shared/ReactFeatureFlags';\nimport {REACT_CONTEXT_TYPE, REACT_PROVIDER_TYPE} from 'shared/ReactSymbols';\nimport getComponentName from 'shared/getComponentName';\nimport checkPropTypes from 'shared/checkPropTypes';\n\nlet didWarnAboutInvalidateContextType;\nif (__DEV__) {\n  didWarnAboutInvalidateContextType = new Set();\n}\n\nexport const emptyObject = {};\nif (__DEV__) {\n  Object.freeze(emptyObject);\n}\n\nfunction maskContext(type, context) {\n  const contextTypes = type.contextTypes;\n  if (!contextTypes) {\n    return emptyObject;\n  }\n  const maskedContext = {};\n  for (const contextName in contextTypes) {\n    maskedContext[contextName] = context[contextName];\n  }\n  return maskedContext;\n}\n\nfunction checkContextTypes(typeSpecs, values, location: string) {\n  if (__DEV__) {\n    checkPropTypes(typeSpecs, values, location, 'Component');\n  }\n}\n\nexport function validateContextBounds(\n  context: ReactContext<any>,\n  threadID: ThreadID,\n) {\n  // If we don't have enough slots in this context to store this threadID,\n  // fill it in without leaving any holes to ensure that the VM optimizes\n  // this as non-holey index properties.\n  // (Note: If `react` package is < 16.6, _threadCount is undefined.)\n  for (let i = context._threadCount | 0; i <= threadID; i++) {\n    // We assume that this is the same as the defaultValue which might not be\n    // true if we're rendering inside a secondary renderer but they are\n    // secondary because these use cases are very rare.\n    context[i] = context._currentValue2;\n    context._threadCount = i + 1;\n  }\n}\n\nexport function processContext(\n  type: Function,\n  context: Object,\n  threadID: ThreadID,\n  isClass: boolean,\n) {\n  if (isClass) {\n    const contextType = type.contextType;\n    if (__DEV__) {\n      if ('contextType' in (type: any)) {\n        const isValid =\n          // Allow null for conditional declaration\n          contextType === null ||\n          (contextType !== undefined &&\n            contextType.$$typeof === REACT_CONTEXT_TYPE &&\n            contextType._context === undefined); // Not a <Context.Consumer>\n\n        if (!isValid && !didWarnAboutInvalidateContextType.has(type)) {\n          didWarnAboutInvalidateContextType.add(type);\n\n          let addendum = '';\n          if (contextType === undefined) {\n            addendum =\n              ' However, it is set to undefined. ' +\n              'This can be caused by a typo or by mixing up named and default imports. ' +\n              'This can also happen due to a circular dependency, so ' +\n              'try moving the createContext() call to a separate file.';\n          } else if (typeof contextType !== 'object') {\n            addendum = ' However, it is set to a ' + typeof contextType + '.';\n          } else if (contextType.$$typeof === REACT_PROVIDER_TYPE) {\n            addendum =\n              ' Did you accidentally pass the Context.Provider instead?';\n          } else if (contextType._context !== undefined) {\n            // <Context.Consumer>\n            addendum =\n              ' Did you accidentally pass the Context.Consumer instead?';\n          } else {\n            addendum =\n              ' However, it is set to an object with keys {' +\n              Object.keys(contextType).join(', ') +\n              '}.';\n          }\n          console.error(\n            '%s defines an invalid contextType. ' +\n              'contextType should point to the Context object returned by React.createContext().%s',\n            getComponentName(type) || 'Component',\n            addendum,\n          );\n        }\n      }\n    }\n    if (typeof contextType === 'object' && contextType !== null) {\n      validateContextBounds(contextType, threadID);\n      return contextType[threadID];\n    }\n    if (disableLegacyContext) {\n      if (__DEV__) {\n        if (type.contextTypes) {\n          console.error(\n            '%s uses the legacy contextTypes API which is no longer supported. ' +\n              'Use React.createContext() with static contextType instead.',\n            getComponentName(type) || 'Unknown',\n          );\n        }\n      }\n      return emptyObject;\n    } else {\n      const maskedContext = maskContext(type, context);\n      if (__DEV__) {\n        if (type.contextTypes) {\n          checkContextTypes(type.contextTypes, maskedContext, 'context');\n        }\n      }\n      return maskedContext;\n    }\n  } else {\n    if (disableLegacyContext) {\n      if (__DEV__) {\n        if (type.contextTypes) {\n          console.error(\n            '%s uses the legacy contextTypes API which is no longer supported. ' +\n              'Use React.createContext() with React.useContext() instead.',\n            getComponentName(type) || 'Unknown',\n          );\n        }\n      }\n      return undefined;\n    } else {\n      const maskedContext = maskContext(type, context);\n      if (__DEV__) {\n        if (type.contextTypes) {\n          checkContextTypes(type.contextTypes, maskedContext, 'context');\n        }\n      }\n      return maskedContext;\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Allocates a new index for each request. Tries to stay as compact as possible so that these\n// indices can be used to reference a tightly packed array. As opposed to being used in a Map.\n// The first allocated index is 1.\n\nimport invariant from 'shared/invariant';\n\nexport type ThreadID = number;\n\nlet nextAvailableThreadIDs = new Uint16Array(16);\nfor (let i = 0; i < 15; i++) {\n  nextAvailableThreadIDs[i] = i + 1;\n}\nnextAvailableThreadIDs[15] = 0;\n\nfunction growThreadCountAndReturnNextAvailable() {\n  const oldArray = nextAvailableThreadIDs;\n  const oldSize = oldArray.length;\n  const newSize = oldSize * 2;\n  invariant(\n    newSize <= 0x10000,\n    'Maximum number of concurrent React renderers exceeded. ' +\n      'This can happen if you are not properly destroying the Readable provided by React. ' +\n      'Ensure that you call .destroy() on it if you no longer want to read from it, ' +\n      'and did not read to the end. If you use .pipe() this should be automatic.',\n  );\n  const newArray = new Uint16Array(newSize);\n  newArray.set(oldArray);\n  nextAvailableThreadIDs = newArray;\n  nextAvailableThreadIDs[0] = oldSize + 1;\n  for (let i = oldSize; i < newSize - 1; i++) {\n    nextAvailableThreadIDs[i] = i + 1;\n  }\n  nextAvailableThreadIDs[newSize - 1] = 0;\n  return oldSize;\n}\n\nexport function allocThreadID(): ThreadID {\n  const nextID = nextAvailableThreadIDs[0];\n  if (nextID === 0) {\n    return growThreadCountAndReturnNextAvailable();\n  }\n  nextAvailableThreadIDs[0] = nextAvailableThreadIDs[nextID];\n  return nextID;\n}\n\nexport function freeThreadID(id: ThreadID) {\n  nextAvailableThreadIDs[id] = nextAvailableThreadIDs[0];\n  nextAvailableThreadIDs[0] = id;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {enableFilterEmptyStringAttributesDOM} from 'shared/ReactFeatureFlags';\n\ntype PropertyType = 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\n// A reserved attribute.\n// It is handled by React separately and shouldn't be written to the DOM.\nexport const RESERVED = 0;\n\n// A simple string attribute.\n// Attributes that aren't in the filter are presumed to have this type.\nexport const STRING = 1;\n\n// A string attribute that accepts booleans in React. In HTML, these are called\n// \"enumerated\" attributes with \"true\" and \"false\" as possible values.\n// When true, it should be set to a \"true\" string.\n// When false, it should be set to a \"false\" string.\nexport const BOOLEANISH_STRING = 2;\n\n// A real boolean attribute.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\nexport const BOOLEAN = 3;\n\n// An attribute that can be used as a flag as well as with a value.\n// When true, it should be present (set either to an empty string or its name).\n// When false, it should be omitted.\n// For any other value, should be present with that value.\nexport const OVERLOADED_BOOLEAN = 4;\n\n// An attribute that must be numeric or parse as a numeric.\n// When falsy, it should be removed.\nexport const NUMERIC = 5;\n\n// An attribute that must be positive numeric or parse as a positive numeric.\n// When falsy, it should be removed.\nexport const POSITIVE_NUMERIC = 6;\n\nexport type PropertyInfo = {|\n  +acceptsBooleans: boolean,\n  +attributeName: string,\n  +attributeNamespace: string | null,\n  +mustUseProperty: boolean,\n  +propertyName: string,\n  +type: PropertyType,\n  +sanitizeURL: boolean,\n  +removeEmptyString: boolean,\n|};\n\n/* eslint-disable max-len */\nexport const ATTRIBUTE_NAME_START_CHAR =\n  ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n/* eslint-enable max-len */\nexport const ATTRIBUTE_NAME_CHAR =\n  ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\nexport const ID_ATTRIBUTE_NAME = 'data-reactid';\nexport const ROOT_ATTRIBUTE_NAME = 'data-reactroot';\nexport const VALID_ATTRIBUTE_NAME_REGEX = new RegExp(\n  '^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$',\n);\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst illegalAttributeNameCache = {};\nconst validatedAttributeNameCache = {};\n\nexport function isAttributeNameSafe(attributeName: string): boolean {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName)) {\n    return true;\n  }\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) {\n    return false;\n  }\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)) {\n    validatedAttributeNameCache[attributeName] = true;\n    return true;\n  }\n  illegalAttributeNameCache[attributeName] = true;\n  if (__DEV__) {\n    console.error('Invalid attribute name: `%s`', attributeName);\n  }\n  return false;\n}\n\nexport function shouldIgnoreAttribute(\n  name: string,\n  propertyInfo: PropertyInfo | null,\n  isCustomComponentTag: boolean,\n): boolean {\n  if (propertyInfo !== null) {\n    return propertyInfo.type === RESERVED;\n  }\n  if (isCustomComponentTag) {\n    return false;\n  }\n  if (\n    name.length > 2 &&\n    (name[0] === 'o' || name[0] === 'O') &&\n    (name[1] === 'n' || name[1] === 'N')\n  ) {\n    return true;\n  }\n  return false;\n}\n\nexport function shouldRemoveAttributeWithWarning(\n  name: string,\n  value: mixed,\n  propertyInfo: PropertyInfo | null,\n  isCustomComponentTag: boolean,\n): boolean {\n  if (propertyInfo !== null && propertyInfo.type === RESERVED) {\n    return false;\n  }\n  switch (typeof value) {\n    case 'function':\n    // $FlowIssue symbol is perfectly valid here\n    case 'symbol': // eslint-disable-line\n      return true;\n    case 'boolean': {\n      if (isCustomComponentTag) {\n        return false;\n      }\n      if (propertyInfo !== null) {\n        return !propertyInfo.acceptsBooleans;\n      } else {\n        const prefix = name.toLowerCase().slice(0, 5);\n        return prefix !== 'data-' && prefix !== 'aria-';\n      }\n    }\n    default:\n      return false;\n  }\n}\n\nexport function shouldRemoveAttribute(\n  name: string,\n  value: mixed,\n  propertyInfo: PropertyInfo | null,\n  isCustomComponentTag: boolean,\n): boolean {\n  if (value === null || typeof value === 'undefined') {\n    return true;\n  }\n  if (\n    shouldRemoveAttributeWithWarning(\n      name,\n      value,\n      propertyInfo,\n      isCustomComponentTag,\n    )\n  ) {\n    return true;\n  }\n  if (isCustomComponentTag) {\n    return false;\n  }\n  if (propertyInfo !== null) {\n    if (enableFilterEmptyStringAttributesDOM) {\n      if (propertyInfo.removeEmptyString && value === '') {\n        if (__DEV__) {\n          if (name === 'src') {\n            console.error(\n              'An empty string (\"\") was passed to the %s attribute. ' +\n                'This may cause the browser to download the whole page again over the network. ' +\n                'To fix this, either do not render the element at all ' +\n                'or pass null to %s instead of an empty string.',\n              name,\n              name,\n            );\n          } else {\n            console.error(\n              'An empty string (\"\") was passed to the %s attribute. ' +\n                'To fix this, either do not render the element at all ' +\n                'or pass null to %s instead of an empty string.',\n              name,\n              name,\n            );\n          }\n        }\n        return true;\n      }\n    }\n\n    switch (propertyInfo.type) {\n      case BOOLEAN:\n        return !value;\n      case OVERLOADED_BOOLEAN:\n        return value === false;\n      case NUMERIC:\n        return isNaN(value);\n      case POSITIVE_NUMERIC:\n        return isNaN(value) || (value: any) < 1;\n    }\n  }\n  return false;\n}\n\nexport function getPropertyInfo(name: string): PropertyInfo | null {\n  return properties.hasOwnProperty(name) ? properties[name] : null;\n}\n\nfunction PropertyInfoRecord(\n  name: string,\n  type: PropertyType,\n  mustUseProperty: boolean,\n  attributeName: string,\n  attributeNamespace: string | null,\n  sanitizeURL: boolean,\n  removeEmptyString: boolean,\n) {\n  this.acceptsBooleans =\n    type === BOOLEANISH_STRING ||\n    type === BOOLEAN ||\n    type === OVERLOADED_BOOLEAN;\n  this.attributeName = attributeName;\n  this.attributeNamespace = attributeNamespace;\n  this.mustUseProperty = mustUseProperty;\n  this.propertyName = name;\n  this.type = type;\n  this.sanitizeURL = sanitizeURL;\n  this.removeEmptyString = removeEmptyString;\n}\n\n// When adding attributes to this list, be sure to also add them to\n// the `possibleStandardNames` module to ensure casing and incorrect\n// name warnings.\nconst properties = {};\n\n// These props are reserved by React. They shouldn't be written to the DOM.\nconst reservedProps = [\n  'children',\n  'dangerouslySetInnerHTML',\n  // TODO: This prevents the assignment of defaultValue to regular\n  // elements (not just inputs). Now that ReactDOMInput assigns to the\n  // defaultValue property -- do we need this?\n  'defaultValue',\n  'defaultChecked',\n  'innerHTML',\n  'suppressContentEditableWarning',\n  'suppressHydrationWarning',\n  'style',\n];\n\nreservedProps.forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    RESERVED,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// A few React string attributes have a different name.\n// This is a mapping from React prop names to the attribute names.\n[\n  ['acceptCharset', 'accept-charset'],\n  ['className', 'class'],\n  ['htmlFor', 'for'],\n  ['httpEquiv', 'http-equiv'],\n].forEach(([name, attributeName]) => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are \"enumerated\" HTML attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n['contentEditable', 'draggable', 'spellCheck', 'value'].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEANISH_STRING,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are \"enumerated\" SVG attributes that accept \"true\" and \"false\".\n// In React, we let users pass `true` and `false` even though technically\n// these aren't boolean attributes (they are coerced to strings).\n// Since these are SVG attributes, their attribute names are case-sensitive.\n[\n  'autoReverse',\n  'externalResourcesRequired',\n  'focusable',\n  'preserveAlpha',\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEANISH_STRING,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML boolean attributes.\n[\n  'allowFullScreen',\n  'async',\n  // Note: there is a special case that prevents it from being written to the DOM\n  // on the client side because the browsers are inconsistent. Instead we call focus().\n  'autoFocus',\n  'autoPlay',\n  'controls',\n  'default',\n  'defer',\n  'disabled',\n  'disablePictureInPicture',\n  'disableRemotePlayback',\n  'formNoValidate',\n  'hidden',\n  'loop',\n  'noModule',\n  'noValidate',\n  'open',\n  'playsInline',\n  'readOnly',\n  'required',\n  'reversed',\n  'scoped',\n  'seamless',\n  // Microdata\n  'itemScope',\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEAN,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are the few React props that we set as DOM properties\n// rather than attributes. These are all booleans.\n[\n  'checked',\n  // Note: `option.selected` is not updated if `select.multiple` is\n  // disabled with `removeAttribute`. We have special logic for handling this.\n  'multiple',\n  'muted',\n  'selected',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    BOOLEAN,\n    true, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML attributes that are \"overloaded booleans\": they behave like\n// booleans, but can also accept a string value.\n[\n  'capture',\n  'download',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    OVERLOADED_BOOLEAN,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML attributes that must be positive numbers.\n[\n  'cols',\n  'rows',\n  'size',\n  'span',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    POSITIVE_NUMERIC,\n    false, // mustUseProperty\n    name, // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These are HTML attributes that must be numbers.\n['rowSpan', 'start'].forEach(name => {\n  properties[name] = new PropertyInfoRecord(\n    name,\n    NUMERIC,\n    false, // mustUseProperty\n    name.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\nconst CAMELIZE = /[\\-\\:]([a-z])/g;\nconst capitalize = token => token[1].toUpperCase();\n\n// This is a list of all SVG attributes that need special casing, namespacing,\n// or boolean value assignment. Regular attributes that just accept strings\n// and have the same names are omitted, just like in the HTML attribute filter.\n// Some of these attributes can be hard to find. This list was created by\n// scraping the MDN documentation.\n[\n  'accent-height',\n  'alignment-baseline',\n  'arabic-form',\n  'baseline-shift',\n  'cap-height',\n  'clip-path',\n  'clip-rule',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'dominant-baseline',\n  'enable-background',\n  'fill-opacity',\n  'fill-rule',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'glyph-name',\n  'glyph-orientation-horizontal',\n  'glyph-orientation-vertical',\n  'horiz-adv-x',\n  'horiz-origin-x',\n  'image-rendering',\n  'letter-spacing',\n  'lighting-color',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'overline-position',\n  'overline-thickness',\n  'paint-order',\n  'panose-1',\n  'pointer-events',\n  'rendering-intent',\n  'shape-rendering',\n  'stop-color',\n  'stop-opacity',\n  'strikethrough-position',\n  'strikethrough-thickness',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'underline-position',\n  'underline-thickness',\n  'unicode-bidi',\n  'unicode-range',\n  'units-per-em',\n  'v-alphabetic',\n  'v-hanging',\n  'v-ideographic',\n  'v-mathematical',\n  'vector-effect',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'word-spacing',\n  'writing-mode',\n  'xmlns:xlink',\n  'x-height',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// String SVG attributes with the xlink namespace.\n[\n  'xlink:actuate',\n  'xlink:arcrole',\n  'xlink:role',\n  'xlink:show',\n  'xlink:title',\n  'xlink:type',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    'http://www.w3.org/1999/xlink',\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// String SVG attributes with the xml namespace.\n[\n  'xml:base',\n  'xml:lang',\n  'xml:space',\n\n  // NOTE: if you add a camelCased prop to this list,\n  // you'll need to set attributeName to name.toLowerCase()\n  // instead in the assignment below.\n].forEach(attributeName => {\n  const name = attributeName.replace(CAMELIZE, capitalize);\n  properties[name] = new PropertyInfoRecord(\n    name,\n    STRING,\n    false, // mustUseProperty\n    attributeName,\n    'http://www.w3.org/XML/1998/namespace',\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These attribute exists both in HTML and SVG.\n// The attribute name is case-sensitive in SVG so we can't just use\n// the React name like we do for attributes that exist only in HTML.\n['tabIndex', 'crossOrigin'].forEach(attributeName => {\n  properties[attributeName] = new PropertyInfoRecord(\n    attributeName,\n    STRING,\n    false, // mustUseProperty\n    attributeName.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    false, // sanitizeURL\n    false, // removeEmptyString\n  );\n});\n\n// These attributes accept URLs. These must not allow javascript: URLS.\n// These will also need to accept Trusted Types object in the future.\nconst xlinkHref = 'xlinkHref';\nproperties[xlinkHref] = new PropertyInfoRecord(\n  'xlinkHref',\n  STRING,\n  false, // mustUseProperty\n  'xlink:href',\n  'http://www.w3.org/1999/xlink',\n  true, // sanitizeURL\n  false, // removeEmptyString\n);\n\n['src', 'href', 'action', 'formAction'].forEach(attributeName => {\n  properties[attributeName] = new PropertyInfoRecord(\n    attributeName,\n    STRING,\n    false, // mustUseProperty\n    attributeName.toLowerCase(), // attributeName\n    null, // attributeNamespace\n    true, // sanitizeURL\n    true, // removeEmptyString\n  );\n});\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * Based on the escape-html library, which is used under the MIT License below:\n *\n * Copyright (c) 2012-2013 TJ Holowaychuk\n * Copyright (c) 2015 Andreas Lubbe\n * Copyright (c) 2015 Tiancheng \"Timothy\" Gu\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * 'Software'), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n// code copied and modified from escape-html\n/**\n * Module variables.\n * @private\n */\n\nconst matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Escapes special characters and HTML entities in a given html string.\n *\n * @param  {string} string HTML string to escape for later insertion\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  const str = '' + string;\n  const match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  let escape;\n  let html = '';\n  let index;\n  let lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#x27;'; // modified from escape-html; used to be '&#39'\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index ? html + str.substring(lastIndex, index) : html;\n}\n// end code copied and modified from escape-html\n\n/**\n * Escapes text to prevent scripting attacks.\n *\n * @param {*} text Text value to escape.\n * @return {string} An escaped string.\n */\nfunction escapeTextForBrowser(text) {\n  if (typeof text === 'boolean' || typeof text === 'number') {\n    // this shortcircuit helps perf for types that we know will never have\n    // special characters, especially given that this function is used often\n    // for numeric dom ids.\n    return '' + text;\n  }\n  return escapeHtml(text);\n}\n\nexport default escapeTextForBrowser;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport escapeTextForBrowser from './escapeTextForBrowser';\n\n/**\n * Escapes attribute value to prevent scripting attacks.\n *\n * @param {*} value Value to escape.\n * @return {string} An escaped string.\n */\nfunction quoteAttributeValueForBrowser(value) {\n  return '\"' + escapeTextForBrowser(value) + '\"';\n}\n\nexport default quoteAttributeValueForBrowser;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ID_ATTRIBUTE_NAME,\n  ROOT_ATTRIBUTE_NAME,\n  BOOLEAN,\n  OVERLOADED_BOOLEAN,\n  getPropertyInfo,\n  isAttributeNameSafe,\n  shouldIgnoreAttribute,\n  shouldRemoveAttribute,\n} from '../shared/DOMProperty';\nimport sanitizeURL from '../shared/sanitizeURL';\nimport quoteAttributeValueForBrowser from './quoteAttributeValueForBrowser';\n\n/**\n * Operations for dealing with DOM properties.\n */\n\n/**\n * Creates markup for the ID property.\n *\n * @param {string} id Unescaped ID.\n * @return {string} Markup string.\n */\nexport function createMarkupForID(id: string): string {\n  return ID_ATTRIBUTE_NAME + '=' + quoteAttributeValueForBrowser(id);\n}\n\nexport function createMarkupForRoot(): string {\n  return ROOT_ATTRIBUTE_NAME + '=\"\"';\n}\n\n/**\n * Creates markup for a property.\n *\n * @param {string} name\n * @param {*} value\n * @return {?string} Markup string, or null if the property was invalid.\n */\nexport function createMarkupForProperty(name: string, value: mixed): string {\n  const propertyInfo = getPropertyInfo(name);\n  if (name !== 'style' && shouldIgnoreAttribute(name, propertyInfo, false)) {\n    return '';\n  }\n  if (shouldRemoveAttribute(name, value, propertyInfo, false)) {\n    return '';\n  }\n  if (propertyInfo !== null) {\n    const attributeName = propertyInfo.attributeName;\n    const {type} = propertyInfo;\n    if (type === BOOLEAN || (type === OVERLOADED_BOOLEAN && value === true)) {\n      return attributeName + '=\"\"';\n    } else {\n      if (propertyInfo.sanitizeURL) {\n        value = '' + (value: any);\n        sanitizeURL(value);\n      }\n      return attributeName + '=' + quoteAttributeValueForBrowser(value);\n    }\n  } else if (isAttributeNameSafe(name)) {\n    return name + '=' + quoteAttributeValueForBrowser(value);\n  }\n  return '';\n}\n\n/**\n * Creates markup for a custom property.\n *\n * @param {string} name\n * @param {*} value\n * @return {string} Markup string, or empty string if the property was invalid.\n */\nexport function createMarkupForCustomAttribute(\n  name: string,\n  value: mixed,\n): string {\n  if (!isAttributeNameSafe(name) || value == null) {\n    return '';\n  }\n  return name + '=' + quoteAttributeValueForBrowser(value);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Dispatcher as DispatcherType} from 'react-reconciler/src/ReactInternalTypes';\n\nimport type {\n  MutableSource,\n  MutableSourceGetSnapshotFn,\n  MutableSourceSubscribeFn,\n  ReactContext,\n} from 'shared/ReactTypes';\nimport type PartialRenderer from './ReactPartialRenderer';\n\nimport {validateContextBounds} from './ReactPartialRendererContext';\n\nimport invariant from 'shared/invariant';\nimport is from 'shared/objectIs';\n\ntype BasicStateAction<S> = (S => S) | S;\ntype Dispatch<A> = A => void;\n\ntype Update<A> = {|\n  action: A,\n  next: Update<A> | null,\n|};\n\ntype UpdateQueue<A> = {|\n  last: Update<A> | null,\n  dispatch: any,\n|};\n\ntype Hook = {|\n  memoizedState: any,\n  queue: UpdateQueue<any> | null,\n  next: Hook | null,\n|};\n\ntype OpaqueIDType = string;\n\nlet currentlyRenderingComponent: Object | null = null;\nlet firstWorkInProgressHook: Hook | null = null;\nlet workInProgressHook: Hook | null = null;\n// Whether the work-in-progress hook is a re-rendered hook\nlet isReRender: boolean = false;\n// Whether an update was scheduled during the currently executing render pass.\nlet didScheduleRenderPhaseUpdate: boolean = false;\n// Lazily created map of render-phase updates\nlet renderPhaseUpdates: Map<UpdateQueue<any>, Update<any>> | null = null;\n// Counter to prevent infinite loops.\nlet numberOfReRenders: number = 0;\nconst RE_RENDER_LIMIT = 25;\n\nlet isInHookUserCodeInDev = false;\n\n// In DEV, this is the name of the currently executing primitive hook\nlet currentHookNameInDev: ?string;\n\nfunction resolveCurrentlyRenderingComponent(): Object {\n  invariant(\n    currentlyRenderingComponent !== null,\n    'Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for' +\n      ' one of the following reasons:\\n' +\n      '1. You might have mismatching versions of React and the renderer (such as React DOM)\\n' +\n      '2. You might be breaking the Rules of Hooks\\n' +\n      '3. You might have more than one copy of React in the same app\\n' +\n      'See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.',\n  );\n  if (__DEV__) {\n    if (isInHookUserCodeInDev) {\n      console.error(\n        'Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. ' +\n          'You can only call Hooks at the top level of your React function. ' +\n          'For more information, see ' +\n          'https://reactjs.org/link/rules-of-hooks',\n      );\n    }\n  }\n  return currentlyRenderingComponent;\n}\n\nfunction areHookInputsEqual(\n  nextDeps: Array<mixed>,\n  prevDeps: Array<mixed> | null,\n) {\n  if (prevDeps === null) {\n    if (__DEV__) {\n      console.error(\n        '%s received a final argument during this render, but not during ' +\n          'the previous render. Even though the final argument is optional, ' +\n          'its type cannot change between renders.',\n        currentHookNameInDev,\n      );\n    }\n    return false;\n  }\n\n  if (__DEV__) {\n    // Don't bother comparing lengths in prod because these arrays should be\n    // passed inline.\n    if (nextDeps.length !== prevDeps.length) {\n      console.error(\n        'The final argument passed to %s changed size between renders. The ' +\n          'order and size of this array must remain constant.\\n\\n' +\n          'Previous: %s\\n' +\n          'Incoming: %s',\n        currentHookNameInDev,\n        `[${nextDeps.join(', ')}]`,\n        `[${prevDeps.join(', ')}]`,\n      );\n    }\n  }\n  for (let i = 0; i < prevDeps.length && i < nextDeps.length; i++) {\n    if (is(nextDeps[i], prevDeps[i])) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\n\nfunction createHook(): Hook {\n  if (numberOfReRenders > 0) {\n    invariant(false, 'Rendered more hooks than during the previous render');\n  }\n  return {\n    memoizedState: null,\n    queue: null,\n    next: null,\n  };\n}\n\nfunction createWorkInProgressHook(): Hook {\n  if (workInProgressHook === null) {\n    // This is the first hook in the list\n    if (firstWorkInProgressHook === null) {\n      isReRender = false;\n      firstWorkInProgressHook = workInProgressHook = createHook();\n    } else {\n      // There's already a work-in-progress. Reuse it.\n      isReRender = true;\n      workInProgressHook = firstWorkInProgressHook;\n    }\n  } else {\n    if (workInProgressHook.next === null) {\n      isReRender = false;\n      // Append to the end of the list\n      workInProgressHook = workInProgressHook.next = createHook();\n    } else {\n      // There's already a work-in-progress. Reuse it.\n      isReRender = true;\n      workInProgressHook = workInProgressHook.next;\n    }\n  }\n  return workInProgressHook;\n}\n\nexport function prepareToUseHooks(componentIdentity: Object): void {\n  currentlyRenderingComponent = componentIdentity;\n  if (__DEV__) {\n    isInHookUserCodeInDev = false;\n  }\n\n  // The following should have already been reset\n  // didScheduleRenderPhaseUpdate = false;\n  // firstWorkInProgressHook = null;\n  // numberOfReRenders = 0;\n  // renderPhaseUpdates = null;\n  // workInProgressHook = null;\n}\n\nexport function finishHooks(\n  Component: any,\n  props: any,\n  children: any,\n  refOrContext: any,\n): any {\n  // This must be called after every function component to prevent hooks from\n  // being used in classes.\n\n  while (didScheduleRenderPhaseUpdate) {\n    // Updates were scheduled during the render phase. They are stored in\n    // the `renderPhaseUpdates` map. Call the component again, reusing the\n    // work-in-progress hooks and applying the additional updates on top. Keep\n    // restarting until no more updates are scheduled.\n    didScheduleRenderPhaseUpdate = false;\n    numberOfReRenders += 1;\n\n    // Start over from the beginning of the list\n    workInProgressHook = null;\n\n    children = Component(props, refOrContext);\n  }\n  resetHooksState();\n  return children;\n}\n\n// Reset the internal hooks state if an error occurs while rendering a component\nexport function resetHooksState(): void {\n  if (__DEV__) {\n    isInHookUserCodeInDev = false;\n  }\n\n  currentlyRenderingComponent = null;\n  didScheduleRenderPhaseUpdate = false;\n  firstWorkInProgressHook = null;\n  numberOfReRenders = 0;\n  renderPhaseUpdates = null;\n  workInProgressHook = null;\n}\n\nfunction readContext<T>(\n  context: ReactContext<T>,\n  observedBits: void | number | boolean,\n): T {\n  const threadID = currentPartialRenderer.threadID;\n  validateContextBounds(context, threadID);\n  if (__DEV__) {\n    if (isInHookUserCodeInDev) {\n      console.error(\n        'Context can only be read while React is rendering. ' +\n          'In classes, you can read it in the render method or getDerivedStateFromProps. ' +\n          'In function components, you can read it directly in the function body, but not ' +\n          'inside Hooks like useReducer() or useMemo().',\n      );\n    }\n  }\n  return context[threadID];\n}\n\nfunction useContext<T>(\n  context: ReactContext<T>,\n  observedBits: void | number | boolean,\n): T {\n  if (__DEV__) {\n    currentHookNameInDev = 'useContext';\n  }\n  resolveCurrentlyRenderingComponent();\n  const threadID = currentPartialRenderer.threadID;\n  validateContextBounds(context, threadID);\n  return context[threadID];\n}\n\nfunction basicStateReducer<S>(state: S, action: BasicStateAction<S>): S {\n  // $FlowFixMe: Flow doesn't like mixed types\n  return typeof action === 'function' ? action(state) : action;\n}\n\nexport function useState<S>(\n  initialState: (() => S) | S,\n): [S, Dispatch<BasicStateAction<S>>] {\n  if (__DEV__) {\n    currentHookNameInDev = 'useState';\n  }\n  return useReducer(\n    basicStateReducer,\n    // useReducer has a special case to support lazy useState initializers\n    (initialState: any),\n  );\n}\n\nexport function useReducer<S, I, A>(\n  reducer: (S, A) => S,\n  initialArg: I,\n  init?: I => S,\n): [S, Dispatch<A>] {\n  if (__DEV__) {\n    if (reducer !== basicStateReducer) {\n      currentHookNameInDev = 'useReducer';\n    }\n  }\n  currentlyRenderingComponent = resolveCurrentlyRenderingComponent();\n  workInProgressHook = createWorkInProgressHook();\n  if (isReRender) {\n    // This is a re-render. Apply the new render phase updates to the previous\n    // current hook.\n    const queue: UpdateQueue<A> = (workInProgressHook.queue: any);\n    const dispatch: Dispatch<A> = (queue.dispatch: any);\n    if (renderPhaseUpdates !== null) {\n      // Render phase updates are stored in a map of queue -> linked list\n      const firstRenderPhaseUpdate = renderPhaseUpdates.get(queue);\n      if (firstRenderPhaseUpdate !== undefined) {\n        renderPhaseUpdates.delete(queue);\n        let newState = workInProgressHook.memoizedState;\n        let update = firstRenderPhaseUpdate;\n        do {\n          // Process this render phase update. We don't have to check the\n          // priority because it will always be the same as the current\n          // render's.\n          const action = update.action;\n          if (__DEV__) {\n            isInHookUserCodeInDev = true;\n          }\n          newState = reducer(newState, action);\n          if (__DEV__) {\n            isInHookUserCodeInDev = false;\n          }\n          update = update.next;\n        } while (update !== null);\n\n        workInProgressHook.memoizedState = newState;\n\n        return [newState, dispatch];\n      }\n    }\n    return [workInProgressHook.memoizedState, dispatch];\n  } else {\n    if (__DEV__) {\n      isInHookUserCodeInDev = true;\n    }\n    let initialState;\n    if (reducer === basicStateReducer) {\n      // Special case for `useState`.\n      initialState =\n        typeof initialArg === 'function'\n          ? ((initialArg: any): () => S)()\n          : ((initialArg: any): S);\n    } else {\n      initialState =\n        init !== undefined ? init(initialArg) : ((initialArg: any): S);\n    }\n    if (__DEV__) {\n      isInHookUserCodeInDev = false;\n    }\n    workInProgressHook.memoizedState = initialState;\n    const queue: UpdateQueue<A> = (workInProgressHook.queue = {\n      last: null,\n      dispatch: null,\n    });\n    const dispatch: Dispatch<A> = (queue.dispatch = (dispatchAction.bind(\n      null,\n      currentlyRenderingComponent,\n      queue,\n    ): any));\n    return [workInProgressHook.memoizedState, dispatch];\n  }\n}\n\nfunction useMemo<T>(nextCreate: () => T, deps: Array<mixed> | void | null): T {\n  currentlyRenderingComponent = resolveCurrentlyRenderingComponent();\n  workInProgressHook = createWorkInProgressHook();\n\n  const nextDeps = deps === undefined ? null : deps;\n\n  if (workInProgressHook !== null) {\n    const prevState = workInProgressHook.memoizedState;\n    if (prevState !== null) {\n      if (nextDeps !== null) {\n        const prevDeps = prevState[1];\n        if (areHookInputsEqual(nextDeps, prevDeps)) {\n          return prevState[0];\n        }\n      }\n    }\n  }\n\n  if (__DEV__) {\n    isInHookUserCodeInDev = true;\n  }\n  const nextValue = nextCreate();\n  if (__DEV__) {\n    isInHookUserCodeInDev = false;\n  }\n  workInProgressHook.memoizedState = [nextValue, nextDeps];\n  return nextValue;\n}\n\nfunction useRef<T>(initialValue: T): {|current: T|} {\n  currentlyRenderingComponent = resolveCurrentlyRenderingComponent();\n  workInProgressHook = createWorkInProgressHook();\n  const previousRef = workInProgressHook.memoizedState;\n  if (previousRef === null) {\n    const ref = {current: initialValue};\n    if (__DEV__) {\n      Object.seal(ref);\n    }\n    workInProgressHook.memoizedState = ref;\n    return ref;\n  } else {\n    return previousRef;\n  }\n}\n\nexport function useLayoutEffect(\n  create: () => (() => void) | void,\n  inputs: Array<mixed> | void | null,\n) {\n  if (__DEV__) {\n    currentHookNameInDev = 'useLayoutEffect';\n    console.error(\n      'useLayoutEffect does nothing on the server, because its effect cannot ' +\n        \"be encoded into the server renderer's output format. This will lead \" +\n        'to a mismatch between the initial, non-hydrated UI and the intended ' +\n        'UI. To avoid this, useLayoutEffect should only be used in ' +\n        'components that render exclusively on the client. ' +\n        'See https://reactjs.org/link/uselayouteffect-ssr for common fixes.',\n    );\n  }\n}\n\nfunction dispatchAction<A>(\n  componentIdentity: Object,\n  queue: UpdateQueue<A>,\n  action: A,\n) {\n  invariant(\n    numberOfReRenders < RE_RENDER_LIMIT,\n    'Too many re-renders. React limits the number of renders to prevent ' +\n      'an infinite loop.',\n  );\n\n  if (componentIdentity === currentlyRenderingComponent) {\n    // This is a render phase update. Stash it in a lazily-created map of\n    // queue -> linked list of updates. After this render pass, we'll restart\n    // and apply the stashed updates on top of the work-in-progress hook.\n    didScheduleRenderPhaseUpdate = true;\n    const update: Update<A> = {\n      action,\n      next: null,\n    };\n    if (renderPhaseUpdates === null) {\n      renderPhaseUpdates = new Map();\n    }\n    const firstRenderPhaseUpdate = renderPhaseUpdates.get(queue);\n    if (firstRenderPhaseUpdate === undefined) {\n      renderPhaseUpdates.set(queue, update);\n    } else {\n      // Append the update to the end of the list.\n      let lastRenderPhaseUpdate = firstRenderPhaseUpdate;\n      while (lastRenderPhaseUpdate.next !== null) {\n        lastRenderPhaseUpdate = lastRenderPhaseUpdate.next;\n      }\n      lastRenderPhaseUpdate.next = update;\n    }\n  } else {\n    // This means an update has happened after the function component has\n    // returned. On the server this is a no-op. In React Fiber, the update\n    // would be scheduled for a future render.\n  }\n}\n\nexport function useCallback<T>(\n  callback: T,\n  deps: Array<mixed> | void | null,\n): T {\n  return useMemo(() => callback, deps);\n}\n\n// TODO Decide on how to implement this hook for server rendering.\n// If a mutation occurs during render, consider triggering a Suspense boundary\n// and falling back to client rendering.\nfunction useMutableSource<Source, Snapshot>(\n  source: MutableSource<Source>,\n  getSnapshot: MutableSourceGetSnapshotFn<Source, Snapshot>,\n  subscribe: MutableSourceSubscribeFn<Source, Snapshot>,\n): Snapshot {\n  resolveCurrentlyRenderingComponent();\n  return getSnapshot(source._source);\n}\n\nfunction useDeferredValue<T>(value: T): T {\n  resolveCurrentlyRenderingComponent();\n  return value;\n}\n\nfunction useTransition(): [(callback: () => void) => void, boolean] {\n  resolveCurrentlyRenderingComponent();\n  const startTransition = callback => {\n    callback();\n  };\n  return [startTransition, false];\n}\n\nfunction useOpaqueIdentifier(): OpaqueIDType {\n  return (\n    (currentPartialRenderer.identifierPrefix || '') +\n    'R:' +\n    (currentPartialRenderer.uniqueID++).toString(36)\n  );\n}\n\nfunction noop(): void {}\n\nexport let currentPartialRenderer: PartialRenderer = (null: any);\nexport function setCurrentPartialRenderer(renderer: PartialRenderer) {\n  currentPartialRenderer = renderer;\n}\n\nexport const Dispatcher: DispatcherType = {\n  readContext,\n  useContext,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n  useLayoutEffect,\n  useCallback,\n  // useImperativeHandle is not run in the server environment\n  useImperativeHandle: noop,\n  // Effects are not run in the server environment.\n  useEffect: noop,\n  // Debugging effect\n  useDebugValue: noop,\n  useDeferredValue,\n  useTransition,\n  useOpaqueIdentifier,\n  // Subscriptions are not setup in a server environment.\n  useMutableSource,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nconst MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\nconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n\nexport const Namespaces = {\n  html: HTML_NAMESPACE,\n  mathml: MATH_NAMESPACE,\n  svg: SVG_NAMESPACE,\n};\n\n// Assumes there is no parent namespace.\nexport function getIntrinsicNamespace(type: string): string {\n  switch (type) {\n    case 'svg':\n      return SVG_NAMESPACE;\n    case 'math':\n      return MATH_NAMESPACE;\n    default:\n      return HTML_NAMESPACE;\n  }\n}\n\nexport function getChildNamespace(\n  parentNamespace: string | null,\n  type: string,\n): string {\n  if (parentNamespace == null || parentNamespace === HTML_NAMESPACE) {\n    // No (or default) parent namespace: potential entry point.\n    return getIntrinsicNamespace(type);\n  }\n  if (parentNamespace === SVG_NAMESPACE && type === 'foreignObject') {\n    // We're leaving SVG.\n    return HTML_NAMESPACE;\n  }\n  // By default, pass namespace below.\n  return parentNamespace;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// For HTML, certain tags should omit their close tag. We keep a list for\n// those special-case tags.\n\nconst omittedCloseTags = {\n  area: true,\n  base: true,\n  br: true,\n  col: true,\n  embed: true,\n  hr: true,\n  img: true,\n  input: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true,\n  // NOTE: menuitem's close tag should be omitted, but that causes problems.\n};\n\nexport default omittedCloseTags;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport omittedCloseTags from './omittedCloseTags';\n\n// For HTML, certain tags cannot have children. This has the same purpose as\n// `omittedCloseTags` except that `menuitem` should still have its closing tag.\n\nconst voidElementTags = {\n  menuitem: true,\n  ...omittedCloseTags,\n};\n\nexport default voidElementTags;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport invariant from 'shared/invariant';\n\nimport voidElementTags from './voidElementTags';\n\nconst HTML = '__html';\n\nfunction assertValidProps(tag: string, props: ?Object) {\n  if (!props) {\n    return;\n  }\n  // Note the use of `==` which checks for null or undefined.\n  if (voidElementTags[tag]) {\n    invariant(\n      props.children == null && props.dangerouslySetInnerHTML == null,\n      '%s is a void element tag and must neither have `children` nor ' +\n        'use `dangerouslySetInnerHTML`.',\n      tag,\n    );\n  }\n  if (props.dangerouslySetInnerHTML != null) {\n    invariant(\n      props.children == null,\n      'Can only set one of `children` or `props.dangerouslySetInnerHTML`.',\n    );\n    invariant(\n      typeof props.dangerouslySetInnerHTML === 'object' &&\n        HTML in props.dangerouslySetInnerHTML,\n      '`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. ' +\n        'Please visit https://reactjs.org/link/dangerously-set-inner-html ' +\n        'for more information.',\n    );\n  }\n  if (__DEV__) {\n    if (\n      !props.suppressContentEditableWarning &&\n      props.contentEditable &&\n      props.children != null\n    ) {\n      console.error(\n        'A component is `contentEditable` and contains `children` managed by ' +\n          'React. It is now your responsibility to guarantee that none of ' +\n          'those nodes are unexpectedly modified or duplicated. This is ' +\n          'probably not intentional.',\n      );\n    }\n  }\n  invariant(\n    props.style == null || typeof props.style === 'object',\n    'The `style` prop expects a mapping from style properties to values, ' +\n      \"not a string. For example, style={{marginRight: spacing + 'em'}} when \" +\n      'using JSX.',\n  );\n}\n\nexport default assertValidProps;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\nexport const isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridArea: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true,\n};\n\n/**\n * @param {string} prefix vendor-specific prefix, eg: Webkit\n * @param {string} key style name, eg: transitionDuration\n * @return {string} style name prefixed with `prefix`, properly camelCased, eg:\n * WebkitTransitionDuration\n */\nfunction prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n}\n\n/**\n * Support style names that may come passed in prefixed by adding permutations\n * of vendor prefixes.\n */\nconst prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\n// Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an\n// infinite loop, because it iterates over the newly added props too.\nObject.keys(isUnitlessNumber).forEach(function(prop) {\n  prefixes.forEach(function(prefix) {\n    isUnitlessNumber[prefixKey(prefix, prop)] = isUnitlessNumber[prop];\n  });\n});\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {isUnitlessNumber} from './CSSProperty';\n\n/**\n * Convert a value into the proper css writable value. The style name `name`\n * should be logical (no hyphens), as specified\n * in `CSSProperty.isUnitlessNumber`.\n *\n * @param {string} name CSS property name such as `topMargin`.\n * @param {*} value CSS property value such as `10px`.\n * @return {string} Normalized style value with dimensions applied.\n */\nfunction dangerousStyleValue(name, value, isCustomProperty) {\n  // Note that we've removed escapeTextForBrowser() calls here since the\n  // whole string will be escaped when the attribute is injected into\n  // the markup. If you provide unsafe user data here they can inject\n  // arbitrary CSS which may be problematic (I couldn't repro this):\n  // https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet\n  // http://www.thespanner.co.uk/2007/11/26/ultimate-xss-css-injection/\n  // This is not an XSS hole but instead a potential CSS injection issue\n  // which has lead to a greater discussion about how we're going to\n  // trust URLs moving forward. See #2115901\n\n  const isEmpty = value == null || typeof value === 'boolean' || value === '';\n  if (isEmpty) {\n    return '';\n  }\n\n  if (\n    !isCustomProperty &&\n    typeof value === 'number' &&\n    value !== 0 &&\n    !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])\n  ) {\n    return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n  }\n\n  return ('' + value).trim();\n}\n\nexport default dangerousStyleValue;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst uppercasePattern = /([A-Z])/g;\nconst msPattern = /^ms-/;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n */\nexport default function hyphenateStyleName(name: string): string {\n  return name\n    .replace(uppercasePattern, '-$1')\n    .toLowerCase()\n    .replace(msPattern, '-ms-');\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nfunction isCustomComponent(tagName: string, props: Object) {\n  if (tagName.indexOf('-') === -1) {\n    return typeof props.is === 'string';\n  }\n  switch (tagName) {\n    // These are reserved SVG and MathML elements.\n    // We don't mind this list too much because we expect it to never grow.\n    // The alternative is to track the namespace in a few places which is convoluted.\n    // https://w3c.github.io/webcomponents/spec/custom/#custom-elements-core-concepts\n    case 'annotation-xml':\n    case 'color-profile':\n    case 'font-face':\n    case 'font-face-src':\n    case 'font-face-uri':\n    case 'font-face-format':\n    case 'font-face-name':\n    case 'missing-glyph':\n      return false;\n    default:\n      return true;\n  }\n}\n\nexport default isCustomComponent;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ThreadID} from './ReactThreadIDAllocator';\nimport type {ReactElement} from 'shared/ReactElementType';\nimport type {LazyComponent} from 'react/src/ReactLazy';\nimport type {ReactProvider, ReactContext} from 'shared/ReactTypes';\n\nimport * as React from 'react';\nimport invariant from 'shared/invariant';\nimport getComponentName from 'shared/getComponentName';\nimport {describeUnknownElementTypeFrameInDEV} from 'shared/ReactComponentStackFrame';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport {\n  warnAboutDeprecatedLifecycles,\n  disableLegacyContext,\n  disableModulePatternComponents,\n  enableSuspenseServerRenderer,\n  enableFundamentalAPI,\n  enableScopeAPI,\n} from 'shared/ReactFeatureFlags';\n\nimport {\n  REACT_DEBUG_TRACING_MODE_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_PROVIDER_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_LAZY_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_FUNDAMENTAL_TYPE,\n  REACT_SCOPE_TYPE,\n  REACT_LEGACY_HIDDEN_TYPE,\n} from 'shared/ReactSymbols';\n\nimport {\n  emptyObject,\n  processContext,\n  validateContextBounds,\n} from './ReactPartialRendererContext';\nimport {allocThreadID, freeThreadID} from './ReactThreadIDAllocator';\nimport {\n  createMarkupForCustomAttribute,\n  createMarkupForProperty,\n  createMarkupForRoot,\n} from './DOMMarkupOperations';\nimport escapeTextForBrowser from './escapeTextForBrowser';\nimport {\n  prepareToUseHooks,\n  finishHooks,\n  resetHooksState,\n  Dispatcher,\n  currentPartialRenderer,\n  setCurrentPartialRenderer,\n} from './ReactPartialRendererHooks';\nimport {\n  Namespaces,\n  getIntrinsicNamespace,\n  getChildNamespace,\n} from '../shared/DOMNamespaces';\nimport {checkControlledValueProps} from '../shared/ReactControlledValuePropTypes';\nimport assertValidProps from '../shared/assertValidProps';\nimport dangerousStyleValue from '../shared/dangerousStyleValue';\nimport hyphenateStyleName from '../shared/hyphenateStyleName';\nimport isCustomComponentFn from '../shared/isCustomComponent';\nimport omittedCloseTags from '../shared/omittedCloseTags';\nimport warnValidStyle from '../shared/warnValidStyle';\nimport {validateProperties as validateARIAProperties} from '../shared/ReactDOMInvalidARIAHook';\nimport {validateProperties as validateInputProperties} from '../shared/ReactDOMNullInputValuePropHook';\nimport {validateProperties as validateUnknownProperties} from '../shared/ReactDOMUnknownPropertyHook';\n\nexport type ServerOptions = {\n  identifierPrefix?: string,\n};\n\n// Based on reading the React.Children implementation. TODO: type this somewhere?\ntype ReactNode = string | number | ReactElement;\ntype FlatReactChildren = Array<null | ReactNode>;\ntype toArrayType = (children: mixed) => FlatReactChildren;\nconst toArray = ((React.Children.toArray: any): toArrayType);\n\n// This is only used in DEV.\n// Each entry is `this.stack` from a currently executing renderer instance.\n// (There may be more than one because ReactDOMServer is reentrant).\n// Each stack is an array of frames which may contain nested stacks of elements.\nconst currentDebugStacks = [];\n\nconst ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nlet ReactDebugCurrentFrame;\nlet prevGetCurrentStackImpl = null;\nlet getCurrentServerStackImpl = () => '';\nlet describeStackFrame = element => '';\n\nlet validatePropertiesInDevelopment = (type, props) => {};\nlet pushCurrentDebugStack = (stack: Array<Frame>) => {};\nlet pushElementToDebugStack = (element: ReactElement) => {};\nlet popCurrentDebugStack = () => {};\nlet hasWarnedAboutUsingContextAsConsumer = false;\n\nif (__DEV__) {\n  ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\n  validatePropertiesInDevelopment = function(type, props) {\n    validateARIAProperties(type, props);\n    validateInputProperties(type, props);\n    validateUnknownProperties(type, props, null);\n  };\n\n  describeStackFrame = function(element): string {\n    return describeUnknownElementTypeFrameInDEV(\n      element.type,\n      element._source,\n      null,\n    );\n  };\n\n  pushCurrentDebugStack = function(stack: Array<Frame>) {\n    currentDebugStacks.push(stack);\n\n    if (currentDebugStacks.length === 1) {\n      // We are entering a server renderer.\n      // Remember the previous (e.g. client) global stack implementation.\n      prevGetCurrentStackImpl = ReactDebugCurrentFrame.getCurrentStack;\n      ReactDebugCurrentFrame.getCurrentStack = getCurrentServerStackImpl;\n    }\n  };\n\n  pushElementToDebugStack = function(element: ReactElement) {\n    // For the innermost executing ReactDOMServer call,\n    const stack = currentDebugStacks[currentDebugStacks.length - 1];\n    // Take the innermost executing frame (e.g. <Foo>),\n    const frame: Frame = stack[stack.length - 1];\n    // and record that it has one more element associated with it.\n    ((frame: any): FrameDev).debugElementStack.push(element);\n    // We only need this because we tail-optimize single-element\n    // children and directly handle them in an inner loop instead of\n    // creating separate frames for them.\n  };\n\n  popCurrentDebugStack = function() {\n    currentDebugStacks.pop();\n\n    if (currentDebugStacks.length === 0) {\n      // We are exiting the server renderer.\n      // Restore the previous (e.g. client) global stack implementation.\n      ReactDebugCurrentFrame.getCurrentStack = prevGetCurrentStackImpl;\n      prevGetCurrentStackImpl = null;\n    }\n  };\n\n  getCurrentServerStackImpl = function(): string {\n    if (currentDebugStacks.length === 0) {\n      // Nothing is currently rendering.\n      return '';\n    }\n    // ReactDOMServer is reentrant so there may be multiple calls at the same time.\n    // Take the frames from the innermost call which is the last in the array.\n    const frames = currentDebugStacks[currentDebugStacks.length - 1];\n    let stack = '';\n    // Go through every frame in the stack from the innermost one.\n    for (let i = frames.length - 1; i >= 0; i--) {\n      const frame: Frame = frames[i];\n      // Every frame might have more than one debug element stack entry associated with it.\n      // This is because single-child nesting doesn't create materialized frames.\n      // Instead it would push them through `pushElementToDebugStack()`.\n      const debugElementStack = ((frame: any): FrameDev).debugElementStack;\n      for (let ii = debugElementStack.length - 1; ii >= 0; ii--) {\n        stack += describeStackFrame(debugElementStack[ii]);\n      }\n    }\n    return stack;\n  };\n}\n\nlet didWarnDefaultInputValue = false;\nlet didWarnDefaultChecked = false;\nlet didWarnDefaultSelectValue = false;\nlet didWarnDefaultTextareaValue = false;\nlet didWarnInvalidOptionChildren = false;\nconst didWarnAboutNoopUpdateForComponent = {};\nconst didWarnAboutBadClass = {};\nconst didWarnAboutModulePatternComponent = {};\nconst didWarnAboutDeprecatedWillMount = {};\nconst didWarnAboutUndefinedDerivedState = {};\nconst didWarnAboutUninitializedState = {};\nconst valuePropNames = ['value', 'defaultValue'];\nconst newlineEatingTags = {\n  listing: true,\n  pre: true,\n  textarea: true,\n};\n\n// We accept any tag to be rendered but since this gets injected into arbitrary\n// HTML, we want to make sure that it's a safe tag.\n// http://www.w3.org/TR/REC-xml/#NT-Name\nconst VALID_TAG_REGEX = /^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/; // Simplified subset\nconst validatedTagCache = {};\nfunction validateDangerousTag(tag) {\n  if (!validatedTagCache.hasOwnProperty(tag)) {\n    invariant(VALID_TAG_REGEX.test(tag), 'Invalid tag: %s', tag);\n    validatedTagCache[tag] = true;\n  }\n}\n\nconst styleNameCache = {};\nconst processStyleName = function(styleName) {\n  if (styleNameCache.hasOwnProperty(styleName)) {\n    return styleNameCache[styleName];\n  }\n  const result = hyphenateStyleName(styleName);\n  styleNameCache[styleName] = result;\n  return result;\n};\n\nfunction createMarkupForStyles(styles): string | null {\n  let serialized = '';\n  let delimiter = '';\n  for (const styleName in styles) {\n    if (!styles.hasOwnProperty(styleName)) {\n      continue;\n    }\n    const isCustomProperty = styleName.indexOf('--') === 0;\n    const styleValue = styles[styleName];\n    if (__DEV__) {\n      if (!isCustomProperty) {\n        warnValidStyle(styleName, styleValue);\n      }\n    }\n    if (styleValue != null) {\n      serialized +=\n        delimiter +\n        (isCustomProperty ? styleName : processStyleName(styleName)) +\n        ':';\n      serialized += dangerousStyleValue(\n        styleName,\n        styleValue,\n        isCustomProperty,\n      );\n\n      delimiter = ';';\n    }\n  }\n  return serialized || null;\n}\n\nfunction warnNoop(\n  publicInstance: React$Component<any, any>,\n  callerName: string,\n) {\n  if (__DEV__) {\n    const constructor = publicInstance.constructor;\n    const componentName =\n      (constructor && getComponentName(constructor)) || 'ReactClass';\n    const warningKey = componentName + '.' + callerName;\n    if (didWarnAboutNoopUpdateForComponent[warningKey]) {\n      return;\n    }\n\n    console.error(\n      '%s(...): Can only update a mounting component. ' +\n        'This usually means you called %s() outside componentWillMount() on the server. ' +\n        'This is a no-op.\\n\\nPlease check the code for the %s component.',\n      callerName,\n      callerName,\n      componentName,\n    );\n    didWarnAboutNoopUpdateForComponent[warningKey] = true;\n  }\n}\n\nfunction shouldConstruct(Component) {\n  return Component.prototype && Component.prototype.isReactComponent;\n}\n\nfunction getNonChildrenInnerMarkup(props) {\n  const innerHTML = props.dangerouslySetInnerHTML;\n  if (innerHTML != null) {\n    if (innerHTML.__html != null) {\n      return innerHTML.__html;\n    }\n  } else {\n    const content = props.children;\n    if (typeof content === 'string' || typeof content === 'number') {\n      return escapeTextForBrowser(content);\n    }\n  }\n  return null;\n}\n\nfunction flattenTopLevelChildren(children: mixed): FlatReactChildren {\n  if (!React.isValidElement(children)) {\n    return toArray(children);\n  }\n  const element = ((children: any): ReactElement);\n  if (element.type !== REACT_FRAGMENT_TYPE) {\n    return [element];\n  }\n  const fragmentChildren = element.props.children;\n  if (!React.isValidElement(fragmentChildren)) {\n    return toArray(fragmentChildren);\n  }\n  const fragmentChildElement = ((fragmentChildren: any): ReactElement);\n  return [fragmentChildElement];\n}\n\nfunction flattenOptionChildren(children: mixed): ?string {\n  if (children === undefined || children === null) {\n    return children;\n  }\n  let content = '';\n  // Flatten children and warn if they aren't strings or numbers;\n  // invalid types are ignored.\n  React.Children.forEach((children: any), function(child) {\n    if (child == null) {\n      return;\n    }\n    content += (child: any);\n    if (__DEV__) {\n      if (\n        !didWarnInvalidOptionChildren &&\n        typeof child !== 'string' &&\n        typeof child !== 'number'\n      ) {\n        didWarnInvalidOptionChildren = true;\n        console.error(\n          'Only strings and numbers are supported as <option> children.',\n        );\n      }\n    }\n  });\n  return content;\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst STYLE = 'style';\nconst RESERVED_PROPS = {\n  children: null,\n  dangerouslySetInnerHTML: null,\n  suppressContentEditableWarning: null,\n  suppressHydrationWarning: null,\n};\n\nfunction createOpenTagMarkup(\n  tagVerbatim: string,\n  tagLowercase: string,\n  props: Object,\n  namespace: string,\n  makeStaticMarkup: boolean,\n  isRootElement: boolean,\n): string {\n  let ret = '<' + tagVerbatim;\n\n  const isCustomComponent = isCustomComponentFn(tagLowercase, props);\n\n  for (const propKey in props) {\n    if (!hasOwnProperty.call(props, propKey)) {\n      continue;\n    }\n    let propValue = props[propKey];\n    if (propValue == null) {\n      continue;\n    }\n    if (propKey === STYLE) {\n      propValue = createMarkupForStyles(propValue);\n    }\n    let markup = null;\n    if (isCustomComponent) {\n      if (!RESERVED_PROPS.hasOwnProperty(propKey)) {\n        markup = createMarkupForCustomAttribute(propKey, propValue);\n      }\n    } else {\n      markup = createMarkupForProperty(propKey, propValue);\n    }\n    if (markup) {\n      ret += ' ' + markup;\n    }\n  }\n\n  // For static pages, no need to put React ID and checksum. Saves lots of\n  // bytes.\n  if (makeStaticMarkup) {\n    return ret;\n  }\n\n  if (isRootElement) {\n    ret += ' ' + createMarkupForRoot();\n  }\n  return ret;\n}\n\nfunction validateRenderResult(child, type) {\n  if (child === undefined) {\n    invariant(\n      false,\n      '%s(...): Nothing was returned from render. This usually means a ' +\n        'return statement is missing. Or, to render nothing, ' +\n        'return null.',\n      getComponentName(type) || 'Component',\n    );\n  }\n}\n\nfunction resolve(\n  child: mixed,\n  context: Object,\n  threadID: ThreadID,\n): {|\n  child: mixed,\n  context: Object,\n|} {\n  while (React.isValidElement(child)) {\n    // Safe because we just checked it's an element.\n    const element: ReactElement = (child: any);\n    const Component = element.type;\n    if (__DEV__) {\n      pushElementToDebugStack(element);\n    }\n    if (typeof Component !== 'function') {\n      break;\n    }\n    processChild(element, Component);\n  }\n\n  // Extra closure so queue and replace can be captured properly\n  function processChild(element, Component) {\n    const isClass = shouldConstruct(Component);\n    const publicContext = processContext(Component, context, threadID, isClass);\n\n    let queue = [];\n    let replace = false;\n    const updater = {\n      isMounted: function(publicInstance) {\n        return false;\n      },\n      enqueueForceUpdate: function(publicInstance) {\n        if (queue === null) {\n          warnNoop(publicInstance, 'forceUpdate');\n          return null;\n        }\n      },\n      enqueueReplaceState: function(publicInstance, completeState) {\n        replace = true;\n        queue = [completeState];\n      },\n      enqueueSetState: function(publicInstance, currentPartialState) {\n        if (queue === null) {\n          warnNoop(publicInstance, 'setState');\n          return null;\n        }\n        queue.push(currentPartialState);\n      },\n    };\n\n    let inst;\n    if (isClass) {\n      inst = new Component(element.props, publicContext, updater);\n\n      if (typeof Component.getDerivedStateFromProps === 'function') {\n        if (__DEV__) {\n          if (inst.state === null || inst.state === undefined) {\n            const componentName = getComponentName(Component) || 'Unknown';\n            if (!didWarnAboutUninitializedState[componentName]) {\n              console.error(\n                '`%s` uses `getDerivedStateFromProps` but its initial state is ' +\n                  '%s. This is not recommended. Instead, define the initial state by ' +\n                  'assigning an object to `this.state` in the constructor of `%s`. ' +\n                  'This ensures that `getDerivedStateFromProps` arguments have a consistent shape.',\n                componentName,\n                inst.state === null ? 'null' : 'undefined',\n                componentName,\n              );\n              didWarnAboutUninitializedState[componentName] = true;\n            }\n          }\n        }\n\n        const partialState = Component.getDerivedStateFromProps.call(\n          null,\n          element.props,\n          inst.state,\n        );\n\n        if (__DEV__) {\n          if (partialState === undefined) {\n            const componentName = getComponentName(Component) || 'Unknown';\n            if (!didWarnAboutUndefinedDerivedState[componentName]) {\n              console.error(\n                '%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. ' +\n                  'You have returned undefined.',\n                componentName,\n              );\n              didWarnAboutUndefinedDerivedState[componentName] = true;\n            }\n          }\n        }\n\n        if (partialState != null) {\n          inst.state = Object.assign({}, inst.state, partialState);\n        }\n      }\n    } else {\n      if (__DEV__) {\n        if (\n          Component.prototype &&\n          typeof Component.prototype.render === 'function'\n        ) {\n          const componentName = getComponentName(Component) || 'Unknown';\n\n          if (!didWarnAboutBadClass[componentName]) {\n            console.error(\n              \"The <%s /> component appears to have a render method, but doesn't extend React.Component. \" +\n                'This is likely to cause errors. Change %s to extend React.Component instead.',\n              componentName,\n              componentName,\n            );\n            didWarnAboutBadClass[componentName] = true;\n          }\n        }\n      }\n      const componentIdentity = {};\n      prepareToUseHooks(componentIdentity);\n      inst = Component(element.props, publicContext, updater);\n      inst = finishHooks(Component, element.props, inst, publicContext);\n\n      if (__DEV__) {\n        // Support for module components is deprecated and is removed behind a flag.\n        // Whether or not it would crash later, we want to show a good message in DEV first.\n        if (inst != null && inst.render != null) {\n          const componentName = getComponentName(Component) || 'Unknown';\n          if (!didWarnAboutModulePatternComponent[componentName]) {\n            console.error(\n              'The <%s /> component appears to be a function component that returns a class instance. ' +\n                'Change %s to a class that extends React.Component instead. ' +\n                \"If you can't use a class try assigning the prototype on the function as a workaround. \" +\n                \"`%s.prototype = React.Component.prototype`. Don't use an arrow function since it \" +\n                'cannot be called with `new` by React.',\n              componentName,\n              componentName,\n              componentName,\n            );\n            didWarnAboutModulePatternComponent[componentName] = true;\n          }\n        }\n      }\n\n      // If the flag is on, everything is assumed to be a function component.\n      // Otherwise, we also do the unfortunate dynamic checks.\n      if (\n        disableModulePatternComponents ||\n        inst == null ||\n        inst.render == null\n      ) {\n        child = inst;\n        validateRenderResult(child, Component);\n        return;\n      }\n    }\n\n    inst.props = element.props;\n    inst.context = publicContext;\n    inst.updater = updater;\n\n    let initialState = inst.state;\n    if (initialState === undefined) {\n      inst.state = initialState = null;\n    }\n    if (\n      typeof inst.UNSAFE_componentWillMount === 'function' ||\n      typeof inst.componentWillMount === 'function'\n    ) {\n      if (typeof inst.componentWillMount === 'function') {\n        if (__DEV__) {\n          if (\n            warnAboutDeprecatedLifecycles &&\n            inst.componentWillMount.__suppressDeprecationWarning !== true\n          ) {\n            const componentName = getComponentName(Component) || 'Unknown';\n\n            if (!didWarnAboutDeprecatedWillMount[componentName]) {\n              console.warn(\n                // keep this warning in sync with ReactStrictModeWarning.js\n                'componentWillMount has been renamed, and is not recommended for use. ' +\n                  'See https://reactjs.org/link/unsafe-component-lifecycles for details.\\n\\n' +\n                  '* Move code from componentWillMount to componentDidMount (preferred in most cases) ' +\n                  'or the constructor.\\n' +\n                  '\\nPlease update the following components: %s',\n                componentName,\n              );\n              didWarnAboutDeprecatedWillMount[componentName] = true;\n            }\n          }\n        }\n\n        // In order to support react-lifecycles-compat polyfilled components,\n        // Unsafe lifecycles should not be invoked for any component with the new gDSFP.\n        if (typeof Component.getDerivedStateFromProps !== 'function') {\n          inst.componentWillMount();\n        }\n      }\n      if (\n        typeof inst.UNSAFE_componentWillMount === 'function' &&\n        typeof Component.getDerivedStateFromProps !== 'function'\n      ) {\n        // In order to support react-lifecycles-compat polyfilled components,\n        // Unsafe lifecycles should not be invoked for any component with the new gDSFP.\n        inst.UNSAFE_componentWillMount();\n      }\n      if (queue.length) {\n        const oldQueue = queue;\n        const oldReplace = replace;\n        queue = null;\n        replace = false;\n\n        if (oldReplace && oldQueue.length === 1) {\n          inst.state = oldQueue[0];\n        } else {\n          let nextState = oldReplace ? oldQueue[0] : inst.state;\n          let dontMutate = true;\n          for (let i = oldReplace ? 1 : 0; i < oldQueue.length; i++) {\n            const partial = oldQueue[i];\n            const partialState =\n              typeof partial === 'function'\n                ? partial.call(inst, nextState, element.props, publicContext)\n                : partial;\n            if (partialState != null) {\n              if (dontMutate) {\n                dontMutate = false;\n                nextState = Object.assign({}, nextState, partialState);\n              } else {\n                Object.assign(nextState, partialState);\n              }\n            }\n          }\n          inst.state = nextState;\n        }\n      } else {\n        queue = null;\n      }\n    }\n    child = inst.render();\n\n    if (__DEV__) {\n      if (child === undefined && inst.render._isMockFunction) {\n        // This is probably bad practice. Consider warning here and\n        // deprecating this convenience.\n        child = null;\n      }\n    }\n    validateRenderResult(child, Component);\n\n    let childContext;\n    if (disableLegacyContext) {\n      if (__DEV__) {\n        const childContextTypes = Component.childContextTypes;\n        if (childContextTypes !== undefined) {\n          console.error(\n            '%s uses the legacy childContextTypes API which is no longer supported. ' +\n              'Use React.createContext() instead.',\n            getComponentName(Component) || 'Unknown',\n          );\n        }\n      }\n    } else {\n      if (typeof inst.getChildContext === 'function') {\n        const childContextTypes = Component.childContextTypes;\n        if (typeof childContextTypes === 'object') {\n          childContext = inst.getChildContext();\n          for (const contextKey in childContext) {\n            invariant(\n              contextKey in childContextTypes,\n              '%s.getChildContext(): key \"%s\" is not defined in childContextTypes.',\n              getComponentName(Component) || 'Unknown',\n              contextKey,\n            );\n          }\n        } else {\n          if (__DEV__) {\n            console.error(\n              '%s.getChildContext(): childContextTypes must be defined in order to ' +\n                'use getChildContext().',\n              getComponentName(Component) || 'Unknown',\n            );\n          }\n        }\n      }\n      if (childContext) {\n        context = Object.assign({}, context, childContext);\n      }\n    }\n  }\n  return {child, context};\n}\n\ntype Frame = {\n  type: mixed,\n  domNamespace: string,\n  children: FlatReactChildren,\n  fallbackFrame?: Frame,\n  childIndex: number,\n  context: Object,\n  footer: string,\n  ...\n};\n\ntype FrameDev = Frame & {|debugElementStack: Array<ReactElement>|};\n\nclass ReactDOMServerRenderer {\n  threadID: ThreadID;\n  stack: Array<Frame>;\n  exhausted: boolean;\n  // TODO: type this more strictly:\n  currentSelectValue: any;\n  previousWasTextNode: boolean;\n  makeStaticMarkup: boolean;\n  suspenseDepth: number;\n\n  contextIndex: number;\n  contextStack: Array<ReactContext<any>>;\n  contextValueStack: Array<any>;\n  contextProviderStack: ?Array<ReactProvider<any>>; // DEV-only\n\n  uniqueID: number;\n  identifierPrefix: string;\n\n  constructor(\n    children: mixed,\n    makeStaticMarkup: boolean,\n    options?: ServerOptions,\n  ) {\n    const flatChildren = flattenTopLevelChildren(children);\n\n    const topFrame: Frame = {\n      type: null,\n      // Assume all trees start in the HTML namespace (not totally true, but\n      // this is what we did historically)\n      domNamespace: Namespaces.html,\n      children: flatChildren,\n      childIndex: 0,\n      context: emptyObject,\n      footer: '',\n    };\n    if (__DEV__) {\n      ((topFrame: any): FrameDev).debugElementStack = [];\n    }\n    this.threadID = allocThreadID();\n    this.stack = [topFrame];\n    this.exhausted = false;\n    this.currentSelectValue = null;\n    this.previousWasTextNode = false;\n    this.makeStaticMarkup = makeStaticMarkup;\n    this.suspenseDepth = 0;\n\n    // Context (new API)\n    this.contextIndex = -1;\n    this.contextStack = [];\n    this.contextValueStack = [];\n\n    // useOpaqueIdentifier ID\n    this.uniqueID = 0;\n    this.identifierPrefix = (options && options.identifierPrefix) || '';\n\n    if (__DEV__) {\n      this.contextProviderStack = [];\n    }\n  }\n\n  destroy() {\n    if (!this.exhausted) {\n      this.exhausted = true;\n      this.clearProviders();\n      freeThreadID(this.threadID);\n    }\n  }\n\n  /**\n   * Note: We use just two stacks regardless of how many context providers you have.\n   * Providers are always popped in the reverse order to how they were pushed\n   * so we always know on the way down which provider you'll encounter next on the way up.\n   * On the way down, we push the current provider, and its context value *before*\n   * we mutated it, onto the stacks. Therefore, on the way up, we always know which\n   * provider needs to be \"restored\" to which value.\n   * https://github.com/facebook/react/pull/12985#issuecomment-396301248\n   */\n\n  pushProvider<T>(provider: ReactProvider<T>): void {\n    const index = ++this.contextIndex;\n    const context: ReactContext<any> = provider.type._context;\n    const threadID = this.threadID;\n    validateContextBounds(context, threadID);\n    const previousValue = context[threadID];\n\n    // Remember which value to restore this context to on our way up.\n    this.contextStack[index] = context;\n    this.contextValueStack[index] = previousValue;\n    if (__DEV__) {\n      // Only used for push/pop mismatch warnings.\n      (this.contextProviderStack: any)[index] = provider;\n    }\n\n    // Mutate the current value.\n    context[threadID] = provider.props.value;\n  }\n\n  popProvider<T>(provider: ReactProvider<T>): void {\n    const index = this.contextIndex;\n    if (__DEV__) {\n      if (index < 0 || provider !== (this.contextProviderStack: any)[index]) {\n        console.error('Unexpected pop.');\n      }\n    }\n\n    const context: ReactContext<any> = this.contextStack[index];\n    const previousValue = this.contextValueStack[index];\n\n    // \"Hide\" these null assignments from Flow by using `any`\n    // because conceptually they are deletions--as long as we\n    // promise to never access values beyond `this.contextIndex`.\n    this.contextStack[index] = (null: any);\n    this.contextValueStack[index] = (null: any);\n    if (__DEV__) {\n      (this.contextProviderStack: any)[index] = (null: any);\n    }\n    this.contextIndex--;\n\n    // Restore to the previous value we stored as we were walking down.\n    // We've already verified that this context has been expanded to accommodate\n    // this thread id, so we don't need to do it again.\n    context[this.threadID] = previousValue;\n  }\n\n  clearProviders(): void {\n    // Restore any remaining providers on the stack to previous values\n    for (let index = this.contextIndex; index >= 0; index--) {\n      const context: ReactContext<any> = this.contextStack[index];\n      const previousValue = this.contextValueStack[index];\n      context[this.threadID] = previousValue;\n    }\n  }\n\n  read(bytes: number): string | null {\n    if (this.exhausted) {\n      return null;\n    }\n\n    const prevPartialRenderer = currentPartialRenderer;\n    setCurrentPartialRenderer(this);\n    const prevDispatcher = ReactCurrentDispatcher.current;\n    ReactCurrentDispatcher.current = Dispatcher;\n    try {\n      // Markup generated within <Suspense> ends up buffered until we know\n      // nothing in that boundary suspended\n      const out = [''];\n      let suspended = false;\n      while (out[0].length < bytes) {\n        if (this.stack.length === 0) {\n          this.exhausted = true;\n          freeThreadID(this.threadID);\n          break;\n        }\n        const frame: Frame = this.stack[this.stack.length - 1];\n        if (suspended || frame.childIndex >= frame.children.length) {\n          const footer = frame.footer;\n          if (footer !== '') {\n            this.previousWasTextNode = false;\n          }\n          this.stack.pop();\n          if (frame.type === 'select') {\n            this.currentSelectValue = null;\n          } else if (\n            frame.type != null &&\n            frame.type.type != null &&\n            frame.type.type.$$typeof === REACT_PROVIDER_TYPE\n          ) {\n            const provider: ReactProvider<any> = (frame.type: any);\n            this.popProvider(provider);\n          } else if (frame.type === REACT_SUSPENSE_TYPE) {\n            this.suspenseDepth--;\n            const buffered = out.pop();\n\n            if (suspended) {\n              suspended = false;\n              // If rendering was suspended at this boundary, render the fallbackFrame\n              const fallbackFrame = frame.fallbackFrame;\n              invariant(\n                fallbackFrame,\n                'ReactDOMServer did not find an internal fallback frame for Suspense. ' +\n                  'This is a bug in React. Please file an issue.',\n              );\n              this.stack.push(fallbackFrame);\n              out[this.suspenseDepth] += '<!--$!-->';\n              // Skip flushing output since we're switching to the fallback\n              continue;\n            } else {\n              out[this.suspenseDepth] += buffered;\n            }\n          }\n\n          // Flush output\n          out[this.suspenseDepth] += footer;\n          continue;\n        }\n        const child = frame.children[frame.childIndex++];\n\n        let outBuffer = '';\n        if (__DEV__) {\n          pushCurrentDebugStack(this.stack);\n          // We're starting work on this frame, so reset its inner stack.\n          ((frame: any): FrameDev).debugElementStack.length = 0;\n        }\n        try {\n          outBuffer += this.render(child, frame.context, frame.domNamespace);\n        } catch (err) {\n          if (err != null && typeof err.then === 'function') {\n            if (enableSuspenseServerRenderer) {\n              invariant(\n                this.suspenseDepth > 0,\n                // TODO: include component name. This is a bit tricky with current factoring.\n                'A React component suspended while rendering, but no fallback UI was specified.\\n' +\n                  '\\n' +\n                  'Add a <Suspense fallback=...> component higher in the tree to ' +\n                  'provide a loading indicator or placeholder to display.',\n              );\n              suspended = true;\n            } else {\n              invariant(false, 'ReactDOMServer does not yet support Suspense.');\n            }\n          } else {\n            throw err;\n          }\n        } finally {\n          if (__DEV__) {\n            popCurrentDebugStack();\n          }\n        }\n        if (out.length <= this.suspenseDepth) {\n          out.push('');\n        }\n        out[this.suspenseDepth] += outBuffer;\n      }\n      return out[0];\n    } finally {\n      ReactCurrentDispatcher.current = prevDispatcher;\n      setCurrentPartialRenderer(prevPartialRenderer);\n      resetHooksState();\n    }\n  }\n\n  render(\n    child: ReactNode | null,\n    context: Object,\n    parentNamespace: string,\n  ): string {\n    if (typeof child === 'string' || typeof child === 'number') {\n      const text = '' + child;\n      if (text === '') {\n        return '';\n      }\n      if (this.makeStaticMarkup) {\n        return escapeTextForBrowser(text);\n      }\n      if (this.previousWasTextNode) {\n        return '<!-- -->' + escapeTextForBrowser(text);\n      }\n      this.previousWasTextNode = true;\n      return escapeTextForBrowser(text);\n    } else {\n      let nextChild;\n      ({child: nextChild, context} = resolve(child, context, this.threadID));\n      if (nextChild === null || nextChild === false) {\n        return '';\n      } else if (!React.isValidElement(nextChild)) {\n        if (nextChild != null && nextChild.$$typeof != null) {\n          // Catch unexpected special types early.\n          const $$typeof = nextChild.$$typeof;\n          invariant(\n            $$typeof !== REACT_PORTAL_TYPE,\n            'Portals are not currently supported by the server renderer. ' +\n              'Render them conditionally so that they only appear on the client render.',\n          );\n          // Catch-all to prevent an infinite loop if React.Children.toArray() supports some new type.\n          invariant(\n            false,\n            'Unknown element-like object type: %s. This is likely a bug in React. ' +\n              'Please file an issue.',\n            ($$typeof: any).toString(),\n          );\n        }\n        const nextChildren = toArray(nextChild);\n        const frame: Frame = {\n          type: null,\n          domNamespace: parentNamespace,\n          children: nextChildren,\n          childIndex: 0,\n          context: context,\n          footer: '',\n        };\n        if (__DEV__) {\n          ((frame: any): FrameDev).debugElementStack = [];\n        }\n        this.stack.push(frame);\n        return '';\n      }\n      // Safe because we just checked it's an element.\n      const nextElement = ((nextChild: any): ReactElement);\n      const elementType = nextElement.type;\n\n      if (typeof elementType === 'string') {\n        return this.renderDOM(nextElement, context, parentNamespace);\n      }\n\n      switch (elementType) {\n        // TODO: LegacyHidden acts the same as a fragment. This only works\n        // because we currently assume that every instance of LegacyHidden is\n        // accompanied by a host component wrapper. In the hidden mode, the host\n        // component is given a `hidden` attribute, which ensures that the\n        // initial HTML is not visible. To support the use of LegacyHidden as a\n        // true fragment, without an extra DOM node, we would have to hide the\n        // initial HTML in some other way.\n        case REACT_LEGACY_HIDDEN_TYPE:\n        case REACT_DEBUG_TRACING_MODE_TYPE:\n        case REACT_STRICT_MODE_TYPE:\n        case REACT_PROFILER_TYPE:\n        case REACT_SUSPENSE_LIST_TYPE:\n        case REACT_FRAGMENT_TYPE: {\n          const nextChildren = toArray(\n            ((nextChild: any): ReactElement).props.children,\n          );\n          const frame: Frame = {\n            type: null,\n            domNamespace: parentNamespace,\n            children: nextChildren,\n            childIndex: 0,\n            context: context,\n            footer: '',\n          };\n          if (__DEV__) {\n            ((frame: any): FrameDev).debugElementStack = [];\n          }\n          this.stack.push(frame);\n          return '';\n        }\n        case REACT_SUSPENSE_TYPE: {\n          if (enableSuspenseServerRenderer) {\n            const fallback = ((nextChild: any): ReactElement).props.fallback;\n            if (fallback === undefined) {\n              // If there is no fallback, then this just behaves as a fragment.\n              const nextChildren = toArray(\n                ((nextChild: any): ReactElement).props.children,\n              );\n              const frame: Frame = {\n                type: null,\n                domNamespace: parentNamespace,\n                children: nextChildren,\n                childIndex: 0,\n                context: context,\n                footer: '',\n              };\n              if (__DEV__) {\n                ((frame: any): FrameDev).debugElementStack = [];\n              }\n              this.stack.push(frame);\n              return '';\n            }\n            const fallbackChildren = toArray(fallback);\n            const nextChildren = toArray(\n              ((nextChild: any): ReactElement).props.children,\n            );\n            const fallbackFrame: Frame = {\n              type: null,\n              domNamespace: parentNamespace,\n              children: fallbackChildren,\n              childIndex: 0,\n              context: context,\n              footer: '<!--/$-->',\n            };\n            const frame: Frame = {\n              fallbackFrame,\n              type: REACT_SUSPENSE_TYPE,\n              domNamespace: parentNamespace,\n              children: nextChildren,\n              childIndex: 0,\n              context: context,\n              footer: '<!--/$-->',\n            };\n            if (__DEV__) {\n              ((frame: any): FrameDev).debugElementStack = [];\n              ((fallbackFrame: any): FrameDev).debugElementStack = [];\n            }\n            this.stack.push(frame);\n            this.suspenseDepth++;\n            return '<!--$-->';\n          } else {\n            invariant(false, 'ReactDOMServer does not yet support Suspense.');\n          }\n        }\n        // eslint-disable-next-line-no-fallthrough\n        case REACT_SCOPE_TYPE: {\n          if (enableScopeAPI) {\n            const nextChildren = toArray(\n              ((nextChild: any): ReactElement).props.children,\n            );\n            const frame: Frame = {\n              type: null,\n              domNamespace: parentNamespace,\n              children: nextChildren,\n              childIndex: 0,\n              context: context,\n              footer: '',\n            };\n            if (__DEV__) {\n              ((frame: any): FrameDev).debugElementStack = [];\n            }\n            this.stack.push(frame);\n            return '';\n          }\n          invariant(\n            false,\n            'ReactDOMServer does not yet support scope components.',\n          );\n        }\n        // eslint-disable-next-line-no-fallthrough\n        default:\n          break;\n      }\n      if (typeof elementType === 'object' && elementType !== null) {\n        switch (elementType.$$typeof) {\n          case REACT_FORWARD_REF_TYPE: {\n            const element: ReactElement = ((nextChild: any): ReactElement);\n            let nextChildren;\n            const componentIdentity = {};\n            prepareToUseHooks(componentIdentity);\n            nextChildren = elementType.render(element.props, element.ref);\n            nextChildren = finishHooks(\n              elementType.render,\n              element.props,\n              nextChildren,\n              element.ref,\n            );\n            nextChildren = toArray(nextChildren);\n            const frame: Frame = {\n              type: null,\n              domNamespace: parentNamespace,\n              children: nextChildren,\n              childIndex: 0,\n              context: context,\n              footer: '',\n            };\n            if (__DEV__) {\n              ((frame: any): FrameDev).debugElementStack = [];\n            }\n            this.stack.push(frame);\n            return '';\n          }\n          case REACT_MEMO_TYPE: {\n            const element: ReactElement = ((nextChild: any): ReactElement);\n            const nextChildren = [\n              React.createElement(\n                elementType.type,\n                Object.assign({ref: element.ref}, element.props),\n              ),\n            ];\n            const frame: Frame = {\n              type: null,\n              domNamespace: parentNamespace,\n              children: nextChildren,\n              childIndex: 0,\n              context: context,\n              footer: '',\n            };\n            if (__DEV__) {\n              ((frame: any): FrameDev).debugElementStack = [];\n            }\n            this.stack.push(frame);\n            return '';\n          }\n          case REACT_PROVIDER_TYPE: {\n            const provider: ReactProvider<any> = (nextChild: any);\n            const nextProps = provider.props;\n            const nextChildren = toArray(nextProps.children);\n            const frame: Frame = {\n              type: provider,\n              domNamespace: parentNamespace,\n              children: nextChildren,\n              childIndex: 0,\n              context: context,\n              footer: '',\n            };\n            if (__DEV__) {\n              ((frame: any): FrameDev).debugElementStack = [];\n            }\n\n            this.pushProvider(provider);\n\n            this.stack.push(frame);\n            return '';\n          }\n          case REACT_CONTEXT_TYPE: {\n            let reactContext = (nextChild: any).type;\n            // The logic below for Context differs depending on PROD or DEV mode. In\n            // DEV mode, we create a separate object for Context.Consumer that acts\n            // like a proxy to Context. This proxy object adds unnecessary code in PROD\n            // so we use the old behaviour (Context.Consumer references Context) to\n            // reduce size and overhead. The separate object references context via\n            // a property called \"_context\", which also gives us the ability to check\n            // in DEV mode if this property exists or not and warn if it does not.\n            if (__DEV__) {\n              if ((reactContext: any)._context === undefined) {\n                // This may be because it's a Context (rather than a Consumer).\n                // Or it may be because it's older React where they're the same thing.\n                // We only want to warn if we're sure it's a new React.\n                if (reactContext !== reactContext.Consumer) {\n                  if (!hasWarnedAboutUsingContextAsConsumer) {\n                    hasWarnedAboutUsingContextAsConsumer = true;\n                    console.error(\n                      'Rendering <Context> directly is not supported and will be removed in ' +\n                        'a future major release. Did you mean to render <Context.Consumer> instead?',\n                    );\n                  }\n                }\n              } else {\n                reactContext = (reactContext: any)._context;\n              }\n            }\n            const nextProps: any = (nextChild: any).props;\n            const threadID = this.threadID;\n            validateContextBounds(reactContext, threadID);\n            const nextValue = reactContext[threadID];\n\n            const nextChildren = toArray(nextProps.children(nextValue));\n            const frame: Frame = {\n              type: nextChild,\n              domNamespace: parentNamespace,\n              children: nextChildren,\n              childIndex: 0,\n              context: context,\n              footer: '',\n            };\n            if (__DEV__) {\n              ((frame: any): FrameDev).debugElementStack = [];\n            }\n            this.stack.push(frame);\n            return '';\n          }\n          // eslint-disable-next-line-no-fallthrough\n          case REACT_FUNDAMENTAL_TYPE: {\n            if (enableFundamentalAPI) {\n              const fundamentalImpl = elementType.impl;\n              const open = fundamentalImpl.getServerSideString(\n                null,\n                nextElement.props,\n              );\n              const getServerSideStringClose =\n                fundamentalImpl.getServerSideStringClose;\n              const close =\n                getServerSideStringClose !== undefined\n                  ? getServerSideStringClose(null, nextElement.props)\n                  : '';\n              const nextChildren =\n                fundamentalImpl.reconcileChildren !== false\n                  ? toArray(((nextChild: any): ReactElement).props.children)\n                  : [];\n              const frame: Frame = {\n                type: null,\n                domNamespace: parentNamespace,\n                children: nextChildren,\n                childIndex: 0,\n                context: context,\n                footer: close,\n              };\n              if (__DEV__) {\n                ((frame: any): FrameDev).debugElementStack = [];\n              }\n              this.stack.push(frame);\n              return open;\n            }\n            invariant(\n              false,\n              'ReactDOMServer does not yet support the fundamental API.',\n            );\n          }\n          // eslint-disable-next-line-no-fallthrough\n          case REACT_LAZY_TYPE: {\n            const element: ReactElement = (nextChild: any);\n            const lazyComponent: LazyComponent<any, any> = (nextChild: any)\n              .type;\n            // Attempt to initialize lazy component regardless of whether the\n            // suspense server-side renderer is enabled so synchronously\n            // resolved constructors are supported.\n            const payload = lazyComponent._payload;\n            const init = lazyComponent._init;\n            const result = init(payload);\n            const nextChildren = [\n              React.createElement(\n                result,\n                Object.assign({ref: element.ref}, element.props),\n              ),\n            ];\n            const frame: Frame = {\n              type: null,\n              domNamespace: parentNamespace,\n              children: nextChildren,\n              childIndex: 0,\n              context: context,\n              footer: '',\n            };\n            if (__DEV__) {\n              ((frame: any): FrameDev).debugElementStack = [];\n            }\n            this.stack.push(frame);\n            return '';\n          }\n        }\n      }\n\n      let info = '';\n      if (__DEV__) {\n        const owner = nextElement._owner;\n        if (\n          elementType === undefined ||\n          (typeof elementType === 'object' &&\n            elementType !== null &&\n            Object.keys(elementType).length === 0)\n        ) {\n          info +=\n            ' You likely forgot to export your component from the file ' +\n            \"it's defined in, or you might have mixed up default and \" +\n            'named imports.';\n        }\n        const ownerName = owner ? getComponentName(owner) : null;\n        if (ownerName) {\n          info += '\\n\\nCheck the render method of `' + ownerName + '`.';\n        }\n      }\n      invariant(\n        false,\n        'Element type is invalid: expected a string (for built-in ' +\n          'components) or a class/function (for composite components) ' +\n          'but got: %s.%s',\n        elementType == null ? elementType : typeof elementType,\n        info,\n      );\n    }\n  }\n\n  renderDOM(\n    element: ReactElement,\n    context: Object,\n    parentNamespace: string,\n  ): string {\n    const tag = element.type.toLowerCase();\n\n    let namespace = parentNamespace;\n    if (parentNamespace === Namespaces.html) {\n      namespace = getIntrinsicNamespace(tag);\n    }\n\n    if (__DEV__) {\n      if (namespace === Namespaces.html) {\n        // Should this check be gated by parent namespace? Not sure we want to\n        // allow <SVG> or <mATH>.\n        if (tag !== element.type) {\n          console.error(\n            '<%s /> is using incorrect casing. ' +\n              'Use PascalCase for React components, ' +\n              'or lowercase for HTML elements.',\n            element.type,\n          );\n        }\n      }\n    }\n\n    validateDangerousTag(tag);\n\n    let props = element.props;\n    if (tag === 'input') {\n      if (__DEV__) {\n        checkControlledValueProps('input', props);\n\n        if (\n          props.checked !== undefined &&\n          props.defaultChecked !== undefined &&\n          !didWarnDefaultChecked\n        ) {\n          console.error(\n            '%s contains an input of type %s with both checked and defaultChecked props. ' +\n              'Input elements must be either controlled or uncontrolled ' +\n              '(specify either the checked prop, or the defaultChecked prop, but not ' +\n              'both). Decide between using a controlled or uncontrolled input ' +\n              'element and remove one of these props. More info: ' +\n              'https://reactjs.org/link/controlled-components',\n            'A component',\n            props.type,\n          );\n          didWarnDefaultChecked = true;\n        }\n        if (\n          props.value !== undefined &&\n          props.defaultValue !== undefined &&\n          !didWarnDefaultInputValue\n        ) {\n          console.error(\n            '%s contains an input of type %s with both value and defaultValue props. ' +\n              'Input elements must be either controlled or uncontrolled ' +\n              '(specify either the value prop, or the defaultValue prop, but not ' +\n              'both). Decide between using a controlled or uncontrolled input ' +\n              'element and remove one of these props. More info: ' +\n              'https://reactjs.org/link/controlled-components',\n            'A component',\n            props.type,\n          );\n          didWarnDefaultInputValue = true;\n        }\n      }\n\n      props = Object.assign(\n        {\n          type: undefined,\n        },\n        props,\n        {\n          defaultChecked: undefined,\n          defaultValue: undefined,\n          value: props.value != null ? props.value : props.defaultValue,\n          checked: props.checked != null ? props.checked : props.defaultChecked,\n        },\n      );\n    } else if (tag === 'textarea') {\n      if (__DEV__) {\n        checkControlledValueProps('textarea', props);\n        if (\n          props.value !== undefined &&\n          props.defaultValue !== undefined &&\n          !didWarnDefaultTextareaValue\n        ) {\n          console.error(\n            'Textarea elements must be either controlled or uncontrolled ' +\n              '(specify either the value prop, or the defaultValue prop, but not ' +\n              'both). Decide between using a controlled or uncontrolled textarea ' +\n              'and remove one of these props. More info: ' +\n              'https://reactjs.org/link/controlled-components',\n          );\n          didWarnDefaultTextareaValue = true;\n        }\n      }\n\n      let initialValue = props.value;\n      if (initialValue == null) {\n        let defaultValue = props.defaultValue;\n        // TODO (yungsters): Remove support for children content in <textarea>.\n        let textareaChildren = props.children;\n        if (textareaChildren != null) {\n          if (__DEV__) {\n            console.error(\n              'Use the `defaultValue` or `value` props instead of setting ' +\n                'children on <textarea>.',\n            );\n          }\n          invariant(\n            defaultValue == null,\n            'If you supply `defaultValue` on a <textarea>, do not pass children.',\n          );\n          if (Array.isArray(textareaChildren)) {\n            invariant(\n              textareaChildren.length <= 1,\n              '<textarea> can only have at most one child.',\n            );\n            textareaChildren = textareaChildren[0];\n          }\n\n          defaultValue = '' + textareaChildren;\n        }\n        if (defaultValue == null) {\n          defaultValue = '';\n        }\n        initialValue = defaultValue;\n      }\n\n      props = Object.assign({}, props, {\n        value: undefined,\n        children: '' + initialValue,\n      });\n    } else if (tag === 'select') {\n      if (__DEV__) {\n        checkControlledValueProps('select', props);\n\n        for (let i = 0; i < valuePropNames.length; i++) {\n          const propName = valuePropNames[i];\n          if (props[propName] == null) {\n            continue;\n          }\n          const isArray = Array.isArray(props[propName]);\n          if (props.multiple && !isArray) {\n            console.error(\n              'The `%s` prop supplied to <select> must be an array if ' +\n                '`multiple` is true.',\n              propName,\n            );\n          } else if (!props.multiple && isArray) {\n            console.error(\n              'The `%s` prop supplied to <select> must be a scalar ' +\n                'value if `multiple` is false.',\n              propName,\n            );\n          }\n        }\n\n        if (\n          props.value !== undefined &&\n          props.defaultValue !== undefined &&\n          !didWarnDefaultSelectValue\n        ) {\n          console.error(\n            'Select elements must be either controlled or uncontrolled ' +\n              '(specify either the value prop, or the defaultValue prop, but not ' +\n              'both). Decide between using a controlled or uncontrolled select ' +\n              'element and remove one of these props. More info: ' +\n              'https://reactjs.org/link/controlled-components',\n          );\n          didWarnDefaultSelectValue = true;\n        }\n      }\n      this.currentSelectValue =\n        props.value != null ? props.value : props.defaultValue;\n      props = Object.assign({}, props, {\n        value: undefined,\n      });\n    } else if (tag === 'option') {\n      let selected = null;\n      const selectValue = this.currentSelectValue;\n      const optionChildren = flattenOptionChildren(props.children);\n      if (selectValue != null) {\n        let value;\n        if (props.value != null) {\n          value = props.value + '';\n        } else {\n          value = optionChildren;\n        }\n        selected = false;\n        if (Array.isArray(selectValue)) {\n          // multiple\n          for (let j = 0; j < selectValue.length; j++) {\n            if ('' + selectValue[j] === value) {\n              selected = true;\n              break;\n            }\n          }\n        } else {\n          selected = '' + selectValue === value;\n        }\n\n        props = Object.assign(\n          {\n            selected: undefined,\n            children: undefined,\n          },\n          props,\n          {\n            selected: selected,\n            children: optionChildren,\n          },\n        );\n      }\n    }\n\n    if (__DEV__) {\n      validatePropertiesInDevelopment(tag, props);\n    }\n\n    assertValidProps(tag, props);\n\n    let out = createOpenTagMarkup(\n      element.type,\n      tag,\n      props,\n      namespace,\n      this.makeStaticMarkup,\n      this.stack.length === 1,\n    );\n    let footer = '';\n    if (omittedCloseTags.hasOwnProperty(tag)) {\n      out += '/>';\n    } else {\n      out += '>';\n      footer = '</' + element.type + '>';\n    }\n    let children;\n    const innerMarkup = getNonChildrenInnerMarkup(props);\n    if (innerMarkup != null) {\n      children = [];\n      if (\n        newlineEatingTags.hasOwnProperty(tag) &&\n        innerMarkup.charAt(0) === '\\n'\n      ) {\n        // text/html ignores the first character in these tags if it's a newline\n        // Prefer to break application/xml over text/html (for now) by adding\n        // a newline specifically to get eaten by the parser. (Alternately for\n        // textareas, replacing \"^\\n\" with \"\\r\\n\" doesn't get eaten, and the first\n        // \\r is normalized out by HTMLTextAreaElement#value.)\n        // See: <http://www.w3.org/TR/html-polyglot/#newlines-in-textarea-and-pre>\n        // See: <http://www.w3.org/TR/html5/syntax.html#element-restrictions>\n        // See: <http://www.w3.org/TR/html5/syntax.html#newlines>\n        // See: Parsing of \"textarea\" \"listing\" and \"pre\" elements\n        //  from <http://www.w3.org/TR/html5/syntax.html#parsing-main-inbody>\n        out += '\\n';\n      }\n      out += innerMarkup;\n    } else {\n      children = toArray(props.children);\n    }\n    const frame = {\n      domNamespace: getChildNamespace(parentNamespace, element.type),\n      type: tag,\n      children,\n      childIndex: 0,\n      context: context,\n      footer: footer,\n    };\n    if (__DEV__) {\n      ((frame: any): FrameDev).debugElementStack = [];\n    }\n    this.stack.push(frame);\n    this.previousWasTextNode = false;\n    return out;\n  }\n}\n\nexport default ReactDOMServerRenderer;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport type {ServerOptions} from './ReactPartialRenderer';\nimport ReactPartialRenderer from './ReactPartialRenderer';\n\n/**\n * Render a ReactElement to its initial HTML. This should only be used on the\n * server.\n * See https://reactjs.org/docs/react-dom-server.html#rendertostring\n */\nexport function renderToString(element, options?: ServerOptions) {\n  const renderer = new ReactPartialRenderer(element, false, options);\n  try {\n    const markup = renderer.read(Infinity);\n    return markup;\n  } finally {\n    renderer.destroy();\n  }\n}\n\n/**\n * Similar to renderToString, except this doesn't create extra DOM attributes\n * such as data-react-id that React uses internally.\n * See https://reactjs.org/docs/react-dom-server.html#rendertostaticmarkup\n */\nexport function renderToStaticMarkup(element, options?: ServerOptions) {\n  const renderer = new ReactPartialRenderer(element, true, options);\n  try {\n    const markup = renderer.read(Infinity);\n    return markup;\n  } finally {\n    renderer.destroy();\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport ReactVersion from 'shared/ReactVersion';\nimport invariant from 'shared/invariant';\n\nimport {renderToString, renderToStaticMarkup} from './ReactDOMStringRenderer';\n\nfunction renderToNodeStream() {\n  invariant(\n    false,\n    'ReactDOMServer.renderToNodeStream(): The streaming API is not available ' +\n      'in the browser. Use ReactDOMServer.renderToString() instead.',\n  );\n}\n\nfunction renderToStaticNodeStream() {\n  invariant(\n    false,\n    'ReactDOMServer.renderToStaticNodeStream(): The streaming API is not available ' +\n      'in the browser. Use ReactDOMServer.renderToStaticMarkup() instead.',\n  );\n}\n\nexport {\n  renderToString,\n  renderToStaticMarkup,\n  renderToNodeStream,\n  renderToStaticNodeStream,\n  ReactVersion as version,\n};\n"],"names":["formatProdErrorMessage","code","url","i","arguments","length","encodeURIComponent","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_SCOPE_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_LEGACY_HIDDEN_TYPE","Symbol","for","symbolFor","REACT_ELEMENT_TYPE","REACT_SERVER_BLOCK_TYPE","REACT_OPAQUE_ID_TYPE","REACT_OFFSCREEN_TYPE","getWrappedName","outerType","innerType","wrapperName","functionName","displayName","name","getContextName","type","getComponentName","$$typeof","context","provider","_context","render","_render","lazyComponent","payload","_payload","init","_init","x","enableSuspenseServerRenderer","__EXPERIMENTAL__","ReactSharedInternals","React","ReactCurrentDispatcher","ReactDebugCurrentFrame","emptyObject","maskContext","contextTypes","maskedContext","contextName","validateContextBounds","threadID","_threadCount","_currentValue2","processContext","isClass","contextType","nextAvailableThreadIDs","Uint16Array","growThreadCountAndReturnNextAvailable","oldArray","oldSize","newSize","newArray","set","allocThreadID","nextID","freeThreadID","id","RESERVED","STRING","BOOLEANISH_STRING","BOOLEAN","OVERLOADED_BOOLEAN","NUMERIC","POSITIVE_NUMERIC","ATTRIBUTE_NAME_START_CHAR","ATTRIBUTE_NAME_CHAR","ROOT_ATTRIBUTE_NAME","VALID_ATTRIBUTE_NAME_REGEX","RegExp","hasOwnProperty","Object","prototype","illegalAttributeNameCache","validatedAttributeNameCache","isAttributeNameSafe","attributeName","call","test","shouldIgnoreAttribute","propertyInfo","isCustomComponentTag","shouldRemoveAttributeWithWarning","value","acceptsBooleans","prefix","toLowerCase","slice","shouldRemoveAttribute","isNaN","getPropertyInfo","properties","PropertyInfoRecord","mustUseProperty","attributeNamespace","sanitizeURL","removeEmptyString","propertyName","reservedProps","forEach","CAMELIZE","capitalize","token","toUpperCase","replace","xlinkHref","matchHtmlRegExp","escapeHtml","string","str","match","exec","escape","html","index","lastIndex","charCodeAt","substring","escapeTextForBrowser","text","quoteAttributeValueForBrowser","createMarkupForRoot","createMarkupForProperty","createMarkupForCustomAttribute","is","y","objectIs","currentlyRenderingComponent","firstWorkInProgressHook","workInProgressHook","isReRender","didScheduleRenderPhaseUpdate","renderPhaseUpdates","numberOfReRenders","RE_RENDER_LIMIT","resolveCurrentlyRenderingComponent","areHookInputsEqual","nextDeps","prevDeps","createHook","memoizedState","queue","next","createWorkInProgressHook","prepareToUseHooks","componentIdentity","finishHooks","Component","props","children","refOrContext","resetHooksState","readContext","observedBits","currentPartialRenderer","useContext","basicStateReducer","state","action","useState","initialState","useReducer","reducer","initialArg","dispatch","firstRenderPhaseUpdate","get","undefined","delete","newState","update","last","dispatchAction","bind","useMemo","nextCreate","deps","prevState","nextValue","useRef","initialValue","previousRef","ref","current","useLayoutEffect","create","inputs","Map","lastRenderPhaseUpdate","useCallback","callback","useMutableSource","source","getSnapshot","subscribe","_source","useDeferredValue","useTransition","startTransition","useOpaqueIdentifier","identifierPrefix","uniqueID","toString","noop","setCurrentPartialRenderer","renderer","Dispatcher","useImperativeHandle","useEffect","useDebugValue","HTML_NAMESPACE","MATH_NAMESPACE","SVG_NAMESPACE","Namespaces","mathml","svg","getIntrinsicNamespace","getChildNamespace","parentNamespace","omittedCloseTags","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","track","wbr","voidElementTags","menuitem","HTML","assertValidProps","tag","dangerouslySetInnerHTML","style","isUnitlessNumber","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixKey","key","charAt","prefixes","keys","prop","dangerousStyleValue","isCustomProperty","isEmpty","trim","uppercasePattern","msPattern","hyphenateStyleName","isCustomComponent","tagName","indexOf","toArray","pushCurrentDebugStack","stack","popCurrentDebugStack","newlineEatingTags","listing","pre","textarea","VALID_TAG_REGEX","validatedTagCache","validateDangerousTag","styleNameCache","processStyleName","styleName","result","createMarkupForStyles","styles","serialized","delimiter","styleValue","shouldConstruct","isReactComponent","getNonChildrenInnerMarkup","innerHTML","__html","content","flattenTopLevelChildren","element","fragmentChildren","fragmentChildElement","flattenOptionChildren","child","STYLE","RESERVED_PROPS","suppressContentEditableWarning","suppressHydrationWarning","createOpenTagMarkup","tagVerbatim","tagLowercase","namespace","makeStaticMarkup","isRootElement","ret","isCustomComponentFn","propKey","propValue","markup","validateRenderResult","resolve","processChild","publicContext","updater","isMounted","publicInstance","enqueueForceUpdate","warnNoop","enqueueReplaceState","completeState","enqueueSetState","currentPartialState","push","inst","getDerivedStateFromProps","partialState","disableModulePatternComponents","UNSAFE_componentWillMount","componentWillMount","oldQueue","oldReplace","nextState","dontMutate","partial","childContext","getChildContext","childContextTypes","contextKey","ReactDOMServerRenderer","options","flatChildren","topFrame","domNamespace","childIndex","footer","exhausted","currentSelectValue","previousWasTextNode","suspenseDepth","contextIndex","contextStack","contextValueStack","destroy","clearProviders","pushProvider","previousValue","popProvider","read","bytes","prevPartialRenderer","prevDispatcher","out","suspended","frame","pop","buffered","fallbackFrame","outBuffer","__DEV__","debugElementStack","err","then","nextChild","nextChildren","nextElement","elementType","renderDOM","fallback","fallbackChildren","nextProps","reactContext","info","defaultChecked","defaultValue","checked","textareaChildren","Array","isArray","selected","selectValue","optionChildren","j","innerMarkup","renderToString","ReactPartialRenderer","Infinity","renderToStaticMarkup","renderToNodeStream","renderToStaticNodeStream"],"mappings":"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"}