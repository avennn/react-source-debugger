{"version":3,"file":"react-noop-renderer-persistent.production.min.js","sources":["../../../../packages/shared/ReactSymbols.js","../../../../packages/shared/ReactSharedInternals.js","../../../../packages/shared/enqueueTask.js","../../../../packages/react-noop-renderer/src/createReactNoop.js","../../../../packages/react-noop-renderer/src/ReactNoopPersistent.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_BLOCK_TYPE = 0xead9;\nexport let REACT_SERVER_BLOCK_TYPE = 0xeada;\nexport let REACT_FUNDAMENTAL_TYPE = 0xead5;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactSharedInternals =\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nlet didWarnAboutMessageChannel = false;\nlet enqueueTaskImpl = null;\n\nexport default function enqueueTask(task: () => void) {\n  if (enqueueTaskImpl === null) {\n    try {\n      // read require off the module object to get around the bundlers.\n      // we don't want them to detect a require and bundle a Node polyfill.\n      const requireString = ('require' + Math.random()).slice(0, 7);\n      const nodeRequire = module && module[requireString];\n      // assuming we're in node, let's try to get node's\n      // version of setImmediate, bypassing fake timers if any.\n      enqueueTaskImpl = nodeRequire.call(module, 'timers').setImmediate;\n    } catch (_err) {\n      // we're in a browser\n      // we can't use regular timers because they may still be faked\n      // so we try MessageChannel+postMessage instead\n      enqueueTaskImpl = function(callback: () => void) {\n        if (__DEV__) {\n          if (didWarnAboutMessageChannel === false) {\n            didWarnAboutMessageChannel = true;\n            if (typeof MessageChannel === 'undefined') {\n              console.error(\n                'This browser does not have a MessageChannel implementation, ' +\n                  'so enqueuing tasks via await act(async () => ...) will fail. ' +\n                  'Please file an issue at https://github.com/facebook/react/issues ' +\n                  'if you encounter this warning.',\n              );\n            }\n          }\n        }\n        const channel = new MessageChannel();\n        channel.port1.onmessage = callback;\n        channel.port2.postMessage(undefined);\n      };\n    }\n  }\n  return enqueueTaskImpl(task);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {UpdateQueue} from 'react-reconciler/src/ReactUpdateQueue';\nimport type {ReactNodeList, Thenable} from 'shared/ReactTypes';\nimport type {RootTag} from 'react-reconciler/src/ReactRootTags';\n\nimport * as Scheduler from 'scheduler/unstable_mock';\nimport {REACT_FRAGMENT_TYPE, REACT_ELEMENT_TYPE} from 'shared/ReactSymbols';\nimport {\n  ConcurrentRoot,\n  BlockingRoot,\n  LegacyRoot,\n} from 'react-reconciler/src/ReactRootTags';\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport enqueueTask from 'shared/enqueueTask';\nconst {IsSomeRendererActing} = ReactSharedInternals;\n\ntype Container = {\n  rootID: string,\n  children: Array<Instance | TextInstance>,\n  pendingChildren: Array<Instance | TextInstance>,\n  ...\n};\ntype Props = {\n  prop: any,\n  hidden: boolean,\n  children?: mixed,\n  bottom?: null | number,\n  left?: null | number,\n  right?: null | number,\n  top?: null | number,\n  ...\n};\ntype Instance = {|\n  type: string,\n  id: number,\n  children: Array<Instance | TextInstance>,\n  text: string | null,\n  prop: any,\n  hidden: boolean,\n  context: HostContext,\n|};\ntype TextInstance = {|\n  text: string,\n  id: number,\n  hidden: boolean,\n  context: HostContext,\n|};\ntype HostContext = Object;\n\nconst NO_CONTEXT = {};\nconst UPPERCASE_CONTEXT = {};\nconst UPDATE_SIGNAL = {};\nif (__DEV__) {\n  Object.freeze(NO_CONTEXT);\n  Object.freeze(UPDATE_SIGNAL);\n}\n\nfunction createReactNoop(reconciler: Function, useMutation: boolean) {\n  let instanceCounter = 0;\n  let hostDiffCounter = 0;\n  let hostUpdateCounter = 0;\n  let hostCloneCounter = 0;\n\n  function appendChildToContainerOrInstance(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index !== -1) {\n      parentInstance.children.splice(index, 1);\n    }\n    parentInstance.children.push(child);\n  }\n\n  function appendChildToContainer(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'appendChildToContainer() first argument is not a container.',\n      );\n    }\n    appendChildToContainerOrInstance(parentInstance, child);\n  }\n\n  function appendChild(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('appendChild() first argument is not an instance.');\n    }\n    appendChildToContainerOrInstance(parentInstance, child);\n  }\n\n  function insertInContainerOrInstanceBefore(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index !== -1) {\n      parentInstance.children.splice(index, 1);\n    }\n    const beforeIndex = parentInstance.children.indexOf(beforeChild);\n    if (beforeIndex === -1) {\n      throw new Error('This child does not exist.');\n    }\n    parentInstance.children.splice(beforeIndex, 0, child);\n  }\n\n  function insertInContainerBefore(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ) {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'insertInContainerBefore() first argument is not a container.',\n      );\n    }\n    insertInContainerOrInstanceBefore(parentInstance, child, beforeChild);\n  }\n\n  function insertBefore(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ) {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('insertBefore() first argument is not an instance.');\n    }\n    insertInContainerOrInstanceBefore(parentInstance, child, beforeChild);\n  }\n\n  function clearContainer(container: Container): void {\n    container.children.splice(0);\n  }\n\n  function removeChildFromContainerOrInstance(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index === -1) {\n      throw new Error('This child does not exist.');\n    }\n    parentInstance.children.splice(index, 1);\n  }\n\n  function removeChildFromContainer(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'removeChildFromContainer() first argument is not a container.',\n      );\n    }\n    removeChildFromContainerOrInstance(parentInstance, child);\n  }\n\n  function removeChild(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('removeChild() first argument is not an instance.');\n    }\n    removeChildFromContainerOrInstance(parentInstance, child);\n  }\n\n  function cloneInstance(\n    instance: Instance,\n    updatePayload: null | Object,\n    type: string,\n    oldProps: Props,\n    newProps: Props,\n    internalInstanceHandle: Object,\n    keepChildren: boolean,\n    recyclableInstance: null | Instance,\n  ): Instance {\n    const clone = {\n      id: instance.id,\n      type: type,\n      children: keepChildren ? instance.children : [],\n      text: shouldSetTextContent(type, newProps)\n        ? computeText((newProps.children: any) + '', instance.context)\n        : null,\n      prop: newProps.prop,\n      hidden: !!newProps.hidden,\n      context: instance.context,\n    };\n    Object.defineProperty(clone, 'id', {\n      value: clone.id,\n      enumerable: false,\n    });\n    Object.defineProperty(clone, 'text', {\n      value: clone.text,\n      enumerable: false,\n    });\n    Object.defineProperty(clone, 'context', {\n      value: clone.context,\n      enumerable: false,\n    });\n    hostCloneCounter++;\n    return clone;\n  }\n\n  function shouldSetTextContent(type: string, props: Props): boolean {\n    if (type === 'errorInBeginPhase') {\n      throw new Error('Error in host config.');\n    }\n    return (\n      typeof props.children === 'string' || typeof props.children === 'number'\n    );\n  }\n\n  function computeText(rawText, hostContext) {\n    return hostContext === UPPERCASE_CONTEXT ? rawText.toUpperCase() : rawText;\n  }\n\n  const sharedHostConfig = {\n    getRootHostContext() {\n      return NO_CONTEXT;\n    },\n\n    getChildHostContext(\n      parentHostContext: HostContext,\n      type: string,\n      rootcontainerInstance: Container,\n    ) {\n      if (type === 'uppercase') {\n        return UPPERCASE_CONTEXT;\n      }\n      return NO_CONTEXT;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    createInstance(\n      type: string,\n      props: Props,\n      rootContainerInstance: Container,\n      hostContext: HostContext,\n    ): Instance {\n      if (type === 'errorInCompletePhase') {\n        throw new Error('Error in host config.');\n      }\n      const inst = {\n        id: instanceCounter++,\n        type: type,\n        children: [],\n        text: shouldSetTextContent(type, props)\n          ? computeText((props.children: any) + '', hostContext)\n          : null,\n        prop: props.prop,\n        hidden: !!props.hidden,\n        context: hostContext,\n      };\n      // Hide from unit tests\n      Object.defineProperty(inst, 'id', {value: inst.id, enumerable: false});\n      Object.defineProperty(inst, 'text', {\n        value: inst.text,\n        enumerable: false,\n      });\n      Object.defineProperty(inst, 'context', {\n        value: inst.context,\n        enumerable: false,\n      });\n      return inst;\n    },\n\n    appendInitialChild(\n      parentInstance: Instance,\n      child: Instance | TextInstance,\n    ): void {\n      parentInstance.children.push(child);\n    },\n\n    finalizeInitialChildren(\n      domElement: Instance,\n      type: string,\n      props: Props,\n    ): boolean {\n      return false;\n    },\n\n    prepareUpdate(\n      instance: Instance,\n      type: string,\n      oldProps: Props,\n      newProps: Props,\n    ): null | {...} {\n      if (type === 'errorInCompletePhase') {\n        throw new Error('Error in host config.');\n      }\n      if (oldProps === null) {\n        throw new Error('Should have old props');\n      }\n      if (newProps === null) {\n        throw new Error('Should have new props');\n      }\n      hostDiffCounter++;\n      return UPDATE_SIGNAL;\n    },\n\n    shouldSetTextContent,\n\n    createTextInstance(\n      text: string,\n      rootContainerInstance: Container,\n      hostContext: Object,\n      internalInstanceHandle: Object,\n    ): TextInstance {\n      if (hostContext === UPPERCASE_CONTEXT) {\n        text = text.toUpperCase();\n      }\n      const inst = {\n        text: text,\n        id: instanceCounter++,\n        hidden: false,\n        context: hostContext,\n      };\n      // Hide from unit tests\n      Object.defineProperty(inst, 'id', {value: inst.id, enumerable: false});\n      Object.defineProperty(inst, 'context', {\n        value: inst.context,\n        enumerable: false,\n      });\n      return inst;\n    },\n\n    scheduleTimeout: setTimeout,\n    cancelTimeout: clearTimeout,\n    noTimeout: -1,\n\n    prepareForCommit(): null | Object {\n      return null;\n    },\n\n    resetAfterCommit(): void {},\n\n    now: Scheduler.unstable_now,\n\n    isPrimaryRenderer: true,\n    warnsIfNotActing: true,\n    supportsHydration: false,\n\n    getFundamentalComponentInstance(fundamentalInstance): Instance {\n      const {impl, props, state} = fundamentalInstance;\n      return impl.getInstance(null, props, state);\n    },\n\n    mountFundamentalComponent(fundamentalInstance): void {\n      const {impl, instance, props, state} = fundamentalInstance;\n      const onMount = impl.onUpdate;\n      if (onMount !== undefined) {\n        onMount(null, instance, props, state);\n      }\n    },\n\n    shouldUpdateFundamentalComponent(fundamentalInstance): boolean {\n      const {impl, instance, prevProps, props, state} = fundamentalInstance;\n      const shouldUpdate = impl.shouldUpdate;\n      if (shouldUpdate !== undefined) {\n        return shouldUpdate(null, instance, prevProps, props, state);\n      }\n      return true;\n    },\n\n    updateFundamentalComponent(fundamentalInstance): void {\n      const {impl, instance, prevProps, props, state} = fundamentalInstance;\n      const onUpdate = impl.onUpdate;\n      if (onUpdate !== undefined) {\n        onUpdate(null, instance, prevProps, props, state);\n      }\n    },\n\n    unmountFundamentalComponent(fundamentalInstance): void {\n      const {impl, instance, props, state} = fundamentalInstance;\n      const onUnmount = impl.onUnmount;\n      if (onUnmount !== undefined) {\n        onUnmount(null, instance, props, state);\n      }\n    },\n\n    cloneFundamentalInstance(fundamentalInstance): Instance {\n      const instance = fundamentalInstance.instance;\n      return {\n        children: [],\n        text: instance.text,\n        type: instance.type,\n        prop: instance.prop,\n        id: instance.id,\n        context: instance.context,\n        hidden: instance.hidden,\n      };\n    },\n\n    getInstanceFromNode() {\n      throw new Error('Not yet implemented.');\n    },\n\n    beforeActiveInstanceBlur() {\n      // NO-OP\n    },\n\n    afterActiveInstanceBlur() {\n      // NO-OP\n    },\n\n    preparePortalMount() {\n      // NO-OP\n    },\n\n    prepareScopeUpdate() {},\n\n    getInstanceFromScope() {\n      throw new Error('Not yet implemented.');\n    },\n  };\n\n  const hostConfig = useMutation\n    ? {\n        ...sharedHostConfig,\n\n        supportsMutation: true,\n        supportsPersistence: false,\n\n        commitMount(instance: Instance, type: string, newProps: Props): void {\n          // Noop\n        },\n\n        commitUpdate(\n          instance: Instance,\n          updatePayload: Object,\n          type: string,\n          oldProps: Props,\n          newProps: Props,\n        ): void {\n          if (oldProps === null) {\n            throw new Error('Should have old props');\n          }\n          hostUpdateCounter++;\n          instance.prop = newProps.prop;\n          instance.hidden = !!newProps.hidden;\n          if (shouldSetTextContent(type, newProps)) {\n            instance.text = computeText(\n              (newProps.children: any) + '',\n              instance.context,\n            );\n          }\n        },\n\n        commitTextUpdate(\n          textInstance: TextInstance,\n          oldText: string,\n          newText: string,\n        ): void {\n          hostUpdateCounter++;\n          textInstance.text = computeText(newText, textInstance.context);\n        },\n\n        appendChild,\n        appendChildToContainer,\n        insertBefore,\n        insertInContainerBefore,\n        removeChild,\n        removeChildFromContainer,\n        clearContainer,\n\n        hideInstance(instance: Instance): void {\n          instance.hidden = true;\n        },\n\n        hideTextInstance(textInstance: TextInstance): void {\n          textInstance.hidden = true;\n        },\n\n        unhideInstance(instance: Instance, props: Props): void {\n          if (!props.hidden) {\n            instance.hidden = false;\n          }\n        },\n\n        unhideTextInstance(textInstance: TextInstance, text: string): void {\n          textInstance.hidden = false;\n        },\n\n        resetTextContent(instance: Instance): void {\n          instance.text = null;\n        },\n      }\n    : {\n        ...sharedHostConfig,\n        supportsMutation: false,\n        supportsPersistence: true,\n\n        cloneInstance,\n        clearContainer,\n\n        createContainerChildSet(\n          container: Container,\n        ): Array<Instance | TextInstance> {\n          return [];\n        },\n\n        appendChildToContainerChildSet(\n          childSet: Array<Instance | TextInstance>,\n          child: Instance | TextInstance,\n        ): void {\n          childSet.push(child);\n        },\n\n        finalizeContainerChildren(\n          container: Container,\n          newChildren: Array<Instance | TextInstance>,\n        ): void {\n          container.pendingChildren = newChildren;\n          if (\n            newChildren.length === 1 &&\n            newChildren[0].text === 'Error when completing root'\n          ) {\n            // Trigger an error for testing purposes\n            throw Error('Error when completing root');\n          }\n        },\n\n        replaceContainerChildren(\n          container: Container,\n          newChildren: Array<Instance | TextInstance>,\n        ): void {\n          container.children = newChildren;\n        },\n\n        cloneHiddenInstance(\n          instance: Instance,\n          type: string,\n          props: Props,\n          internalInstanceHandle: Object,\n        ): Instance {\n          const clone = cloneInstance(\n            instance,\n            null,\n            type,\n            props,\n            props,\n            internalInstanceHandle,\n            true,\n            null,\n          );\n          clone.hidden = true;\n          return clone;\n        },\n\n        cloneHiddenTextInstance(\n          instance: TextInstance,\n          text: string,\n          internalInstanceHandle: Object,\n        ): TextInstance {\n          const clone = {\n            text: instance.text,\n            id: instanceCounter++,\n            hidden: true,\n            context: instance.context,\n          };\n          // Hide from unit tests\n          Object.defineProperty(clone, 'id', {\n            value: clone.id,\n            enumerable: false,\n          });\n          Object.defineProperty(clone, 'context', {\n            value: clone.context,\n            enumerable: false,\n          });\n          return clone;\n        },\n      };\n\n  const NoopRenderer = reconciler(hostConfig);\n\n  const rootContainers = new Map();\n  const roots = new Map();\n  const DEFAULT_ROOT_ID = '<default>';\n\n  function childToJSX(child, text) {\n    if (text !== null) {\n      return text;\n    }\n    if (child === null) {\n      return null;\n    }\n    if (typeof child === 'string') {\n      return child;\n    }\n    if (Array.isArray(child)) {\n      if (child.length === 0) {\n        return null;\n      }\n      if (child.length === 1) {\n        return childToJSX(child[0], null);\n      }\n      // $FlowFixMe\n      const children = child.map(c => childToJSX(c, null));\n      if (children.every(c => typeof c === 'string' || typeof c === 'number')) {\n        return children.join('');\n      }\n      return children;\n    }\n    if (Array.isArray(child.children)) {\n      // This is an instance.\n      const instance: Instance = (child: any);\n      const children = childToJSX(instance.children, instance.text);\n      const props = ({prop: instance.prop}: any);\n      if (instance.hidden) {\n        props.hidden = true;\n      }\n      if (children !== null) {\n        props.children = children;\n      }\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: instance.type,\n        key: null,\n        ref: null,\n        props: props,\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    // This is a text instance\n    const textInstance: TextInstance = (child: any);\n    if (textInstance.hidden) {\n      return '';\n    }\n    return textInstance.text;\n  }\n\n  function getChildren(root) {\n    if (root) {\n      return root.children;\n    } else {\n      return null;\n    }\n  }\n\n  function getPendingChildren(root) {\n    if (root) {\n      return root.pendingChildren;\n    } else {\n      return null;\n    }\n  }\n\n  function getChildrenAsJSX(root) {\n    const children = childToJSX(getChildren(root), null);\n    if (children === null) {\n      return null;\n    }\n    if (Array.isArray(children)) {\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: REACT_FRAGMENT_TYPE,\n        key: null,\n        ref: null,\n        props: {children},\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    return children;\n  }\n\n  function getPendingChildrenAsJSX(root) {\n    const children = childToJSX(getChildren(root), null);\n    if (children === null) {\n      return null;\n    }\n    if (Array.isArray(children)) {\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: REACT_FRAGMENT_TYPE,\n        key: null,\n        ref: null,\n        props: {children},\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    return children;\n  }\n\n  let idCounter = 0;\n\n  const ReactNoop = {\n    _Scheduler: Scheduler,\n\n    getChildren(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getChildren(container);\n    },\n\n    getPendingChildren(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getPendingChildren(container);\n    },\n\n    getOrCreateRootContainer(rootID: string = DEFAULT_ROOT_ID, tag: RootTag) {\n      let root = roots.get(rootID);\n      if (!root) {\n        const container = {rootID: rootID, pendingChildren: [], children: []};\n        rootContainers.set(rootID, container);\n        root = NoopRenderer.createContainer(container, tag, false, null);\n        roots.set(rootID, root);\n      }\n      return root.current.stateNode.containerInfo;\n    },\n\n    // TODO: Replace ReactNoop.render with createRoot + root.render\n    createRoot() {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        ConcurrentRoot,\n        false,\n        null,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    createBlockingRoot() {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        BlockingRoot,\n        false,\n        null,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    createLegacyRoot() {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        LegacyRoot,\n        false,\n        null,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    getChildrenAsJSX(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getChildrenAsJSX(container);\n    },\n\n    getPendingChildrenAsJSX(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getPendingChildrenAsJSX(container);\n    },\n\n    createPortal(\n      children: ReactNodeList,\n      container: Container,\n      key: ?string = null,\n    ) {\n      return NoopRenderer.createPortal(children, container, null, key);\n    },\n\n    // Shortcut for testing a single root\n    render(element: React$Element<any>, callback: ?Function) {\n      ReactNoop.renderToRootWithID(element, DEFAULT_ROOT_ID, callback);\n    },\n\n    renderLegacySyncRoot(element: React$Element<any>, callback: ?Function) {\n      const rootID = DEFAULT_ROOT_ID;\n      const container = ReactNoop.getOrCreateRootContainer(rootID, LegacyRoot);\n      const root = roots.get(container.rootID);\n      NoopRenderer.updateContainer(element, root, null, callback);\n    },\n\n    renderToRootWithID(\n      element: React$Element<any>,\n      rootID: string,\n      callback: ?Function,\n    ) {\n      const container = ReactNoop.getOrCreateRootContainer(\n        rootID,\n        ConcurrentRoot,\n      );\n      const root = roots.get(container.rootID);\n      NoopRenderer.updateContainer(element, root, null, callback);\n    },\n\n    unmountRootWithID(rootID: string) {\n      const root = roots.get(rootID);\n      if (root) {\n        NoopRenderer.updateContainer(null, root, null, () => {\n          roots.delete(rootID);\n          rootContainers.delete(rootID);\n        });\n      }\n    },\n\n    findInstance(\n      componentOrElement: Element | ?React$Component<any, any>,\n    ): null | Instance | TextInstance {\n      if (componentOrElement == null) {\n        return null;\n      }\n      // Unsound duck typing.\n      const component = (componentOrElement: any);\n      if (typeof component.id === 'number') {\n        return component;\n      }\n      if (__DEV__) {\n        return NoopRenderer.findHostInstanceWithWarning(\n          component,\n          'findInstance',\n        );\n      }\n      return NoopRenderer.findHostInstance(component);\n    },\n\n    flushNextYield(): Array<mixed> {\n      Scheduler.unstable_flushNumberOfYields(1);\n      return Scheduler.unstable_clearYields();\n    },\n\n    flushWithHostCounters(\n      fn: () => void,\n    ):\n      | {|\n          hostDiffCounter: number,\n          hostUpdateCounter: number,\n        |}\n      | {|\n          hostDiffCounter: number,\n          hostCloneCounter: number,\n        |} {\n      hostDiffCounter = 0;\n      hostUpdateCounter = 0;\n      hostCloneCounter = 0;\n      try {\n        Scheduler.unstable_flushAll();\n        return useMutation\n          ? {\n              hostDiffCounter,\n              hostUpdateCounter,\n            }\n          : {\n              hostDiffCounter,\n              hostCloneCounter,\n            };\n      } finally {\n        hostDiffCounter = 0;\n        hostUpdateCounter = 0;\n        hostCloneCounter = 0;\n      }\n    },\n\n    expire: Scheduler.unstable_advanceTime,\n\n    flushExpired(): Array<mixed> {\n      return Scheduler.unstable_flushExpired();\n    },\n\n    unstable_runWithPriority: NoopRenderer.runWithPriority,\n\n    batchedUpdates: NoopRenderer.batchedUpdates,\n\n    deferredUpdates: NoopRenderer.deferredUpdates,\n\n    unbatchedUpdates: NoopRenderer.unbatchedUpdates,\n\n    discreteUpdates: NoopRenderer.discreteUpdates,\n\n    flushDiscreteUpdates: NoopRenderer.flushDiscreteUpdates,\n\n    flushSync(fn: () => mixed) {\n      NoopRenderer.flushSync(fn);\n    },\n\n    flushPassiveEffects: NoopRenderer.flushPassiveEffects,\n\n    act: noopAct,\n\n    // Logs the current state of the tree.\n    dumpTree(rootID: string = DEFAULT_ROOT_ID) {\n      const root = roots.get(rootID);\n      const rootContainer = rootContainers.get(rootID);\n      if (!root || !rootContainer) {\n        // eslint-disable-next-line react-internal/no-production-logging\n        console.log('Nothing rendered yet.');\n        return;\n      }\n\n      const bufferedLog = [];\n      function log(...args) {\n        bufferedLog.push(...args, '\\n');\n      }\n\n      function logHostInstances(\n        children: Array<Instance | TextInstance>,\n        depth,\n      ) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          const indent = '  '.repeat(depth);\n          if (typeof child.text === 'string') {\n            log(indent + '- ' + child.text);\n          } else {\n            // $FlowFixMe - The child should've been refined now.\n            log(indent + '- ' + child.type + '#' + child.id);\n            // $FlowFixMe - The child should've been refined now.\n            logHostInstances(child.children, depth + 1);\n          }\n        }\n      }\n      function logContainer(container: Container, depth) {\n        log('  '.repeat(depth) + '- [root#' + container.rootID + ']');\n        logHostInstances(container.children, depth + 1);\n      }\n\n      function logUpdateQueue(updateQueue: UpdateQueue<mixed>, depth) {\n        log('  '.repeat(depth + 1) + 'QUEUED UPDATES');\n        const first = updateQueue.firstBaseUpdate;\n        const update = first;\n        if (update !== null) {\n          do {\n            log(\n              '  '.repeat(depth + 1) + '~',\n              '[' + update.expirationTime + ']',\n            );\n          } while (update !== null);\n        }\n\n        const lastPending = updateQueue.shared.pending;\n        if (lastPending !== null) {\n          const firstPending = lastPending.next;\n          const pendingUpdate = firstPending;\n          if (pendingUpdate !== null) {\n            do {\n              log(\n                '  '.repeat(depth + 1) + '~',\n                '[' + pendingUpdate.expirationTime + ']',\n              );\n            } while (pendingUpdate !== null && pendingUpdate !== firstPending);\n          }\n        }\n      }\n\n      function logFiber(fiber: Fiber, depth) {\n        log(\n          '  '.repeat(depth) +\n            '- ' +\n            // need to explicitly coerce Symbol to a string\n            (fiber.type ? fiber.type.name || fiber.type.toString() : '[root]'),\n          '[' +\n            fiber.childExpirationTime +\n            (fiber.pendingProps ? '*' : '') +\n            ']',\n        );\n        if (fiber.updateQueue) {\n          logUpdateQueue(fiber.updateQueue, depth);\n        }\n        // const childInProgress = fiber.progressedChild;\n        // if (childInProgress && childInProgress !== fiber.child) {\n        //   log(\n        //     '  '.repeat(depth + 1) + 'IN PROGRESS: ' + fiber.pendingWorkPriority,\n        //   );\n        //   logFiber(childInProgress, depth + 1);\n        //   if (fiber.child) {\n        //     log('  '.repeat(depth + 1) + 'CURRENT');\n        //   }\n        // } else if (fiber.child && fiber.updateQueue) {\n        //   log('  '.repeat(depth + 1) + 'CHILDREN');\n        // }\n        if (fiber.child) {\n          logFiber(fiber.child, depth + 1);\n        }\n        if (fiber.sibling) {\n          logFiber(fiber.sibling, depth);\n        }\n      }\n\n      log('HOST INSTANCES:');\n      logContainer(rootContainer, 0);\n      log('FIBERS:');\n      logFiber(root.current, 0);\n\n      // eslint-disable-next-line react-internal/no-production-logging\n      console.log(...bufferedLog);\n    },\n\n    getRoot(rootID: string = DEFAULT_ROOT_ID) {\n      return roots.get(rootID);\n    },\n  };\n\n  // This version of `act` is only used by our tests. Unlike the public version\n  // of `act`, it's designed to work identically in both production and\n  // development. It may have slightly different behavior from the public\n  // version, too, since our constraints in our test suite are not the same as\n  // those of developers using React — we're testing React itself, as opposed to\n  // building an app with React.\n\n  const {batchedUpdates, IsThisRendererActing} = NoopRenderer;\n  let actingUpdatesScopeDepth = 0;\n\n  function noopAct(scope: () => Thenable<mixed> | void) {\n    if (Scheduler.unstable_flushAllWithoutAsserting === undefined) {\n      throw Error(\n        'This version of `act` requires a special mock build of Scheduler.',\n      );\n    }\n    if (setTimeout._isMockFunction !== true) {\n      throw Error(\n        \"This version of `act` requires Jest's timer mocks \" +\n          '(i.e. jest.useFakeTimers).',\n      );\n    }\n\n    const previousActingUpdatesScopeDepth = actingUpdatesScopeDepth;\n    const previousIsSomeRendererActing = IsSomeRendererActing.current;\n    const previousIsThisRendererActing = IsThisRendererActing.current;\n    IsSomeRendererActing.current = true;\n    IsThisRendererActing.current = true;\n    actingUpdatesScopeDepth++;\n\n    const unwind = () => {\n      actingUpdatesScopeDepth--;\n      IsSomeRendererActing.current = previousIsSomeRendererActing;\n      IsThisRendererActing.current = previousIsThisRendererActing;\n\n      if (__DEV__) {\n        if (actingUpdatesScopeDepth > previousActingUpdatesScopeDepth) {\n          // if it's _less than_ previousActingUpdatesScopeDepth, then we can\n          // assume the 'other' one has warned\n          console.error(\n            'You seem to have overlapping act() calls, this is not supported. ' +\n              'Be sure to await previous act() calls before making a new one. ',\n          );\n        }\n      }\n    };\n\n    // TODO: This would be way simpler if 1) we required a promise to be\n    // returned and 2) we could use async/await. Since it's only our used in\n    // our test suite, we should be able to.\n    try {\n      const thenable = batchedUpdates(scope);\n      if (\n        typeof thenable === 'object' &&\n        thenable !== null &&\n        typeof thenable.then === 'function'\n      ) {\n        return {\n          then(resolve: () => void, reject: (error: mixed) => void) {\n            thenable.then(\n              () => {\n                flushActWork(\n                  () => {\n                    unwind();\n                    resolve();\n                  },\n                  error => {\n                    unwind();\n                    reject(error);\n                  },\n                );\n              },\n              error => {\n                unwind();\n                reject(error);\n              },\n            );\n          },\n        };\n      } else {\n        try {\n          // TODO: Let's not support non-async scopes at all in our tests. Need to\n          // migrate existing tests.\n          let didFlushWork;\n          do {\n            didFlushWork = Scheduler.unstable_flushAllWithoutAsserting();\n          } while (didFlushWork);\n        } finally {\n          unwind();\n        }\n      }\n    } catch (error) {\n      unwind();\n      throw error;\n    }\n  }\n\n  function flushActWork(resolve, reject) {\n    // Flush suspended fallbacks\n    // $FlowFixMe: Flow doesn't know about global Jest object\n    jest.runOnlyPendingTimers();\n    enqueueTask(() => {\n      try {\n        const didFlushWork = Scheduler.unstable_flushAllWithoutAsserting();\n        if (didFlushWork) {\n          flushActWork(resolve, reject);\n        } else {\n          resolve();\n        }\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  return ReactNoop;\n}\n\nexport default createReactNoop;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport createReactNoop from './createReactNoop';\n\nexport const {\n  _Scheduler,\n  getChildren,\n  getPendingChildren,\n  getOrCreateRootContainer,\n  createRoot,\n  createBlockingRoot,\n  createLegacyRoot,\n  getChildrenAsJSX,\n  getPendingChildrenAsJSX,\n  createPortal,\n  render,\n  renderLegacySyncRoot,\n  renderToRootWithID,\n  unmountRootWithID,\n  findInstance,\n  flushNextYield,\n  flushWithHostCounters,\n  expire,\n  flushExpired,\n  batchedUpdates,\n  deferredUpdates,\n  unbatchedUpdates,\n  discreteUpdates,\n  flushDiscreteUpdates,\n  flushSync,\n  flushPassiveEffects,\n  act,\n  dumpTree,\n  getRoot,\n  // TODO: Remove this once callers migrate to alternatives.\n  // This should only be used by React internals.\n  unstable_runWithPriority,\n} = createReactNoop(\n  ReactFiberReconciler, // reconciler\n  false, // useMutation\n);\n"],"names":["REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","Symbol","for","symbolFor","ReactSharedInternals","React","enqueueTaskImpl","enqueueTask","task","requireString","Math","random","slice","nodeRequire","module","call","setImmediate","_err","callback","channel","MessageChannel","port1","onmessage","port2","postMessage","undefined","IsSomeRendererActing","NO_CONTEXT","UPPERCASE_CONTEXT","UPDATE_SIGNAL","createReactNoop","reconciler","useMutation","instanceCounter","hostDiffCounter","hostUpdateCounter","hostCloneCounter","appendChildToContainerOrInstance","parentInstance","child","index","children","indexOf","splice","push","appendChildToContainer","rootID","Error","appendChild","insertInContainerOrInstanceBefore","beforeChild","beforeIndex","insertInContainerBefore","insertBefore","clearContainer","container","removeChildFromContainerOrInstance","removeChildFromContainer","removeChild","cloneInstance","instance","updatePayload","type","oldProps","newProps","internalInstanceHandle","keepChildren","recyclableInstance","clone","id","text","shouldSetTextContent","computeText","context","prop","hidden","Object","defineProperty","value","enumerable","props","rawText","hostContext","toUpperCase","sharedHostConfig","getRootHostContext","getChildHostContext","parentHostContext","rootcontainerInstance","getPublicInstance","createInstance","rootContainerInstance","inst","appendInitialChild","finalizeInitialChildren","domElement","prepareUpdate","createTextInstance","scheduleTimeout","setTimeout","cancelTimeout","clearTimeout","noTimeout","prepareForCommit","resetAfterCommit","now","Scheduler","isPrimaryRenderer","warnsIfNotActing","supportsHydration","getFundamentalComponentInstance","fundamentalInstance","impl","state","getInstance","mountFundamentalComponent","onMount","onUpdate","shouldUpdateFundamentalComponent","prevProps","shouldUpdate","updateFundamentalComponent","unmountFundamentalComponent","onUnmount","cloneFundamentalInstance","getInstanceFromNode","beforeActiveInstanceBlur","afterActiveInstanceBlur","preparePortalMount","prepareScopeUpdate","getInstanceFromScope","hostConfig","supportsMutation","supportsPersistence","commitMount","commitUpdate","commitTextUpdate","textInstance","oldText","newText","hideInstance","hideTextInstance","unhideInstance","unhideTextInstance","resetTextContent","createContainerChildSet","appendChildToContainerChildSet","childSet","finalizeContainerChildren","newChildren","pendingChildren","length","replaceContainerChildren","cloneHiddenInstance","cloneHiddenTextInstance","NoopRenderer","rootContainers","Map","roots","DEFAULT_ROOT_ID","childToJSX","Array","isArray","map","c","every","join","$$typeof","key","ref","_owner","_store","__DEV__","getChildren","root","getPendingChildren","getChildrenAsJSX","getPendingChildrenAsJSX","idCounter","ReactNoop","_Scheduler","get","getOrCreateRootContainer","tag","set","createContainer","current","stateNode","containerInfo","createRoot","fiberRoot","ConcurrentRoot","render","updateContainer","createBlockingRoot","BlockingRoot","createLegacyRoot","LegacyRoot","createPortal","element","renderToRootWithID","renderLegacySyncRoot","unmountRootWithID","delete","findInstance","componentOrElement","component","findHostInstance","flushNextYield","flushWithHostCounters","fn","expire","flushExpired","unstable_runWithPriority","runWithPriority","batchedUpdates","deferredUpdates","unbatchedUpdates","discreteUpdates","flushDiscreteUpdates","flushSync","flushPassiveEffects","act","noopAct","dumpTree","rootContainer","console","log","bufferedLog","args","logHostInstances","depth","i","indent","repeat","logContainer","logUpdateQueue","updateQueue","first","firstBaseUpdate","update","expirationTime","lastPending","shared","pending","firstPending","next","pendingUpdate","logFiber","fiber","name","toString","childExpirationTime","pendingProps","sibling","getRoot","IsThisRendererActing","scope","_isMockFunction","previousIsSomeRendererActing","previousIsThisRendererActing","actingUpdatesScopeDepth","unwind","thenable","then","resolve","reject","flushActWork","error","didFlushWork","jest","runOnlyPendingTimers","ReactFiberReconciler"],"mappings":"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"}