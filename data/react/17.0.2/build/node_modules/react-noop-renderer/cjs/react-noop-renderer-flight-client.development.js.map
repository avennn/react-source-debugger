{"version":3,"file":"react-noop-renderer-flight-client.development.js","sources":["../../../../packages/react-noop-renderer/src/ReactNoopFlightClient.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport {readModule} from 'react-noop-renderer/flight-modules';\n\nimport ReactFlightClient from 'react-client/flight';\n\ntype Source = Array<string>;\n\nconst {createResponse, processStringChunk, close} = ReactFlightClient({\n  supportsBinaryStreams: false,\n  resolveModuleReference(idx: string) {\n    return idx;\n  },\n  preloadModule(idx: string) {},\n  requireModule(idx: string) {\n    return readModule(idx);\n  },\n  parseModel(response: Response, json) {\n    return JSON.parse(json, response._fromJSON);\n  },\n});\n\nfunction read<T>(source: Source): T {\n  const response = createResponse(source);\n  for (let i = 0; i < source.length; i++) {\n    processStringChunk(response, source[i], 0);\n  }\n  close(response);\n  return response.readRoot();\n}\n\nexport {read};\n"],"names":["ReactFlightClient","supportsBinaryStreams","resolveModuleReference","idx","preloadModule","requireModule","readModule","parseModel","response","json","JSON","parse","_fromJSON","createResponse","processStringChunk","close","read","source","i","length","readRoot"],"mappings":";;;;;AASA;;;;;;;yBAaoDA,iBAAiB,CAAC;AACpEC,EAAAA,qBAAqB,EAAE,KAD6C;AAEpEC,EAAAA,sBAFoE,YAE7CC,GAF6C,EAEhC;AAClC,WAAOA,GAAP;AACD,GAJmE;AAKpEC,EAAAA,aALoE,YAKtDD,GALsD,EAKzC,EALyC;AAMpEE,EAAAA,aANoE,YAMtDF,GANsD,EAMzC;AACzB,WAAOG,wBAAU,CAACH,GAAD,CAAjB;AACD,GARmE;AASpEI,EAAAA,UAToE,YASzDC,QATyD,EASrCC,IATqC,EAS/B;AACnC,WAAOC,IAAI,CAACC,KAAL,CAAWF,IAAX,EAAiBD,QAAQ,CAACI,SAA1B,CAAP;AACD;AAXmE,CAAD;IAA9DC,oCAAAA;IAAgBC,wCAAAA;IAAoBC,2BAAAA;;AAc3C,SAASC,IAAT,CAAiBC,MAAjB,EAAoC;AAClC,MAAMT,QAAQ,GAAGK,cAAc,CAACI,MAAD,CAA/B;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAAM,CAACE,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtCJ,IAAAA,kBAAkB,CAACN,QAAD,EAAWS,MAAM,CAACC,CAAD,CAAjB,EAAsB,CAAtB,CAAlB;AACD;;AACDH,EAAAA,KAAK,CAACP,QAAD,CAAL;AACA,SAAOA,QAAQ,CAACY,QAAT,EAAP;AACD;;;;"}