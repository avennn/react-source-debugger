{"version":3,"file":"react-transport-dom-webpack-server-runtime.production.min.js","sources":["../../../../packages/shared/ReactSymbols.js","../../../../packages/react-server/src/ReactFlightServerRuntime.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_BLOCK_TYPE = 0xead9;\nexport let REACT_SERVER_BLOCK_TYPE = 0xeada;\nexport let REACT_FUNDAMENTAL_TYPE = 0xead5;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BlockRenderFunction} from 'react/src/ReactBlock';\n\nimport type {ModuleReference} from './ReactFlightServerConfig';\n\nimport {REACT_SERVER_BLOCK_TYPE} from 'shared/ReactSymbols';\n\nexport type ServerBlockComponent<Props, Data> =\n  | [\n      Symbol | number,\n      ModuleReference<BlockRenderFunction<Props, Data>>,\n      () => Data,\n    ]\n  | [Symbol | number, ModuleReference<BlockRenderFunction<Props, void>>];\n\nopaque type ServerBlock<Props>: React$AbstractComponent<\n  Props,\n  null,\n> = React$AbstractComponent<Props, null>;\n\nexport function serverBlock<Props, Data>(\n  moduleReference: ModuleReference<BlockRenderFunction<Props, Data>>,\n  loadData: () => Data,\n): ServerBlock<Props> {\n  const blockComponent: ServerBlockComponent<Props, Data> = [\n    REACT_SERVER_BLOCK_TYPE,\n    moduleReference,\n    loadData,\n  ];\n\n  // $FlowFixMe: Upstream BlockComponent to Flow as a valid Node.\n  return blockComponent;\n}\n\nexport function serverBlockNoData<Props>(\n  moduleReference: ModuleReference<BlockRenderFunction<Props, void>>,\n): ServerBlock<Props> {\n  const blockComponent: ServerBlockComponent<Props, void> = [\n    REACT_SERVER_BLOCK_TYPE,\n    moduleReference,\n  ];\n  // $FlowFixMe: Upstream BlockComponent to Flow as a valid Node.\n  return blockComponent;\n}\n"],"names":["REACT_SERVER_BLOCK_TYPE","Symbol","for","symbolFor","serverBlock","moduleReference","loadData","blockComponent","serverBlockNoData"],"mappings":";;AASA;AAmBO,IAAIA,uBAAuB,GAAG,MAA9B;;AAQP,IAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC9C,QAAMC,SAAS,GAAGF,MAAM,CAACC,GAAzB;AAcAF,EAAAA,uBAAuB,GAAGG,SAAS,CAAC,oBAAD,CAAnC;AAOD;;AC9BM,SAASC,WAAT,CACLC,eADK,EAELC,QAFK,EAGe;AACpB,QAAMC,cAAiD,GAAG,CACxDP,uBADwD,EAExDK,eAFwD,EAGxDC,QAHwD,CAA1D,CADoB;;AAQpB,SAAOC,cAAP;AACD;AAED,AAAO,SAASC,iBAAT,CACLH,eADK,EAEe;AACpB,QAAME,cAAiD,GAAG,CACxDP,uBADwD,EAExDK,eAFwD,CAA1D,CADoB;;AAMpB,SAAOE,cAAP;AACD;;;;;"}