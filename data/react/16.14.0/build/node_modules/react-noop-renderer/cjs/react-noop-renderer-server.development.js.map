{"version":3,"file":"react-noop-renderer-server.development.js","sources":["../../../../packages/react-noop-renderer/src/ReactNoopServer.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport ReactFizzServer from 'react-server';\n\ntype Destination = Array<string>;\n\nconst ReactNoopServer = ReactFizzServer({\n  scheduleWork(callback: () => void) {\n    callback();\n  },\n  beginWriting(destination: Destination): void {},\n  writeChunk(destination: Destination, buffer: Uint8Array): void {\n    destination.push(JSON.parse(Buffer.from((buffer: any)).toString('utf8')));\n  },\n  completeWriting(destination: Destination): void {},\n  close(destination: Destination): void {},\n  flushBuffered(destination: Destination): void {},\n  convertStringToBuffer(content: string): Uint8Array {\n    return Buffer.from(content, 'utf8');\n  },\n  formatChunkAsString(type: string, props: Object): string {\n    return JSON.stringify({type, props});\n  },\n  formatChunk(type: string, props: Object): Uint8Array {\n    return Buffer.from(JSON.stringify({type, props}), 'utf8');\n  },\n});\n\nfunction render(children: React$Element<any>): Destination {\n  const destination: Destination = [];\n  const request = ReactNoopServer.createRequest(children, destination);\n  ReactNoopServer.startWork(request);\n  return destination;\n}\n\nexport {render};\n"],"names":["ReactNoopServer","ReactFizzServer","scheduleWork","callback","beginWriting","destination","writeChunk","buffer","push","JSON","parse","Buffer","from","toString","completeWriting","close","flushBuffered","convertStringToBuffer","content","formatChunkAsString","type","props","stringify","formatChunk","render","children","request","createRequest","startWork"],"mappings":";;;;AASA;;;;;;AAWA,IAAMA,eAAe,GAAGC,eAAe,CAAC;AACtCC,EAAAA,YADsC,YACzBC,QADyB,EACH;AACjCA,IAAAA,QAAQ;AACT,GAHqC;AAItCC,EAAAA,YAJsC,YAIzBC,WAJyB,EAIO,EAJP;AAKtCC,EAAAA,UALsC,YAK3BD,WAL2B,EAKDE,MALC,EAKyB;AAC7DF,IAAAA,WAAW,CAACG,IAAZ,CAAiBC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,IAAP,CAAaL,MAAb,EAA2BM,QAA3B,CAAoC,MAApC,CAAX,CAAjB;AACD,GAPqC;AAQtCC,EAAAA,eARsC,YAQtBT,WARsB,EAQU,EARV;AAStCU,EAAAA,KATsC,YAShCV,WATgC,EASA,EATA;AAUtCW,EAAAA,aAVsC,YAUxBX,WAVwB,EAUQ,EAVR;AAWtCY,EAAAA,qBAXsC,YAWhBC,OAXgB,EAWa;AACjD,WAAOP,MAAM,CAACC,IAAP,CAAYM,OAAZ,EAAqB,MAArB,CAAP;AACD,GAbqC;AActCC,EAAAA,mBAdsC,YAclBC,IAdkB,EAcJC,KAdI,EAcmB;AACvD,WAAOZ,IAAI,CAACa,SAAL,CAAe;AAACF,MAAAA,IAAI,EAAJA,IAAD;AAAOC,MAAAA,KAAK,EAALA;AAAP,KAAf,CAAP;AACD,GAhBqC;AAiBtCE,EAAAA,WAjBsC,YAiB1BH,IAjB0B,EAiBZC,KAjBY,EAiBe;AACnD,WAAOV,MAAM,CAACC,IAAP,CAAYH,IAAI,CAACa,SAAL,CAAe;AAACF,MAAAA,IAAI,EAAJA,IAAD;AAAOC,MAAAA,KAAK,EAALA;AAAP,KAAf,CAAZ,EAA2C,MAA3C,CAAP;AACD;AAnBqC,CAAD,CAAvC;;AAsBA,SAASG,MAAT,CAAgBC,QAAhB,EAA2D;AACzD,MAAMpB,WAAwB,GAAG,EAAjC;AACA,MAAMqB,OAAO,GAAG1B,eAAe,CAAC2B,aAAhB,CAA8BF,QAA9B,EAAwCpB,WAAxC,CAAhB;AACAL,EAAAA,eAAe,CAAC4B,SAAhB,CAA0BF,OAA1B;AACA,SAAOrB,WAAP;AACD;;;;"}