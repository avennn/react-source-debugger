{"version":3,"file":"react-noop-renderer-persistent.development.js","sources":["../../../../packages/shared/ReactSharedInternals.js","../../../../packages/shared/consoleWithStackDev.js","../../../../packages/shared/ReactSymbols.js","../../../../packages/shared/enqueueTask.js","../../../../packages/react-noop-renderer/src/createReactNoop.js","../../../../packages/react-noop-renderer/src/ReactNoopPersistent.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactSharedInternals =\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\n// In DEV, calls to console.warn and console.error get replaced\n// by calls to these methods by a Babel plugin.\n//\n// In PROD (or in packages without access to React internals),\n// they are left as they are instead.\n\nexport function warn(format, ...args) {\n  if (__DEV__) {\n    printWarning('warn', format, args);\n  }\n}\n\nexport function error(format, ...args) {\n  if (__DEV__) {\n    printWarning('error', format, args);\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  if (__DEV__) {\n    const ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    const stack = ReactDebugCurrentFrame.getStackAddendum();\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    }\n\n    const argsWithFormat = args.map(item => '' + item);\n    // Careful: RN currently depends on this prefix\n    argsWithFormat.unshift('Warning: ' + format);\n    // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_BLOCK_TYPE = 0xead9;\nexport let REACT_SERVER_BLOCK_TYPE = 0xeada;\nexport let REACT_FUNDAMENTAL_TYPE = 0xead5;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nlet didWarnAboutMessageChannel = false;\nlet enqueueTaskImpl = null;\n\nexport default function enqueueTask(task: () => void) {\n  if (enqueueTaskImpl === null) {\n    try {\n      // read require off the module object to get around the bundlers.\n      // we don't want them to detect a require and bundle a Node polyfill.\n      const requireString = ('require' + Math.random()).slice(0, 7);\n      const nodeRequire = module && module[requireString];\n      // assuming we're in node, let's try to get node's\n      // version of setImmediate, bypassing fake timers if any.\n      enqueueTaskImpl = nodeRequire.call(module, 'timers').setImmediate;\n    } catch (_err) {\n      // we're in a browser\n      // we can't use regular timers because they may still be faked\n      // so we try MessageChannel+postMessage instead\n      enqueueTaskImpl = function(callback: () => void) {\n        if (__DEV__) {\n          if (didWarnAboutMessageChannel === false) {\n            didWarnAboutMessageChannel = true;\n            if (typeof MessageChannel === 'undefined') {\n              console.error(\n                'This browser does not have a MessageChannel implementation, ' +\n                  'so enqueuing tasks via await act(async () => ...) will fail. ' +\n                  'Please file an issue at https://github.com/facebook/react/issues ' +\n                  'if you encounter this warning.',\n              );\n            }\n          }\n        }\n        const channel = new MessageChannel();\n        channel.port1.onmessage = callback;\n        channel.port2.postMessage(undefined);\n      };\n    }\n  }\n  return enqueueTaskImpl(task);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {UpdateQueue} from 'react-reconciler/src/ReactUpdateQueue';\nimport type {ReactNodeList, Thenable} from 'shared/ReactTypes';\nimport type {RootTag} from 'react-reconciler/src/ReactRootTags';\n\nimport * as Scheduler from 'scheduler/unstable_mock';\nimport {REACT_FRAGMENT_TYPE, REACT_ELEMENT_TYPE} from 'shared/ReactSymbols';\nimport {\n  ConcurrentRoot,\n  BlockingRoot,\n  LegacyRoot,\n} from 'react-reconciler/src/ReactRootTags';\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport enqueueTask from 'shared/enqueueTask';\nconst {IsSomeRendererActing} = ReactSharedInternals;\n\ntype Container = {\n  rootID: string,\n  children: Array<Instance | TextInstance>,\n  pendingChildren: Array<Instance | TextInstance>,\n  ...\n};\ntype Props = {\n  prop: any,\n  hidden: boolean,\n  children?: mixed,\n  bottom?: null | number,\n  left?: null | number,\n  right?: null | number,\n  top?: null | number,\n  ...\n};\ntype Instance = {|\n  type: string,\n  id: number,\n  children: Array<Instance | TextInstance>,\n  text: string | null,\n  prop: any,\n  hidden: boolean,\n  context: HostContext,\n|};\ntype TextInstance = {|\n  text: string,\n  id: number,\n  hidden: boolean,\n  context: HostContext,\n|};\ntype HostContext = Object;\n\nconst NO_CONTEXT = {};\nconst UPPERCASE_CONTEXT = {};\nconst UPDATE_SIGNAL = {};\nif (__DEV__) {\n  Object.freeze(NO_CONTEXT);\n  Object.freeze(UPDATE_SIGNAL);\n}\n\nfunction createReactNoop(reconciler: Function, useMutation: boolean) {\n  let instanceCounter = 0;\n  let hostDiffCounter = 0;\n  let hostUpdateCounter = 0;\n  let hostCloneCounter = 0;\n\n  function appendChildToContainerOrInstance(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index !== -1) {\n      parentInstance.children.splice(index, 1);\n    }\n    parentInstance.children.push(child);\n  }\n\n  function appendChildToContainer(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'appendChildToContainer() first argument is not a container.',\n      );\n    }\n    appendChildToContainerOrInstance(parentInstance, child);\n  }\n\n  function appendChild(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('appendChild() first argument is not an instance.');\n    }\n    appendChildToContainerOrInstance(parentInstance, child);\n  }\n\n  function insertInContainerOrInstanceBefore(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index !== -1) {\n      parentInstance.children.splice(index, 1);\n    }\n    const beforeIndex = parentInstance.children.indexOf(beforeChild);\n    if (beforeIndex === -1) {\n      throw new Error('This child does not exist.');\n    }\n    parentInstance.children.splice(beforeIndex, 0, child);\n  }\n\n  function insertInContainerBefore(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ) {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'insertInContainerBefore() first argument is not a container.',\n      );\n    }\n    insertInContainerOrInstanceBefore(parentInstance, child, beforeChild);\n  }\n\n  function insertBefore(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ) {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('insertBefore() first argument is not an instance.');\n    }\n    insertInContainerOrInstanceBefore(parentInstance, child, beforeChild);\n  }\n\n  function clearContainer(container: Container): void {\n    container.children.splice(0);\n  }\n\n  function removeChildFromContainerOrInstance(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index === -1) {\n      throw new Error('This child does not exist.');\n    }\n    parentInstance.children.splice(index, 1);\n  }\n\n  function removeChildFromContainer(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'removeChildFromContainer() first argument is not a container.',\n      );\n    }\n    removeChildFromContainerOrInstance(parentInstance, child);\n  }\n\n  function removeChild(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('removeChild() first argument is not an instance.');\n    }\n    removeChildFromContainerOrInstance(parentInstance, child);\n  }\n\n  function cloneInstance(\n    instance: Instance,\n    updatePayload: null | Object,\n    type: string,\n    oldProps: Props,\n    newProps: Props,\n    internalInstanceHandle: Object,\n    keepChildren: boolean,\n    recyclableInstance: null | Instance,\n  ): Instance {\n    const clone = {\n      id: instance.id,\n      type: type,\n      children: keepChildren ? instance.children : [],\n      text: shouldSetTextContent(type, newProps)\n        ? computeText((newProps.children: any) + '', instance.context)\n        : null,\n      prop: newProps.prop,\n      hidden: !!newProps.hidden,\n      context: instance.context,\n    };\n    Object.defineProperty(clone, 'id', {\n      value: clone.id,\n      enumerable: false,\n    });\n    Object.defineProperty(clone, 'text', {\n      value: clone.text,\n      enumerable: false,\n    });\n    Object.defineProperty(clone, 'context', {\n      value: clone.context,\n      enumerable: false,\n    });\n    hostCloneCounter++;\n    return clone;\n  }\n\n  function shouldSetTextContent(type: string, props: Props): boolean {\n    if (type === 'errorInBeginPhase') {\n      throw new Error('Error in host config.');\n    }\n    return (\n      typeof props.children === 'string' || typeof props.children === 'number'\n    );\n  }\n\n  function computeText(rawText, hostContext) {\n    return hostContext === UPPERCASE_CONTEXT ? rawText.toUpperCase() : rawText;\n  }\n\n  const sharedHostConfig = {\n    getRootHostContext() {\n      return NO_CONTEXT;\n    },\n\n    getChildHostContext(\n      parentHostContext: HostContext,\n      type: string,\n      rootcontainerInstance: Container,\n    ) {\n      if (type === 'uppercase') {\n        return UPPERCASE_CONTEXT;\n      }\n      return NO_CONTEXT;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    createInstance(\n      type: string,\n      props: Props,\n      rootContainerInstance: Container,\n      hostContext: HostContext,\n    ): Instance {\n      if (type === 'errorInCompletePhase') {\n        throw new Error('Error in host config.');\n      }\n      const inst = {\n        id: instanceCounter++,\n        type: type,\n        children: [],\n        text: shouldSetTextContent(type, props)\n          ? computeText((props.children: any) + '', hostContext)\n          : null,\n        prop: props.prop,\n        hidden: !!props.hidden,\n        context: hostContext,\n      };\n      // Hide from unit tests\n      Object.defineProperty(inst, 'id', {value: inst.id, enumerable: false});\n      Object.defineProperty(inst, 'text', {\n        value: inst.text,\n        enumerable: false,\n      });\n      Object.defineProperty(inst, 'context', {\n        value: inst.context,\n        enumerable: false,\n      });\n      return inst;\n    },\n\n    appendInitialChild(\n      parentInstance: Instance,\n      child: Instance | TextInstance,\n    ): void {\n      parentInstance.children.push(child);\n    },\n\n    finalizeInitialChildren(\n      domElement: Instance,\n      type: string,\n      props: Props,\n    ): boolean {\n      return false;\n    },\n\n    prepareUpdate(\n      instance: Instance,\n      type: string,\n      oldProps: Props,\n      newProps: Props,\n    ): null | {...} {\n      if (type === 'errorInCompletePhase') {\n        throw new Error('Error in host config.');\n      }\n      if (oldProps === null) {\n        throw new Error('Should have old props');\n      }\n      if (newProps === null) {\n        throw new Error('Should have new props');\n      }\n      hostDiffCounter++;\n      return UPDATE_SIGNAL;\n    },\n\n    shouldSetTextContent,\n\n    createTextInstance(\n      text: string,\n      rootContainerInstance: Container,\n      hostContext: Object,\n      internalInstanceHandle: Object,\n    ): TextInstance {\n      if (hostContext === UPPERCASE_CONTEXT) {\n        text = text.toUpperCase();\n      }\n      const inst = {\n        text: text,\n        id: instanceCounter++,\n        hidden: false,\n        context: hostContext,\n      };\n      // Hide from unit tests\n      Object.defineProperty(inst, 'id', {value: inst.id, enumerable: false});\n      Object.defineProperty(inst, 'context', {\n        value: inst.context,\n        enumerable: false,\n      });\n      return inst;\n    },\n\n    scheduleTimeout: setTimeout,\n    cancelTimeout: clearTimeout,\n    noTimeout: -1,\n\n    prepareForCommit(): null | Object {\n      return null;\n    },\n\n    resetAfterCommit(): void {},\n\n    now: Scheduler.unstable_now,\n\n    isPrimaryRenderer: true,\n    warnsIfNotActing: true,\n    supportsHydration: false,\n\n    getFundamentalComponentInstance(fundamentalInstance): Instance {\n      const {impl, props, state} = fundamentalInstance;\n      return impl.getInstance(null, props, state);\n    },\n\n    mountFundamentalComponent(fundamentalInstance): void {\n      const {impl, instance, props, state} = fundamentalInstance;\n      const onMount = impl.onUpdate;\n      if (onMount !== undefined) {\n        onMount(null, instance, props, state);\n      }\n    },\n\n    shouldUpdateFundamentalComponent(fundamentalInstance): boolean {\n      const {impl, instance, prevProps, props, state} = fundamentalInstance;\n      const shouldUpdate = impl.shouldUpdate;\n      if (shouldUpdate !== undefined) {\n        return shouldUpdate(null, instance, prevProps, props, state);\n      }\n      return true;\n    },\n\n    updateFundamentalComponent(fundamentalInstance): void {\n      const {impl, instance, prevProps, props, state} = fundamentalInstance;\n      const onUpdate = impl.onUpdate;\n      if (onUpdate !== undefined) {\n        onUpdate(null, instance, prevProps, props, state);\n      }\n    },\n\n    unmountFundamentalComponent(fundamentalInstance): void {\n      const {impl, instance, props, state} = fundamentalInstance;\n      const onUnmount = impl.onUnmount;\n      if (onUnmount !== undefined) {\n        onUnmount(null, instance, props, state);\n      }\n    },\n\n    cloneFundamentalInstance(fundamentalInstance): Instance {\n      const instance = fundamentalInstance.instance;\n      return {\n        children: [],\n        text: instance.text,\n        type: instance.type,\n        prop: instance.prop,\n        id: instance.id,\n        context: instance.context,\n        hidden: instance.hidden,\n      };\n    },\n\n    getInstanceFromNode() {\n      throw new Error('Not yet implemented.');\n    },\n\n    beforeActiveInstanceBlur() {\n      // NO-OP\n    },\n\n    afterActiveInstanceBlur() {\n      // NO-OP\n    },\n\n    preparePortalMount() {\n      // NO-OP\n    },\n\n    prepareScopeUpdate() {},\n\n    getInstanceFromScope() {\n      throw new Error('Not yet implemented.');\n    },\n  };\n\n  const hostConfig = useMutation\n    ? {\n        ...sharedHostConfig,\n\n        supportsMutation: true,\n        supportsPersistence: false,\n\n        commitMount(instance: Instance, type: string, newProps: Props): void {\n          // Noop\n        },\n\n        commitUpdate(\n          instance: Instance,\n          updatePayload: Object,\n          type: string,\n          oldProps: Props,\n          newProps: Props,\n        ): void {\n          if (oldProps === null) {\n            throw new Error('Should have old props');\n          }\n          hostUpdateCounter++;\n          instance.prop = newProps.prop;\n          instance.hidden = !!newProps.hidden;\n          if (shouldSetTextContent(type, newProps)) {\n            instance.text = computeText(\n              (newProps.children: any) + '',\n              instance.context,\n            );\n          }\n        },\n\n        commitTextUpdate(\n          textInstance: TextInstance,\n          oldText: string,\n          newText: string,\n        ): void {\n          hostUpdateCounter++;\n          textInstance.text = computeText(newText, textInstance.context);\n        },\n\n        appendChild,\n        appendChildToContainer,\n        insertBefore,\n        insertInContainerBefore,\n        removeChild,\n        removeChildFromContainer,\n        clearContainer,\n\n        hideInstance(instance: Instance): void {\n          instance.hidden = true;\n        },\n\n        hideTextInstance(textInstance: TextInstance): void {\n          textInstance.hidden = true;\n        },\n\n        unhideInstance(instance: Instance, props: Props): void {\n          if (!props.hidden) {\n            instance.hidden = false;\n          }\n        },\n\n        unhideTextInstance(textInstance: TextInstance, text: string): void {\n          textInstance.hidden = false;\n        },\n\n        resetTextContent(instance: Instance): void {\n          instance.text = null;\n        },\n      }\n    : {\n        ...sharedHostConfig,\n        supportsMutation: false,\n        supportsPersistence: true,\n\n        cloneInstance,\n        clearContainer,\n\n        createContainerChildSet(\n          container: Container,\n        ): Array<Instance | TextInstance> {\n          return [];\n        },\n\n        appendChildToContainerChildSet(\n          childSet: Array<Instance | TextInstance>,\n          child: Instance | TextInstance,\n        ): void {\n          childSet.push(child);\n        },\n\n        finalizeContainerChildren(\n          container: Container,\n          newChildren: Array<Instance | TextInstance>,\n        ): void {\n          container.pendingChildren = newChildren;\n          if (\n            newChildren.length === 1 &&\n            newChildren[0].text === 'Error when completing root'\n          ) {\n            // Trigger an error for testing purposes\n            throw Error('Error when completing root');\n          }\n        },\n\n        replaceContainerChildren(\n          container: Container,\n          newChildren: Array<Instance | TextInstance>,\n        ): void {\n          container.children = newChildren;\n        },\n\n        cloneHiddenInstance(\n          instance: Instance,\n          type: string,\n          props: Props,\n          internalInstanceHandle: Object,\n        ): Instance {\n          const clone = cloneInstance(\n            instance,\n            null,\n            type,\n            props,\n            props,\n            internalInstanceHandle,\n            true,\n            null,\n          );\n          clone.hidden = true;\n          return clone;\n        },\n\n        cloneHiddenTextInstance(\n          instance: TextInstance,\n          text: string,\n          internalInstanceHandle: Object,\n        ): TextInstance {\n          const clone = {\n            text: instance.text,\n            id: instanceCounter++,\n            hidden: true,\n            context: instance.context,\n          };\n          // Hide from unit tests\n          Object.defineProperty(clone, 'id', {\n            value: clone.id,\n            enumerable: false,\n          });\n          Object.defineProperty(clone, 'context', {\n            value: clone.context,\n            enumerable: false,\n          });\n          return clone;\n        },\n      };\n\n  const NoopRenderer = reconciler(hostConfig);\n\n  const rootContainers = new Map();\n  const roots = new Map();\n  const DEFAULT_ROOT_ID = '<default>';\n\n  function childToJSX(child, text) {\n    if (text !== null) {\n      return text;\n    }\n    if (child === null) {\n      return null;\n    }\n    if (typeof child === 'string') {\n      return child;\n    }\n    if (Array.isArray(child)) {\n      if (child.length === 0) {\n        return null;\n      }\n      if (child.length === 1) {\n        return childToJSX(child[0], null);\n      }\n      // $FlowFixMe\n      const children = child.map(c => childToJSX(c, null));\n      if (children.every(c => typeof c === 'string' || typeof c === 'number')) {\n        return children.join('');\n      }\n      return children;\n    }\n    if (Array.isArray(child.children)) {\n      // This is an instance.\n      const instance: Instance = (child: any);\n      const children = childToJSX(instance.children, instance.text);\n      const props = ({prop: instance.prop}: any);\n      if (instance.hidden) {\n        props.hidden = true;\n      }\n      if (children !== null) {\n        props.children = children;\n      }\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: instance.type,\n        key: null,\n        ref: null,\n        props: props,\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    // This is a text instance\n    const textInstance: TextInstance = (child: any);\n    if (textInstance.hidden) {\n      return '';\n    }\n    return textInstance.text;\n  }\n\n  function getChildren(root) {\n    if (root) {\n      return root.children;\n    } else {\n      return null;\n    }\n  }\n\n  function getPendingChildren(root) {\n    if (root) {\n      return root.pendingChildren;\n    } else {\n      return null;\n    }\n  }\n\n  function getChildrenAsJSX(root) {\n    const children = childToJSX(getChildren(root), null);\n    if (children === null) {\n      return null;\n    }\n    if (Array.isArray(children)) {\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: REACT_FRAGMENT_TYPE,\n        key: null,\n        ref: null,\n        props: {children},\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    return children;\n  }\n\n  function getPendingChildrenAsJSX(root) {\n    const children = childToJSX(getChildren(root), null);\n    if (children === null) {\n      return null;\n    }\n    if (Array.isArray(children)) {\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: REACT_FRAGMENT_TYPE,\n        key: null,\n        ref: null,\n        props: {children},\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    return children;\n  }\n\n  let idCounter = 0;\n\n  const ReactNoop = {\n    _Scheduler: Scheduler,\n\n    getChildren(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getChildren(container);\n    },\n\n    getPendingChildren(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getPendingChildren(container);\n    },\n\n    getOrCreateRootContainer(rootID: string = DEFAULT_ROOT_ID, tag: RootTag) {\n      let root = roots.get(rootID);\n      if (!root) {\n        const container = {rootID: rootID, pendingChildren: [], children: []};\n        rootContainers.set(rootID, container);\n        root = NoopRenderer.createContainer(container, tag, false, null);\n        roots.set(rootID, root);\n      }\n      return root.current.stateNode.containerInfo;\n    },\n\n    // TODO: Replace ReactNoop.render with createRoot + root.render\n    createRoot() {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        ConcurrentRoot,\n        false,\n        null,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    createBlockingRoot() {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        BlockingRoot,\n        false,\n        null,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    createLegacyRoot() {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        LegacyRoot,\n        false,\n        null,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    getChildrenAsJSX(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getChildrenAsJSX(container);\n    },\n\n    getPendingChildrenAsJSX(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getPendingChildrenAsJSX(container);\n    },\n\n    createPortal(\n      children: ReactNodeList,\n      container: Container,\n      key: ?string = null,\n    ) {\n      return NoopRenderer.createPortal(children, container, null, key);\n    },\n\n    // Shortcut for testing a single root\n    render(element: React$Element<any>, callback: ?Function) {\n      ReactNoop.renderToRootWithID(element, DEFAULT_ROOT_ID, callback);\n    },\n\n    renderLegacySyncRoot(element: React$Element<any>, callback: ?Function) {\n      const rootID = DEFAULT_ROOT_ID;\n      const container = ReactNoop.getOrCreateRootContainer(rootID, LegacyRoot);\n      const root = roots.get(container.rootID);\n      NoopRenderer.updateContainer(element, root, null, callback);\n    },\n\n    renderToRootWithID(\n      element: React$Element<any>,\n      rootID: string,\n      callback: ?Function,\n    ) {\n      const container = ReactNoop.getOrCreateRootContainer(\n        rootID,\n        ConcurrentRoot,\n      );\n      const root = roots.get(container.rootID);\n      NoopRenderer.updateContainer(element, root, null, callback);\n    },\n\n    unmountRootWithID(rootID: string) {\n      const root = roots.get(rootID);\n      if (root) {\n        NoopRenderer.updateContainer(null, root, null, () => {\n          roots.delete(rootID);\n          rootContainers.delete(rootID);\n        });\n      }\n    },\n\n    findInstance(\n      componentOrElement: Element | ?React$Component<any, any>,\n    ): null | Instance | TextInstance {\n      if (componentOrElement == null) {\n        return null;\n      }\n      // Unsound duck typing.\n      const component = (componentOrElement: any);\n      if (typeof component.id === 'number') {\n        return component;\n      }\n      if (__DEV__) {\n        return NoopRenderer.findHostInstanceWithWarning(\n          component,\n          'findInstance',\n        );\n      }\n      return NoopRenderer.findHostInstance(component);\n    },\n\n    flushNextYield(): Array<mixed> {\n      Scheduler.unstable_flushNumberOfYields(1);\n      return Scheduler.unstable_clearYields();\n    },\n\n    flushWithHostCounters(\n      fn: () => void,\n    ):\n      | {|\n          hostDiffCounter: number,\n          hostUpdateCounter: number,\n        |}\n      | {|\n          hostDiffCounter: number,\n          hostCloneCounter: number,\n        |} {\n      hostDiffCounter = 0;\n      hostUpdateCounter = 0;\n      hostCloneCounter = 0;\n      try {\n        Scheduler.unstable_flushAll();\n        return useMutation\n          ? {\n              hostDiffCounter,\n              hostUpdateCounter,\n            }\n          : {\n              hostDiffCounter,\n              hostCloneCounter,\n            };\n      } finally {\n        hostDiffCounter = 0;\n        hostUpdateCounter = 0;\n        hostCloneCounter = 0;\n      }\n    },\n\n    expire: Scheduler.unstable_advanceTime,\n\n    flushExpired(): Array<mixed> {\n      return Scheduler.unstable_flushExpired();\n    },\n\n    unstable_runWithPriority: NoopRenderer.runWithPriority,\n\n    batchedUpdates: NoopRenderer.batchedUpdates,\n\n    deferredUpdates: NoopRenderer.deferredUpdates,\n\n    unbatchedUpdates: NoopRenderer.unbatchedUpdates,\n\n    discreteUpdates: NoopRenderer.discreteUpdates,\n\n    flushDiscreteUpdates: NoopRenderer.flushDiscreteUpdates,\n\n    flushSync(fn: () => mixed) {\n      NoopRenderer.flushSync(fn);\n    },\n\n    flushPassiveEffects: NoopRenderer.flushPassiveEffects,\n\n    act: noopAct,\n\n    // Logs the current state of the tree.\n    dumpTree(rootID: string = DEFAULT_ROOT_ID) {\n      const root = roots.get(rootID);\n      const rootContainer = rootContainers.get(rootID);\n      if (!root || !rootContainer) {\n        // eslint-disable-next-line react-internal/no-production-logging\n        console.log('Nothing rendered yet.');\n        return;\n      }\n\n      const bufferedLog = [];\n      function log(...args) {\n        bufferedLog.push(...args, '\\n');\n      }\n\n      function logHostInstances(\n        children: Array<Instance | TextInstance>,\n        depth,\n      ) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          const indent = '  '.repeat(depth);\n          if (typeof child.text === 'string') {\n            log(indent + '- ' + child.text);\n          } else {\n            // $FlowFixMe - The child should've been refined now.\n            log(indent + '- ' + child.type + '#' + child.id);\n            // $FlowFixMe - The child should've been refined now.\n            logHostInstances(child.children, depth + 1);\n          }\n        }\n      }\n      function logContainer(container: Container, depth) {\n        log('  '.repeat(depth) + '- [root#' + container.rootID + ']');\n        logHostInstances(container.children, depth + 1);\n      }\n\n      function logUpdateQueue(updateQueue: UpdateQueue<mixed>, depth) {\n        log('  '.repeat(depth + 1) + 'QUEUED UPDATES');\n        const first = updateQueue.firstBaseUpdate;\n        const update = first;\n        if (update !== null) {\n          do {\n            log(\n              '  '.repeat(depth + 1) + '~',\n              '[' + update.expirationTime + ']',\n            );\n          } while (update !== null);\n        }\n\n        const lastPending = updateQueue.shared.pending;\n        if (lastPending !== null) {\n          const firstPending = lastPending.next;\n          const pendingUpdate = firstPending;\n          if (pendingUpdate !== null) {\n            do {\n              log(\n                '  '.repeat(depth + 1) + '~',\n                '[' + pendingUpdate.expirationTime + ']',\n              );\n            } while (pendingUpdate !== null && pendingUpdate !== firstPending);\n          }\n        }\n      }\n\n      function logFiber(fiber: Fiber, depth) {\n        log(\n          '  '.repeat(depth) +\n            '- ' +\n            // need to explicitly coerce Symbol to a string\n            (fiber.type ? fiber.type.name || fiber.type.toString() : '[root]'),\n          '[' +\n            fiber.childExpirationTime +\n            (fiber.pendingProps ? '*' : '') +\n            ']',\n        );\n        if (fiber.updateQueue) {\n          logUpdateQueue(fiber.updateQueue, depth);\n        }\n        // const childInProgress = fiber.progressedChild;\n        // if (childInProgress && childInProgress !== fiber.child) {\n        //   log(\n        //     '  '.repeat(depth + 1) + 'IN PROGRESS: ' + fiber.pendingWorkPriority,\n        //   );\n        //   logFiber(childInProgress, depth + 1);\n        //   if (fiber.child) {\n        //     log('  '.repeat(depth + 1) + 'CURRENT');\n        //   }\n        // } else if (fiber.child && fiber.updateQueue) {\n        //   log('  '.repeat(depth + 1) + 'CHILDREN');\n        // }\n        if (fiber.child) {\n          logFiber(fiber.child, depth + 1);\n        }\n        if (fiber.sibling) {\n          logFiber(fiber.sibling, depth);\n        }\n      }\n\n      log('HOST INSTANCES:');\n      logContainer(rootContainer, 0);\n      log('FIBERS:');\n      logFiber(root.current, 0);\n\n      // eslint-disable-next-line react-internal/no-production-logging\n      console.log(...bufferedLog);\n    },\n\n    getRoot(rootID: string = DEFAULT_ROOT_ID) {\n      return roots.get(rootID);\n    },\n  };\n\n  // This version of `act` is only used by our tests. Unlike the public version\n  // of `act`, it's designed to work identically in both production and\n  // development. It may have slightly different behavior from the public\n  // version, too, since our constraints in our test suite are not the same as\n  // those of developers using React â€” we're testing React itself, as opposed to\n  // building an app with React.\n\n  const {batchedUpdates, IsThisRendererActing} = NoopRenderer;\n  let actingUpdatesScopeDepth = 0;\n\n  function noopAct(scope: () => Thenable<mixed> | void) {\n    if (Scheduler.unstable_flushAllWithoutAsserting === undefined) {\n      throw Error(\n        'This version of `act` requires a special mock build of Scheduler.',\n      );\n    }\n    if (setTimeout._isMockFunction !== true) {\n      throw Error(\n        \"This version of `act` requires Jest's timer mocks \" +\n          '(i.e. jest.useFakeTimers).',\n      );\n    }\n\n    const previousActingUpdatesScopeDepth = actingUpdatesScopeDepth;\n    const previousIsSomeRendererActing = IsSomeRendererActing.current;\n    const previousIsThisRendererActing = IsThisRendererActing.current;\n    IsSomeRendererActing.current = true;\n    IsThisRendererActing.current = true;\n    actingUpdatesScopeDepth++;\n\n    const unwind = () => {\n      actingUpdatesScopeDepth--;\n      IsSomeRendererActing.current = previousIsSomeRendererActing;\n      IsThisRendererActing.current = previousIsThisRendererActing;\n\n      if (__DEV__) {\n        if (actingUpdatesScopeDepth > previousActingUpdatesScopeDepth) {\n          // if it's _less than_ previousActingUpdatesScopeDepth, then we can\n          // assume the 'other' one has warned\n          console.error(\n            'You seem to have overlapping act() calls, this is not supported. ' +\n              'Be sure to await previous act() calls before making a new one. ',\n          );\n        }\n      }\n    };\n\n    // TODO: This would be way simpler if 1) we required a promise to be\n    // returned and 2) we could use async/await. Since it's only our used in\n    // our test suite, we should be able to.\n    try {\n      const thenable = batchedUpdates(scope);\n      if (\n        typeof thenable === 'object' &&\n        thenable !== null &&\n        typeof thenable.then === 'function'\n      ) {\n        return {\n          then(resolve: () => void, reject: (error: mixed) => void) {\n            thenable.then(\n              () => {\n                flushActWork(\n                  () => {\n                    unwind();\n                    resolve();\n                  },\n                  error => {\n                    unwind();\n                    reject(error);\n                  },\n                );\n              },\n              error => {\n                unwind();\n                reject(error);\n              },\n            );\n          },\n        };\n      } else {\n        try {\n          // TODO: Let's not support non-async scopes at all in our tests. Need to\n          // migrate existing tests.\n          let didFlushWork;\n          do {\n            didFlushWork = Scheduler.unstable_flushAllWithoutAsserting();\n          } while (didFlushWork);\n        } finally {\n          unwind();\n        }\n      }\n    } catch (error) {\n      unwind();\n      throw error;\n    }\n  }\n\n  function flushActWork(resolve, reject) {\n    // Flush suspended fallbacks\n    // $FlowFixMe: Flow doesn't know about global Jest object\n    jest.runOnlyPendingTimers();\n    enqueueTask(() => {\n      try {\n        const didFlushWork = Scheduler.unstable_flushAllWithoutAsserting();\n        if (didFlushWork) {\n          flushActWork(resolve, reject);\n        } else {\n          resolve();\n        }\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  return ReactNoop;\n}\n\nexport default createReactNoop;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport createReactNoop from './createReactNoop';\n\nexport const {\n  _Scheduler,\n  getChildren,\n  getPendingChildren,\n  getOrCreateRootContainer,\n  createRoot,\n  createBlockingRoot,\n  createLegacyRoot,\n  getChildrenAsJSX,\n  getPendingChildrenAsJSX,\n  createPortal,\n  render,\n  renderLegacySyncRoot,\n  renderToRootWithID,\n  unmountRootWithID,\n  findInstance,\n  flushNextYield,\n  flushWithHostCounters,\n  expire,\n  flushExpired,\n  batchedUpdates,\n  deferredUpdates,\n  unbatchedUpdates,\n  discreteUpdates,\n  flushDiscreteUpdates,\n  flushSync,\n  flushPassiveEffects,\n  act,\n  dumpTree,\n  getRoot,\n  // TODO: Remove this once callers migrate to alternatives.\n  // This should only be used by React internals.\n  unstable_runWithPriority,\n} = createReactNoop(\n  ReactFiberReconciler, // reconciler\n  false, // useMutation\n);\n"],"names":["ReactSharedInternals","React","error","format","args","printWarning","level","ReactDebugCurrentFrame","stack","getStackAddendum","concat","argsWithFormat","map","item","unshift","Function","prototype","apply","call","console","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_SERVER_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_SCOPE_TYPE","REACT_OPAQUE_ID_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","Symbol","for","symbolFor","didWarnAboutMessageChannel","enqueueTaskImpl","enqueueTask","task","requireString","Math","random","slice","nodeRequire","module","setImmediate","_err","callback","MessageChannel","channel","port1","onmessage","port2","postMessage","undefined","IsSomeRendererActing","NO_CONTEXT","UPPERCASE_CONTEXT","UPDATE_SIGNAL","Object","freeze","createReactNoop","reconciler","useMutation","instanceCounter","hostDiffCounter","hostUpdateCounter","hostCloneCounter","appendChildToContainerOrInstance","parentInstance","child","index","children","indexOf","splice","push","appendChildToContainer","rootID","Error","appendChild","insertInContainerOrInstanceBefore","beforeChild","beforeIndex","insertInContainerBefore","insertBefore","clearContainer","container","removeChildFromContainerOrInstance","removeChildFromContainer","removeChild","cloneInstance","instance","updatePayload","type","oldProps","newProps","internalInstanceHandle","keepChildren","recyclableInstance","clone","id","text","shouldSetTextContent","computeText","context","prop","hidden","defineProperty","value","enumerable","props","rawText","hostContext","toUpperCase","sharedHostConfig","getRootHostContext","getChildHostContext","parentHostContext","rootcontainerInstance","getPublicInstance","createInstance","rootContainerInstance","inst","appendInitialChild","finalizeInitialChildren","domElement","prepareUpdate","createTextInstance","scheduleTimeout","setTimeout","cancelTimeout","clearTimeout","noTimeout","prepareForCommit","resetAfterCommit","now","Scheduler","isPrimaryRenderer","warnsIfNotActing","supportsHydration","getFundamentalComponentInstance","fundamentalInstance","impl","state","getInstance","mountFundamentalComponent","onMount","onUpdate","shouldUpdateFundamentalComponent","prevProps","shouldUpdate","updateFundamentalComponent","unmountFundamentalComponent","onUnmount","cloneFundamentalInstance","getInstanceFromNode","beforeActiveInstanceBlur","afterActiveInstanceBlur","preparePortalMount","prepareScopeUpdate","getInstanceFromScope","hostConfig","supportsMutation","supportsPersistence","commitMount","commitUpdate","commitTextUpdate","textInstance","oldText","newText","hideInstance","hideTextInstance","unhideInstance","unhideTextInstance","resetTextContent","createContainerChildSet","appendChildToContainerChildSet","childSet","finalizeContainerChildren","newChildren","pendingChildren","length","replaceContainerChildren","cloneHiddenInstance","cloneHiddenTextInstance","NoopRenderer","rootContainers","Map","roots","DEFAULT_ROOT_ID","childToJSX","Array","isArray","c","every","join","$$typeof","key","ref","_owner","_store","__DEV__","getChildren","root","getPendingChildren","getChildrenAsJSX","getPendingChildrenAsJSX","idCounter","ReactNoop","_Scheduler","get","getOrCreateRootContainer","tag","set","createContainer","current","stateNode","containerInfo","createRoot","fiberRoot","ConcurrentRoot","render","updateContainer","createBlockingRoot","BlockingRoot","createLegacyRoot","LegacyRoot","createPortal","element","renderToRootWithID","renderLegacySyncRoot","unmountRootWithID","delete","findInstance","componentOrElement","component","findHostInstanceWithWarning","flushNextYield","flushWithHostCounters","fn","expire","flushExpired","unstable_runWithPriority","runWithPriority","batchedUpdates","deferredUpdates","unbatchedUpdates","discreteUpdates","flushDiscreteUpdates","flushSync","flushPassiveEffects","act","noopAct","dumpTree","rootContainer","log","bufferedLog","logHostInstances","depth","i","indent","repeat","logContainer","logUpdateQueue","updateQueue","first","firstBaseUpdate","update","expirationTime","lastPending","shared","pending","firstPending","next","pendingUpdate","logFiber","fiber","name","toString","childExpirationTime","pendingProps","sibling","getRoot","IsThisRendererActing","actingUpdatesScopeDepth","scope","_isMockFunction","previousActingUpdatesScopeDepth","previousIsSomeRendererActing","previousIsThisRendererActing","unwind","thenable","then","resolve","reject","flushActWork","didFlushWork","jest","runOnlyPendingTimers","ReactFiberReconciler"],"mappings":"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"}