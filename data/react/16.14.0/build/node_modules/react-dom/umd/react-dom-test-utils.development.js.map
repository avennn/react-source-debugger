{"version":3,"file":"react-dom-test-utils.development.js","sources":["../../../../packages/shared/forks/object-assign.umd.js","../../../../packages/shared/ReactSharedInternals.js","../../../../packages/shared/consoleWithStackDev.js","../../../../packages/shared/ReactInstanceMap.js","../../../../packages/shared/ReactSymbols.js","../../../../packages/react-reconciler/src/ReactWorkTags.js","../../../../packages/react-reconciler/src/ReactFiberFlags.js","../../../../packages/react-reconciler/src/ReactFiberTreeReflection.js","../../../../packages/react-dom/src/events/getEventCharCode.js","../../../../packages/react-dom/src/events/SyntheticEvent.js","../../../../packages/react-dom/src/shared/HTMLNodeType.js","../../../../packages/shared/enqueueTask.js","../../../../packages/shared/forks/Scheduler.umd.js","../../../../packages/react-dom/src/test-utils/ReactTestUtilsPublicAct.js","../../../../packages/react-dom/src/test-utils/ReactTestUtilsInternalAct.js","../../../../packages/shared/invokeGuardedCallbackImpl.js","../../../../packages/shared/ReactErrorUtils.js","../../../../packages/react-dom/src/test-utils/ReactTestUtils.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactInternals.assign;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactSharedInternals =\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\n// In DEV, calls to console.warn and console.error get replaced\n// by calls to these methods by a Babel plugin.\n//\n// In PROD (or in packages without access to React internals),\n// they are left as they are instead.\n\nexport function warn(format, ...args) {\n  if (__DEV__) {\n    printWarning('warn', format, args);\n  }\n}\n\nexport function error(format, ...args) {\n  if (__DEV__) {\n    printWarning('error', format, args);\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  if (__DEV__) {\n    const ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    const stack = ReactDebugCurrentFrame.getStackAddendum();\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    }\n\n    const argsWithFormat = args.map(item => '' + item);\n    // Careful: RN currently depends on this prefix\n    argsWithFormat.unshift('Warning: ' + format);\n    // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * `ReactInstanceMap` maintains a mapping from a public facing stateful\n * instance (key) and the internal representation (value). This allows public\n * methods to accept the user facing instance as an argument and map them back\n * to internal methods.\n *\n * Note that this module is currently shared and assumed to be stateless.\n * If this becomes an actual Map, that will break.\n */\n\n/**\n * This API should be called `delete` but we'd have to make sure to always\n * transform these to strings for IE support. When this transform is fully\n * supported we can rename it.\n */\nexport function remove(key) {\n  key._reactInternals = undefined;\n}\n\nexport function get(key) {\n  return key._reactInternals;\n}\n\nexport function has(key) {\n  return key._reactInternals !== undefined;\n}\n\nexport function set(key, value) {\n  key._reactInternals = value;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nexport let REACT_ELEMENT_TYPE = 0xeac7;\nexport let REACT_PORTAL_TYPE = 0xeaca;\nexport let REACT_FRAGMENT_TYPE = 0xeacb;\nexport let REACT_STRICT_MODE_TYPE = 0xeacc;\nexport let REACT_PROFILER_TYPE = 0xead2;\nexport let REACT_PROVIDER_TYPE = 0xeacd;\nexport let REACT_CONTEXT_TYPE = 0xeace;\nexport let REACT_FORWARD_REF_TYPE = 0xead0;\nexport let REACT_SUSPENSE_TYPE = 0xead1;\nexport let REACT_SUSPENSE_LIST_TYPE = 0xead8;\nexport let REACT_MEMO_TYPE = 0xead3;\nexport let REACT_LAZY_TYPE = 0xead4;\nexport let REACT_BLOCK_TYPE = 0xead9;\nexport let REACT_SERVER_BLOCK_TYPE = 0xeada;\nexport let REACT_FUNDAMENTAL_TYPE = 0xead5;\nexport let REACT_SCOPE_TYPE = 0xead7;\nexport let REACT_OPAQUE_ID_TYPE = 0xeae0;\nexport let REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\nexport let REACT_OFFSCREEN_TYPE = 0xeae2;\nexport let REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\n\nif (typeof Symbol === 'function' && Symbol.for) {\n  const symbolFor = Symbol.for;\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\n  REACT_MEMO_TYPE = symbolFor('react.memo');\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\n  REACT_BLOCK_TYPE = symbolFor('react.block');\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\n}\n\nconst MAYBE_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type WorkTag =\n  | 0\n  | 1\n  | 2\n  | 3\n  | 4\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16\n  | 17\n  | 18\n  | 19\n  | 20\n  | 21\n  | 22\n  | 23\n  | 24;\n\nexport const FunctionComponent = 0;\nexport const ClassComponent = 1;\nexport const IndeterminateComponent = 2; // Before we know whether it is function or class\nexport const HostRoot = 3; // Root of a host tree. Could be nested inside another node.\nexport const HostPortal = 4; // A subtree. Could be an entry point to a different renderer.\nexport const HostComponent = 5;\nexport const HostText = 6;\nexport const Fragment = 7;\nexport const Mode = 8;\nexport const ContextConsumer = 9;\nexport const ContextProvider = 10;\nexport const ForwardRef = 11;\nexport const Profiler = 12;\nexport const SuspenseComponent = 13;\nexport const MemoComponent = 14;\nexport const SimpleMemoComponent = 15;\nexport const LazyComponent = 16;\nexport const IncompleteClassComponent = 17;\nexport const DehydratedFragment = 18;\nexport const SuspenseListComponent = 19;\nexport const FundamentalComponent = 20;\nexport const ScopeComponent = 21;\nexport const Block = 22;\nexport const OffscreenComponent = 23;\nexport const LegacyHiddenComponent = 24;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type Flags = number;\n\n// Don't change these two values. They're used by React Dev Tools.\nexport const NoFlags = /*                      */ 0b000000000000000000;\nexport const PerformedWork = /*                */ 0b000000000000000001;\n\n// You can change the rest (and add more).\nexport const Placement = /*                    */ 0b000000000000000010;\nexport const Update = /*                       */ 0b000000000000000100;\nexport const PlacementAndUpdate = /*           */ 0b000000000000000110;\nexport const Deletion = /*                     */ 0b000000000000001000;\nexport const ContentReset = /*                 */ 0b000000000000010000;\nexport const Callback = /*                     */ 0b000000000000100000;\nexport const DidCapture = /*                   */ 0b000000000001000000;\nexport const Ref = /*                          */ 0b000000000010000000;\nexport const Snapshot = /*                     */ 0b000000000100000000;\nexport const Passive = /*                      */ 0b000000001000000000;\n// TODO (effects) Remove this bit once the new reconciler is synced to the old.\nexport const PassiveUnmountPendingDev = /*     */ 0b000010000000000000;\nexport const Hydrating = /*                    */ 0b000000010000000000;\nexport const HydratingAndUpdate = /*           */ 0b000000010000000100;\n\n// Passive & Update & Callback & Ref & Snapshot\nexport const LifecycleEffectMask = /*          */ 0b000000001110100100;\n\n// Union of all host effects\nexport const HostEffectMask = /*               */ 0b000000011111111111;\n\n// These are not really side effects, but we still reuse this field.\nexport const Incomplete = /*                   */ 0b000000100000000000;\nexport const ShouldCapture = /*                */ 0b000001000000000000;\nexport const ForceUpdateForLegacySuspense = /* */ 0b000100000000000000;\n\n// Static tags describe aspects of a fiber that are not specific to a render,\n// e.g. a fiber uses a passive effect (even if there are no updates on this particular render).\n// This enables us to defer more work in the unmount case,\n// since we can defer traversing the tree during layout to look for Passive effects,\n// and instead rely on the static flag as a signal that there may be cleanup work.\nexport const PassiveStatic = /*                */ 0b001000000000000000;\n\n// Union of side effect groupings as pertains to subtreeFlags\nexport const BeforeMutationMask = /*           */ 0b000000001100001010;\nexport const MutationMask = /*                 */ 0b000000010010011110;\nexport const LayoutMask = /*                   */ 0b000000000010100100;\nexport const PassiveMask = /*                  */ 0b000000001000001000;\n\n// Union of tags that don't get reset on clones.\n// This allows certain concepts to persist without recalculting them,\n// e.g. whether a subtree contains passive effects or portals.\nexport const StaticMask = /*                   */ 0b001000000000000000;\n\n// These flags allow us to traverse to fibers that have effects on mount\n// without traversing the entire tree after every commit for\n// double invoking\nexport const MountLayoutDev = /*               */ 0b010000000000000000;\nexport const MountPassiveDev = /*              */ 0b100000000000000000;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from './ReactInternalTypes';\nimport type {Container, SuspenseInstance} from './ReactFiberHostConfig';\nimport type {SuspenseState} from './ReactFiberSuspenseComponent.old';\n\nimport invariant from 'shared/invariant';\n\nimport {get as getInstance} from 'shared/ReactInstanceMap';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport getComponentName from 'shared/getComponentName';\nimport {\n  ClassComponent,\n  HostComponent,\n  HostRoot,\n  HostPortal,\n  HostText,\n  FundamentalComponent,\n  SuspenseComponent,\n} from './ReactWorkTags';\nimport {NoFlags, Placement, Hydrating} from './ReactFiberFlags';\nimport {enableFundamentalAPI} from 'shared/ReactFeatureFlags';\n\nconst ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\n\nexport function getNearestMountedFiber(fiber: Fiber): null | Fiber {\n  let node = fiber;\n  let nearestMounted = fiber;\n  if (!fiber.alternate) {\n    // If there is no alternate, this might be a new tree that isn't inserted\n    // yet. If it is, then it will have a pending insertion effect on it.\n    let nextNode = node;\n    do {\n      node = nextNode;\n      if ((node.flags & (Placement | Hydrating)) !== NoFlags) {\n        // This is an insertion or in-progress hydration. The nearest possible\n        // mounted fiber is the parent but we need to continue to figure out\n        // if that one is still mounted.\n        nearestMounted = node.return;\n      }\n      nextNode = node.return;\n    } while (nextNode);\n  } else {\n    while (node.return) {\n      node = node.return;\n    }\n  }\n  if (node.tag === HostRoot) {\n    // TODO: Check if this was a nested HostRoot when used with\n    // renderContainerIntoSubtree.\n    return nearestMounted;\n  }\n  // If we didn't hit the root, that means that we're in an disconnected tree\n  // that has been unmounted.\n  return null;\n}\n\nexport function getSuspenseInstanceFromFiber(\n  fiber: Fiber,\n): null | SuspenseInstance {\n  if (fiber.tag === SuspenseComponent) {\n    let suspenseState: SuspenseState | null = fiber.memoizedState;\n    if (suspenseState === null) {\n      const current = fiber.alternate;\n      if (current !== null) {\n        suspenseState = current.memoizedState;\n      }\n    }\n    if (suspenseState !== null) {\n      return suspenseState.dehydrated;\n    }\n  }\n  return null;\n}\n\nexport function getContainerFromFiber(fiber: Fiber): null | Container {\n  return fiber.tag === HostRoot\n    ? (fiber.stateNode.containerInfo: Container)\n    : null;\n}\n\nexport function isFiberMounted(fiber: Fiber): boolean {\n  return getNearestMountedFiber(fiber) === fiber;\n}\n\nexport function isMounted(component: React$Component<any, any>): boolean {\n  if (__DEV__) {\n    const owner = (ReactCurrentOwner.current: any);\n    if (owner !== null && owner.tag === ClassComponent) {\n      const ownerFiber: Fiber = owner;\n      const instance = ownerFiber.stateNode;\n      if (!instance._warnedAboutRefsInRender) {\n        console.error(\n          '%s is accessing isMounted inside its render() function. ' +\n            'render() should be a pure function of props and state. It should ' +\n            'never access something that requires stale data from the previous ' +\n            'render, such as refs. Move this logic to componentDidMount and ' +\n            'componentDidUpdate instead.',\n          getComponentName(ownerFiber.type) || 'A component',\n        );\n      }\n      instance._warnedAboutRefsInRender = true;\n    }\n  }\n\n  const fiber: ?Fiber = getInstance(component);\n  if (!fiber) {\n    return false;\n  }\n  return getNearestMountedFiber(fiber) === fiber;\n}\n\nfunction assertIsMounted(fiber) {\n  invariant(\n    getNearestMountedFiber(fiber) === fiber,\n    'Unable to find node on an unmounted component.',\n  );\n}\n\nexport function findCurrentFiberUsingSlowPath(fiber: Fiber): Fiber | null {\n  const alternate = fiber.alternate;\n  if (!alternate) {\n    // If there is no alternate, then we only need to check if it is mounted.\n    const nearestMounted = getNearestMountedFiber(fiber);\n    invariant(\n      nearestMounted !== null,\n      'Unable to find node on an unmounted component.',\n    );\n    if (nearestMounted !== fiber) {\n      return null;\n    }\n    return fiber;\n  }\n  // If we have two possible branches, we'll walk backwards up to the root\n  // to see what path the root points to. On the way we may hit one of the\n  // special cases and we'll deal with them.\n  let a: Fiber = fiber;\n  let b: Fiber = alternate;\n  while (true) {\n    const parentA = a.return;\n    if (parentA === null) {\n      // We're at the root.\n      break;\n    }\n    const parentB = parentA.alternate;\n    if (parentB === null) {\n      // There is no alternate. This is an unusual case. Currently, it only\n      // happens when a Suspense component is hidden. An extra fragment fiber\n      // is inserted in between the Suspense fiber and its children. Skip\n      // over this extra fragment fiber and proceed to the next parent.\n      const nextParent = parentA.return;\n      if (nextParent !== null) {\n        a = b = nextParent;\n        continue;\n      }\n      // If there's no parent, we're at the root.\n      break;\n    }\n\n    // If both copies of the parent fiber point to the same child, we can\n    // assume that the child is current. This happens when we bailout on low\n    // priority: the bailed out fiber's child reuses the current child.\n    if (parentA.child === parentB.child) {\n      let child = parentA.child;\n      while (child) {\n        if (child === a) {\n          // We've determined that A is the current branch.\n          assertIsMounted(parentA);\n          return fiber;\n        }\n        if (child === b) {\n          // We've determined that B is the current branch.\n          assertIsMounted(parentA);\n          return alternate;\n        }\n        child = child.sibling;\n      }\n      // We should never have an alternate for any mounting node. So the only\n      // way this could possibly happen is if this was unmounted, if at all.\n      invariant(false, 'Unable to find node on an unmounted component.');\n    }\n\n    if (a.return !== b.return) {\n      // The return pointer of A and the return pointer of B point to different\n      // fibers. We assume that return pointers never criss-cross, so A must\n      // belong to the child set of A.return, and B must belong to the child\n      // set of B.return.\n      a = parentA;\n      b = parentB;\n    } else {\n      // The return pointers point to the same fiber. We'll have to use the\n      // default, slow path: scan the child sets of each parent alternate to see\n      // which child belongs to which set.\n      //\n      // Search parent A's child set\n      let didFindChild = false;\n      let child = parentA.child;\n      while (child) {\n        if (child === a) {\n          didFindChild = true;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child === b) {\n          didFindChild = true;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child = child.sibling;\n      }\n      if (!didFindChild) {\n        // Search parent B's child set\n        child = parentB.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child = child.sibling;\n        }\n        invariant(\n          didFindChild,\n          'Child was not found in either parent set. This indicates a bug ' +\n            'in React related to the return pointer. Please file an issue.',\n        );\n      }\n    }\n\n    invariant(\n      a.alternate === b,\n      \"Return fibers should always be each others' alternates. \" +\n        'This error is likely caused by a bug in React. Please file an issue.',\n    );\n  }\n  // If the root is not a host container, we're in a disconnected tree. I.e.\n  // unmounted.\n  invariant(\n    a.tag === HostRoot,\n    'Unable to find node on an unmounted component.',\n  );\n  if (a.stateNode.current === a) {\n    // We've determined that A is the current branch.\n    return fiber;\n  }\n  // Otherwise B has to be current branch.\n  return alternate;\n}\n\nexport function findCurrentHostFiber(parent: Fiber): Fiber | null {\n  const currentParent = findCurrentFiberUsingSlowPath(parent);\n  if (!currentParent) {\n    return null;\n  }\n\n  // Next we'll drill down this component to find the first HostComponent/Text.\n  let node: Fiber = currentParent;\n  while (true) {\n    if (node.tag === HostComponent || node.tag === HostText) {\n      return node;\n    } else if (node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === currentParent) {\n      return null;\n    }\n    while (!node.sibling) {\n      if (!node.return || node.return === currentParent) {\n        return null;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  // Flow needs the return null here, but ESLint complains about it.\n  // eslint-disable-next-line no-unreachable\n  return null;\n}\n\nexport function findCurrentHostFiberWithNoPortals(parent: Fiber): Fiber | null {\n  const currentParent = findCurrentFiberUsingSlowPath(parent);\n  if (!currentParent) {\n    return null;\n  }\n\n  // Next we'll drill down this component to find the first HostComponent/Text.\n  let node: Fiber = currentParent;\n  while (true) {\n    if (\n      node.tag === HostComponent ||\n      node.tag === HostText ||\n      (enableFundamentalAPI && node.tag === FundamentalComponent)\n    ) {\n      return node;\n    } else if (node.child && node.tag !== HostPortal) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === currentParent) {\n      return null;\n    }\n    while (!node.sibling) {\n      if (!node.return || node.return === currentParent) {\n        return null;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  // Flow needs the return null here, but ESLint complains about it.\n  // eslint-disable-next-line no-unreachable\n  return null;\n}\n\nexport function isFiberSuspenseAndTimedOut(fiber: Fiber): boolean {\n  const memoizedState = fiber.memoizedState;\n  return (\n    fiber.tag === SuspenseComponent &&\n    memoizedState !== null &&\n    memoizedState.dehydrated === null\n  );\n}\n\nexport function doesFiberContain(\n  parentFiber: Fiber,\n  childFiber: Fiber,\n): boolean {\n  let node = childFiber;\n  const parentFiberAlternate = parentFiber.alternate;\n  while (node !== null) {\n    if (node === parentFiber || node === parentFiberAlternate) {\n      return true;\n    }\n    node = node.return;\n  }\n  return false;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * `charCode` represents the actual \"character code\" and is safe to use with\n * `String.fromCharCode`. As such, only keys that correspond to printable\n * characters produce a valid `charCode`, the only exception to this is Enter.\n * The Tab-key is considered non-printable and does not have a `charCode`,\n * presumably because it does not produce a tab-character in browsers.\n *\n * @param {object} nativeEvent Native browser event.\n * @return {number} Normalized `charCode` property.\n */\nfunction getEventCharCode(nativeEvent: KeyboardEvent): number {\n  let charCode;\n  const keyCode = nativeEvent.keyCode;\n\n  if ('charCode' in nativeEvent) {\n    charCode = nativeEvent.charCode;\n\n    // FF does not set `charCode` for the Enter-key, check against `keyCode`.\n    if (charCode === 0 && keyCode === 13) {\n      charCode = 13;\n    }\n  } else {\n    // IE8 does not implement `charCode`, but `keyCode` has the correct value.\n    charCode = keyCode;\n  }\n\n  // IE and Edge (on Windows) and Chrome / Safari (on Windows and Linux)\n  // report Enter as charCode 10 when ctrl is pressed.\n  if (charCode === 10) {\n    charCode = 13;\n  }\n\n  // Some non-printable keys are reported in `charCode`/`keyCode`, discard them.\n  // Must not discard the (non-)printable Enter-key.\n  if (charCode >= 32 || charCode === 13) {\n    return charCode;\n  }\n\n  return 0;\n}\n\nexport default getEventCharCode;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/* eslint valid-typeof: 0 */\n\nimport getEventCharCode from './getEventCharCode';\n\ntype EventInterfaceType = {\n  [propName: string]: 0 | ((event: {[propName: string]: mixed}) => mixed),\n};\n\nfunction functionThatReturnsTrue() {\n  return true;\n}\n\nfunction functionThatReturnsFalse() {\n  return false;\n}\n\n// This is intentionally a factory so that we have different returned constructors.\n// If we had a single constructor, it would be megamorphic and engines would deopt.\nfunction createSyntheticEvent(Interface: EventInterfaceType) {\n  /**\n   * Synthetic events are dispatched by event plugins, typically in response to a\n   * top-level event delegation handler.\n   *\n   * These systems should generally use pooling to reduce the frequency of garbage\n   * collection. The system should check `isPersistent` to determine whether the\n   * event should be released into the pool after being dispatched. Users that\n   * need a persisted event should invoke `persist`.\n   *\n   * Synthetic events (and subclasses) implement the DOM Level 3 Events API by\n   * normalizing browser quirks. Subclasses do not necessarily have to implement a\n   * DOM interface; custom application-specific events can also subclass this.\n   */\n  function SyntheticBaseEvent(\n    reactName: string | null,\n    reactEventType: string,\n    targetInst: Fiber,\n    nativeEvent: {[propName: string]: mixed},\n    nativeEventTarget: null | EventTarget,\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n\n    for (const propName in Interface) {\n      if (!Interface.hasOwnProperty(propName)) {\n        continue;\n      }\n      const normalize = Interface[propName];\n      if (normalize) {\n        this[propName] = normalize(nativeEvent);\n      } else {\n        this[propName] = nativeEvent[propName];\n      }\n    }\n\n    const defaultPrevented =\n      nativeEvent.defaultPrevented != null\n        ? nativeEvent.defaultPrevented\n        : nativeEvent.returnValue === false;\n    if (defaultPrevented) {\n      this.isDefaultPrevented = functionThatReturnsTrue;\n    } else {\n      this.isDefaultPrevented = functionThatReturnsFalse;\n    }\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n\n  Object.assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function() {\n      this.defaultPrevented = true;\n      const event = this.nativeEvent;\n      if (!event) {\n        return;\n      }\n\n      if (event.preventDefault) {\n        event.preventDefault();\n        // $FlowFixMe - flow is not aware of `unknown` in IE\n      } else if (typeof event.returnValue !== 'unknown') {\n        event.returnValue = false;\n      }\n      this.isDefaultPrevented = functionThatReturnsTrue;\n    },\n\n    stopPropagation: function() {\n      const event = this.nativeEvent;\n      if (!event) {\n        return;\n      }\n\n      if (event.stopPropagation) {\n        event.stopPropagation();\n        // $FlowFixMe - flow is not aware of `unknown` in IE\n      } else if (typeof event.cancelBubble !== 'unknown') {\n        // The ChangeEventPlugin registers a \"propertychange\" event for\n        // IE. This event does not support bubbling or cancelling, and\n        // any references to cancelBubble throw \"Member not found\".  A\n        // typeof check of \"unknown\" circumvents this issue (and is also\n        // IE specific).\n        event.cancelBubble = true;\n      }\n\n      this.isPropagationStopped = functionThatReturnsTrue;\n    },\n\n    /**\n     * We release all dispatched `SyntheticEvent`s after each event loop, adding\n     * them back into the pool. This allows a way to hold onto a reference that\n     * won't be added back into the pool.\n     */\n    persist: function() {\n      // Modern event system doesn't use pooling.\n    },\n\n    /**\n     * Checks if this event should be released back into the pool.\n     *\n     * @return {boolean} True if this should not be released, false otherwise.\n     */\n    isPersistent: functionThatReturnsTrue,\n  });\n  return SyntheticBaseEvent;\n}\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst EventInterface = {\n  eventPhase: 0,\n  bubbles: 0,\n  cancelable: 0,\n  timeStamp: function(event) {\n    return event.timeStamp || Date.now();\n  },\n  defaultPrevented: 0,\n  isTrusted: 0,\n};\nexport const SyntheticEvent = createSyntheticEvent(EventInterface);\n\nconst UIEventInterface: EventInterfaceType = {\n  ...EventInterface,\n  view: 0,\n  detail: 0,\n};\nexport const SyntheticUIEvent = createSyntheticEvent(UIEventInterface);\n\nlet lastMovementX;\nlet lastMovementY;\nlet lastMouseEvent;\n\nfunction updateMouseMovementPolyfillState(event) {\n  if (event !== lastMouseEvent) {\n    if (lastMouseEvent && event.type === 'mousemove') {\n      lastMovementX = event.screenX - lastMouseEvent.screenX;\n      lastMovementY = event.screenY - lastMouseEvent.screenY;\n    } else {\n      lastMovementX = 0;\n      lastMovementY = 0;\n    }\n    lastMouseEvent = event;\n  }\n}\n\n/**\n * @interface MouseEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst MouseEventInterface: EventInterfaceType = {\n  ...UIEventInterface,\n  screenX: 0,\n  screenY: 0,\n  clientX: 0,\n  clientY: 0,\n  pageX: 0,\n  pageY: 0,\n  ctrlKey: 0,\n  shiftKey: 0,\n  altKey: 0,\n  metaKey: 0,\n  getModifierState: getEventModifierState,\n  button: 0,\n  buttons: 0,\n  relatedTarget: function(event) {\n    if (event.relatedTarget === undefined)\n      return event.fromElement === event.srcElement\n        ? event.toElement\n        : event.fromElement;\n\n    return event.relatedTarget;\n  },\n  movementX: function(event) {\n    if ('movementX' in event) {\n      return event.movementX;\n    }\n    updateMouseMovementPolyfillState(event);\n    return lastMovementX;\n  },\n  movementY: function(event) {\n    if ('movementY' in event) {\n      return event.movementY;\n    }\n    // Don't need to call updateMouseMovementPolyfillState() here\n    // because it's guaranteed to have already run when movementX\n    // was copied.\n    return lastMovementY;\n  },\n};\nexport const SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface);\n\n/**\n * @interface DragEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst DragEventInterface: EventInterfaceType = {\n  ...MouseEventInterface,\n  dataTransfer: 0,\n};\nexport const SyntheticDragEvent = createSyntheticEvent(DragEventInterface);\n\n/**\n * @interface FocusEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst FocusEventInterface: EventInterfaceType = {\n  ...UIEventInterface,\n  relatedTarget: 0,\n};\nexport const SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface);\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/css3-animations/#AnimationEvent-interface\n * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent\n */\nconst AnimationEventInterface: EventInterfaceType = {\n  ...EventInterface,\n  animationName: 0,\n  elapsedTime: 0,\n  pseudoElement: 0,\n};\nexport const SyntheticAnimationEvent = createSyntheticEvent(\n  AnimationEventInterface,\n);\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/clipboard-apis/\n */\nconst ClipboardEventInterface: EventInterfaceType = {\n  ...EventInterface,\n  clipboardData: function(event) {\n    return 'clipboardData' in event\n      ? event.clipboardData\n      : window.clipboardData;\n  },\n};\nexport const SyntheticClipboardEvent = createSyntheticEvent(\n  ClipboardEventInterface,\n);\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#events-compositionevents\n */\nconst CompositionEventInterface: EventInterfaceType = {\n  ...EventInterface,\n  data: 0,\n};\nexport const SyntheticCompositionEvent = createSyntheticEvent(\n  CompositionEventInterface,\n);\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/2013/WD-DOM-Level-3-Events-20131105\n *      /#events-inputevents\n */\n// Happens to share the same list for now.\nexport const SyntheticInputEvent = SyntheticCompositionEvent;\n\n/**\n * Normalization of deprecated HTML5 `key` values\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nconst normalizeKey = {\n  Esc: 'Escape',\n  Spacebar: ' ',\n  Left: 'ArrowLeft',\n  Up: 'ArrowUp',\n  Right: 'ArrowRight',\n  Down: 'ArrowDown',\n  Del: 'Delete',\n  Win: 'OS',\n  Menu: 'ContextMenu',\n  Apps: 'ContextMenu',\n  Scroll: 'ScrollLock',\n  MozPrintableKey: 'Unidentified',\n};\n\n/**\n * Translation from legacy `keyCode` to HTML5 `key`\n * Only special keys supported, all others depend on keyboard layout or browser\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent#Key_names\n */\nconst translateToKey = {\n  '8': 'Backspace',\n  '9': 'Tab',\n  '12': 'Clear',\n  '13': 'Enter',\n  '16': 'Shift',\n  '17': 'Control',\n  '18': 'Alt',\n  '19': 'Pause',\n  '20': 'CapsLock',\n  '27': 'Escape',\n  '32': ' ',\n  '33': 'PageUp',\n  '34': 'PageDown',\n  '35': 'End',\n  '36': 'Home',\n  '37': 'ArrowLeft',\n  '38': 'ArrowUp',\n  '39': 'ArrowRight',\n  '40': 'ArrowDown',\n  '45': 'Insert',\n  '46': 'Delete',\n  '112': 'F1',\n  '113': 'F2',\n  '114': 'F3',\n  '115': 'F4',\n  '116': 'F5',\n  '117': 'F6',\n  '118': 'F7',\n  '119': 'F8',\n  '120': 'F9',\n  '121': 'F10',\n  '122': 'F11',\n  '123': 'F12',\n  '144': 'NumLock',\n  '145': 'ScrollLock',\n  '224': 'Meta',\n};\n\n/**\n * @param {object} nativeEvent Native browser event.\n * @return {string} Normalized `key` property.\n */\nfunction getEventKey(nativeEvent) {\n  if (nativeEvent.key) {\n    // Normalize inconsistent values reported by browsers due to\n    // implementations of a working draft specification.\n\n    // FireFox implements `key` but returns `MozPrintableKey` for all\n    // printable characters (normalized to `Unidentified`), ignore it.\n    const key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n    if (key !== 'Unidentified') {\n      return key;\n    }\n  }\n\n  // Browser does not implement `key`, polyfill as much of it as we can.\n  if (nativeEvent.type === 'keypress') {\n    const charCode = getEventCharCode(nativeEvent);\n\n    // The enter-key is technically both printable and non-printable and can\n    // thus be captured by `keypress`, no other non-printable key should.\n    return charCode === 13 ? 'Enter' : String.fromCharCode(charCode);\n  }\n  if (nativeEvent.type === 'keydown' || nativeEvent.type === 'keyup') {\n    // While user keyboard layout determines the actual meaning of each\n    // `keyCode` value, almost all function keys have a universal value.\n    return translateToKey[nativeEvent.keyCode] || 'Unidentified';\n  }\n  return '';\n}\n\n/**\n * Translation from modifier key to the associated property in the event.\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#keys-Modifiers\n */\nconst modifierKeyToProp = {\n  Alt: 'altKey',\n  Control: 'ctrlKey',\n  Meta: 'metaKey',\n  Shift: 'shiftKey',\n};\n\n// Older browsers (Safari <= 10, iOS Safari <= 10.2) do not support\n// getModifierState. If getModifierState is not supported, we map it to a set of\n// modifier keys exposed by the event. In this case, Lock-keys are not supported.\nfunction modifierStateGetter(keyArg) {\n  const syntheticEvent = this;\n  const nativeEvent = syntheticEvent.nativeEvent;\n  if (nativeEvent.getModifierState) {\n    return nativeEvent.getModifierState(keyArg);\n  }\n  const keyProp = modifierKeyToProp[keyArg];\n  return keyProp ? !!nativeEvent[keyProp] : false;\n}\n\nfunction getEventModifierState(nativeEvent) {\n  return modifierStateGetter;\n}\n\n/**\n * @interface KeyboardEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst KeyboardEventInterface = {\n  ...UIEventInterface,\n  key: getEventKey,\n  code: 0,\n  location: 0,\n  ctrlKey: 0,\n  shiftKey: 0,\n  altKey: 0,\n  metaKey: 0,\n  repeat: 0,\n  locale: 0,\n  getModifierState: getEventModifierState,\n  // Legacy Interface\n  charCode: function(event) {\n    // `charCode` is the result of a KeyPress event and represents the value of\n    // the actual printable character.\n\n    // KeyPress is deprecated, but its replacement is not yet final and not\n    // implemented in any major browser. Only KeyPress has charCode.\n    if (event.type === 'keypress') {\n      return getEventCharCode(event);\n    }\n    return 0;\n  },\n  keyCode: function(event) {\n    // `keyCode` is the result of a KeyDown/Up event and represents the value of\n    // physical keyboard key.\n\n    // The actual meaning of the value depends on the users' keyboard layout\n    // which cannot be detected. Assuming that it is a US keyboard layout\n    // provides a surprisingly accurate mapping for US and European users.\n    // Due to this, it is left to the user to implement at this time.\n    if (event.type === 'keydown' || event.type === 'keyup') {\n      return event.keyCode;\n    }\n    return 0;\n  },\n  which: function(event) {\n    // `which` is an alias for either `keyCode` or `charCode` depending on the\n    // type of the event.\n    if (event.type === 'keypress') {\n      return getEventCharCode(event);\n    }\n    if (event.type === 'keydown' || event.type === 'keyup') {\n      return event.keyCode;\n    }\n    return 0;\n  },\n};\nexport const SyntheticKeyboardEvent = createSyntheticEvent(\n  KeyboardEventInterface,\n);\n\n/**\n * @interface PointerEvent\n * @see http://www.w3.org/TR/pointerevents/\n */\nconst PointerEventInterface = {\n  ...MouseEventInterface,\n  pointerId: 0,\n  width: 0,\n  height: 0,\n  pressure: 0,\n  tangentialPressure: 0,\n  tiltX: 0,\n  tiltY: 0,\n  twist: 0,\n  pointerType: 0,\n  isPrimary: 0,\n};\nexport const SyntheticPointerEvent = createSyntheticEvent(\n  PointerEventInterface,\n);\n\n/**\n * @interface TouchEvent\n * @see http://www.w3.org/TR/touch-events/\n */\nconst TouchEventInterface = {\n  ...UIEventInterface,\n  touches: 0,\n  targetTouches: 0,\n  changedTouches: 0,\n  altKey: 0,\n  metaKey: 0,\n  ctrlKey: 0,\n  shiftKey: 0,\n  getModifierState: getEventModifierState,\n};\nexport const SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface);\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/2009/WD-css3-transitions-20090320/#transition-events-\n * @see https://developer.mozilla.org/en-US/docs/Web/API/TransitionEvent\n */\nconst TransitionEventInterface = {\n  ...EventInterface,\n  propertyName: 0,\n  elapsedTime: 0,\n  pseudoElement: 0,\n};\nexport const SyntheticTransitionEvent = createSyntheticEvent(\n  TransitionEventInterface,\n);\n\n/**\n * @interface WheelEvent\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nconst WheelEventInterface = {\n  ...MouseEventInterface,\n  deltaX(event) {\n    return 'deltaX' in event\n      ? event.deltaX\n      : // Fallback to `wheelDeltaX` for Webkit and normalize (right is positive).\n      'wheelDeltaX' in event\n      ? -event.wheelDeltaX\n      : 0;\n  },\n  deltaY(event) {\n    return 'deltaY' in event\n      ? event.deltaY\n      : // Fallback to `wheelDeltaY` for Webkit and normalize (down is positive).\n      'wheelDeltaY' in event\n      ? -event.wheelDeltaY\n      : // Fallback to `wheelDelta` for IE<9 and normalize (down is positive).\n      'wheelDelta' in event\n      ? -event.wheelDelta\n      : 0;\n  },\n  deltaZ: 0,\n\n  // Browsers without \"deltaMode\" is reporting in raw wheel delta where one\n  // notch on the scroll is always +/- 120, roughly equivalent to pixels.\n  // A good approximation of DOM_DELTA_LINE (1) is 5% of viewport size or\n  // ~40 pixels, for DOM_DELTA_SCREEN (2) it is 87.5% of viewport size.\n  deltaMode: 0,\n};\nexport const SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface);\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * HTML nodeType values that represent the type of the node\n */\n\nexport const ELEMENT_NODE = 1;\nexport const TEXT_NODE = 3;\nexport const COMMENT_NODE = 8;\nexport const DOCUMENT_NODE = 9;\nexport const DOCUMENT_FRAGMENT_NODE = 11;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nlet didWarnAboutMessageChannel = false;\nlet enqueueTaskImpl = null;\n\nexport default function enqueueTask(task: () => void) {\n  if (enqueueTaskImpl === null) {\n    try {\n      // read require off the module object to get around the bundlers.\n      // we don't want them to detect a require and bundle a Node polyfill.\n      const requireString = ('require' + Math.random()).slice(0, 7);\n      const nodeRequire = module && module[requireString];\n      // assuming we're in node, let's try to get node's\n      // version of setImmediate, bypassing fake timers if any.\n      enqueueTaskImpl = nodeRequire.call(module, 'timers').setImmediate;\n    } catch (_err) {\n      // we're in a browser\n      // we can't use regular timers because they may still be faked\n      // so we try MessageChannel+postMessage instead\n      enqueueTaskImpl = function(callback: () => void) {\n        if (__DEV__) {\n          if (didWarnAboutMessageChannel === false) {\n            didWarnAboutMessageChannel = true;\n            if (typeof MessageChannel === 'undefined') {\n              console.error(\n                'This browser does not have a MessageChannel implementation, ' +\n                  'so enqueuing tasks via await act(async () => ...) will fail. ' +\n                  'Please file an issue at https://github.com/facebook/react/issues ' +\n                  'if you encounter this warning.',\n              );\n            }\n          }\n        }\n        const channel = new MessageChannel();\n        channel.port1.onmessage = callback;\n        channel.port2.postMessage(undefined);\n      };\n    }\n  }\n  return enqueueTaskImpl(task);\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nconst {\n  unstable_cancelCallback,\n  unstable_now,\n  unstable_scheduleCallback,\n  unstable_shouldYield,\n  unstable_requestPaint,\n  unstable_getFirstCallbackNode,\n  unstable_runWithPriority,\n  unstable_next,\n  unstable_continueExecution,\n  unstable_pauseExecution,\n  unstable_getCurrentPriorityLevel,\n  unstable_ImmediatePriority,\n  unstable_UserBlockingPriority,\n  unstable_NormalPriority,\n  unstable_LowPriority,\n  unstable_IdlePriority,\n  unstable_forceFrameRate,\n\n  // this doesn't actually exist on the scheduler, but it *does*\n  // on scheduler/unstable_mock, which we'll need inside act().\n  unstable_flushAllWithoutAsserting,\n} = ReactInternals.Scheduler;\n\nexport {\n  unstable_cancelCallback,\n  unstable_now,\n  unstable_scheduleCallback,\n  unstable_shouldYield,\n  unstable_requestPaint,\n  unstable_getFirstCallbackNode,\n  unstable_runWithPriority,\n  unstable_next,\n  unstable_continueExecution,\n  unstable_pauseExecution,\n  unstable_getCurrentPriorityLevel,\n  unstable_ImmediatePriority,\n  unstable_UserBlockingPriority,\n  unstable_NormalPriority,\n  unstable_LowPriority,\n  unstable_IdlePriority,\n  unstable_forceFrameRate,\n  unstable_flushAllWithoutAsserting,\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Thenable} from 'shared/ReactTypes';\n\nimport * as ReactDOM from 'react-dom';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport enqueueTask from 'shared/enqueueTask';\nimport * as Scheduler from 'scheduler';\n\n// Keep in sync with ReactDOM.js, and ReactTestUtils.js:\nconst EventInternals =\n  ReactDOM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events;\n// const getInstanceFromNode = EventInternals[0];\n// const getNodeFromInstance = EventInternals[1];\n// const getFiberCurrentPropsFromNode = EventInternals[2];\n// const enqueueStateRestore = EventInternals[3];\n// const restoreStateIfNeeded = EventInternals[4];\nconst flushPassiveEffects = EventInternals[5];\nconst IsThisRendererActing = EventInternals[6];\n\nconst batchedUpdates = ReactDOM.unstable_batchedUpdates;\n\nconst {IsSomeRendererActing} = ReactSharedInternals;\n\n// This is the public version of `ReactTestUtils.act`. It is implemented in\n// \"userspace\" (i.e. not the reconciler), so that it doesn't add to the\n// production bundle size.\n// TODO: Remove this implementation of `act` in favor of the one exported by\n// the reconciler. To do this, we must first drop support for `act` in\n// production mode.\n\n// TODO: Remove support for the mock scheduler build, which was only added for\n// the purposes of internal testing. Internal tests should use\n// `unstable_concurrentAct` instead.\nconst isSchedulerMocked =\n  typeof Scheduler.unstable_flushAllWithoutAsserting === 'function';\nconst flushWork =\n  Scheduler.unstable_flushAllWithoutAsserting ||\n  function() {\n    let didFlushWork = false;\n    while (flushPassiveEffects()) {\n      didFlushWork = true;\n    }\n\n    return didFlushWork;\n  };\n\nfunction flushWorkAndMicroTasks(onDone: (err: ?Error) => void) {\n  try {\n    flushWork();\n    enqueueTask(() => {\n      if (flushWork()) {\n        flushWorkAndMicroTasks(onDone);\n      } else {\n        onDone();\n      }\n    });\n  } catch (err) {\n    onDone(err);\n  }\n}\n\n// we track the 'depth' of the act() calls with this counter,\n// so we can tell if any async act() calls try to run in parallel.\n\nlet actingUpdatesScopeDepth = 0;\nlet didWarnAboutUsingActInProd = false;\n\nexport function act(callback: () => Thenable<mixed>): Thenable<void> {\n  if (!__DEV__) {\n    if (didWarnAboutUsingActInProd === false) {\n      didWarnAboutUsingActInProd = true;\n      // eslint-disable-next-line react-internal/no-production-logging\n      console.error(\n        'act(...) is not supported in production builds of React, and might not behave as expected.',\n      );\n    }\n  }\n  const previousActingUpdatesScopeDepth = actingUpdatesScopeDepth;\n  actingUpdatesScopeDepth++;\n\n  const previousIsSomeRendererActing = IsSomeRendererActing.current;\n  const previousIsThisRendererActing = IsThisRendererActing.current;\n  IsSomeRendererActing.current = true;\n  IsThisRendererActing.current = true;\n\n  function onDone() {\n    actingUpdatesScopeDepth--;\n    IsSomeRendererActing.current = previousIsSomeRendererActing;\n    IsThisRendererActing.current = previousIsThisRendererActing;\n    if (__DEV__) {\n      if (actingUpdatesScopeDepth > previousActingUpdatesScopeDepth) {\n        // if it's _less than_ previousActingUpdatesScopeDepth, then we can assume the 'other' one has warned\n        console.error(\n          'You seem to have overlapping act() calls, this is not supported. ' +\n            'Be sure to await previous act() calls before making a new one. ',\n        );\n      }\n    }\n  }\n\n  let result;\n  try {\n    result = batchedUpdates(callback);\n  } catch (error) {\n    // on sync errors, we still want to 'cleanup' and decrement actingUpdatesScopeDepth\n    onDone();\n    throw error;\n  }\n\n  if (\n    result !== null &&\n    typeof result === 'object' &&\n    typeof result.then === 'function'\n  ) {\n    // setup a boolean that gets set to true only\n    // once this act() call is await-ed\n    let called = false;\n    if (__DEV__) {\n      if (typeof Promise !== 'undefined') {\n        //eslint-disable-next-line no-undef\n        Promise.resolve()\n          .then(() => {})\n          .then(() => {\n            if (called === false) {\n              console.error(\n                'You called act(async () => ...) without await. ' +\n                  'This could lead to unexpected testing behaviour, interleaving multiple act ' +\n                  'calls and mixing their scopes. You should - await act(async () => ...);',\n              );\n            }\n          });\n      }\n    }\n\n    // in the async case, the returned thenable runs the callback, flushes\n    // effects and  microtasks in a loop until flushPassiveEffects() === false,\n    // and cleans up\n    return {\n      then(resolve, reject) {\n        called = true;\n        result.then(\n          () => {\n            if (\n              actingUpdatesScopeDepth > 1 ||\n              (isSchedulerMocked === true &&\n                previousIsSomeRendererActing === true)\n            ) {\n              onDone();\n              resolve();\n              return;\n            }\n            // we're about to exit the act() scope,\n            // now's the time to flush tasks/effects\n            flushWorkAndMicroTasks((err: ?Error) => {\n              onDone();\n              if (err) {\n                reject(err);\n              } else {\n                resolve();\n              }\n            });\n          },\n          err => {\n            onDone();\n            reject(err);\n          },\n        );\n      },\n    };\n  } else {\n    if (__DEV__) {\n      if (result !== undefined) {\n        console.error(\n          'The callback passed to act(...) function ' +\n            'must return undefined, or a Promise. You returned %s',\n          result,\n        );\n      }\n    }\n\n    // flush effects until none remain, and cleanup\n    try {\n      if (\n        actingUpdatesScopeDepth === 1 &&\n        (isSchedulerMocked === false || previousIsSomeRendererActing === false)\n      ) {\n        // we're about to exit the act() scope,\n        // now's the time to flush effects\n        flushWork();\n      }\n      onDone();\n    } catch (err) {\n      onDone();\n      throw err;\n    }\n\n    // in the sync case, the returned thenable only warns *if* await-ed\n    return {\n      then(resolve) {\n        if (__DEV__) {\n          console.error(\n            'Do not await the result of calling act(...) with sync logic, it is not a Promise.',\n          );\n        }\n        resolve();\n      },\n    };\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Thenable} from 'shared/ReactTypes';\n\nimport * as ReactDOM from 'react-dom';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport enqueueTask from 'shared/enqueueTask';\nimport * as Scheduler from 'scheduler';\n\n// Keep in sync with ReactDOM.js, and ReactTestUtils.js:\nconst EventInternals =\n  ReactDOM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events;\n// const getInstanceFromNode = EventInternals[0];\n// const getNodeFromInstance = EventInternals[1];\n// const getFiberCurrentPropsFromNode = EventInternals[2];\n// const enqueueStateRestore = EventInternals[3];\n// const restoreStateIfNeeded = EventInternals[4];\n// const flushPassiveEffects = EventInternals[5];\nconst IsThisRendererActing = EventInternals[6];\n\nconst batchedUpdates = ReactDOM.unstable_batchedUpdates;\n\nconst {IsSomeRendererActing} = ReactSharedInternals;\n\n// This version of `act` is only used by our tests. Unlike the public version\n// of `act`, it's designed to work identically in both production and\n// development. It may have slightly different behavior from the public\n// version, too, since our constraints in our test suite are not the same as\n// those of developers using React — we're testing React itself, as opposed to\n// building an app with React.\n\nlet actingUpdatesScopeDepth = 0;\n\nexport function unstable_concurrentAct(scope: () => Thenable<mixed> | void) {\n  if (Scheduler.unstable_flushAllWithoutAsserting === undefined) {\n    throw Error(\n      'This version of `act` requires a special mock build of Scheduler.',\n    );\n  }\n  if (setTimeout._isMockFunction !== true) {\n    throw Error(\n      \"This version of `act` requires Jest's timer mocks \" +\n        '(i.e. jest.useFakeTimers).',\n    );\n  }\n\n  const previousActingUpdatesScopeDepth = actingUpdatesScopeDepth;\n  const previousIsSomeRendererActing = IsSomeRendererActing.current;\n  const previousIsThisRendererActing = IsThisRendererActing.current;\n  IsSomeRendererActing.current = true;\n  IsThisRendererActing.current = true;\n  actingUpdatesScopeDepth++;\n\n  const unwind = () => {\n    actingUpdatesScopeDepth--;\n    IsSomeRendererActing.current = previousIsSomeRendererActing;\n    IsThisRendererActing.current = previousIsThisRendererActing;\n\n    if (__DEV__) {\n      if (actingUpdatesScopeDepth > previousActingUpdatesScopeDepth) {\n        // if it's _less than_ previousActingUpdatesScopeDepth, then we can\n        // assume the 'other' one has warned\n        console.error(\n          'You seem to have overlapping act() calls, this is not supported. ' +\n            'Be sure to await previous act() calls before making a new one. ',\n        );\n      }\n    }\n  };\n\n  // TODO: This would be way simpler if 1) we required a promise to be\n  // returned and 2) we could use async/await. Since it's only our used in\n  // our test suite, we should be able to.\n  try {\n    const thenable = batchedUpdates(scope);\n    if (\n      typeof thenable === 'object' &&\n      thenable !== null &&\n      typeof thenable.then === 'function'\n    ) {\n      return {\n        then(resolve: () => void, reject: (error: mixed) => void) {\n          thenable.then(\n            () => {\n              flushActWork(\n                () => {\n                  unwind();\n                  resolve();\n                },\n                error => {\n                  unwind();\n                  reject(error);\n                },\n              );\n            },\n            error => {\n              unwind();\n              reject(error);\n            },\n          );\n        },\n      };\n    } else {\n      try {\n        // TODO: Let's not support non-async scopes at all in our tests. Need to\n        // migrate existing tests.\n        let didFlushWork;\n        do {\n          didFlushWork = Scheduler.unstable_flushAllWithoutAsserting();\n        } while (didFlushWork);\n      } finally {\n        unwind();\n      }\n    }\n  } catch (error) {\n    unwind();\n    throw error;\n  }\n}\n\nfunction flushActWork(resolve, reject) {\n  // Flush suspended fallbacks\n  // $FlowFixMe: Flow doesn't know about global Jest object\n  jest.runOnlyPendingTimers();\n  enqueueTask(() => {\n    try {\n      const didFlushWork = Scheduler.unstable_flushAllWithoutAsserting();\n      if (didFlushWork) {\n        flushActWork(resolve, reject);\n      } else {\n        resolve();\n      }\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\n\nfunction invokeGuardedCallbackProd<A, B, C, D, E, F, Context>(\n  name: string | null,\n  func: (a: A, b: B, c: C, d: D, e: E, f: F) => mixed,\n  context: Context,\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n) {\n  const funcArgs = Array.prototype.slice.call(arguments, 3);\n  try {\n    func.apply(context, funcArgs);\n  } catch (error) {\n    this.onError(error);\n  }\n}\n\nlet invokeGuardedCallbackImpl = invokeGuardedCallbackProd;\n\nif (__DEV__) {\n  // In DEV mode, we swap out invokeGuardedCallback for a special version\n  // that plays more nicely with the browser's DevTools. The idea is to preserve\n  // \"Pause on exceptions\" behavior. Because React wraps all user-provided\n  // functions in invokeGuardedCallback, and the production version of\n  // invokeGuardedCallback uses a try-catch, all user exceptions are treated\n  // like caught exceptions, and the DevTools won't pause unless the developer\n  // takes the extra step of enabling pause on caught exceptions. This is\n  // unintuitive, though, because even though React has caught the error, from\n  // the developer's perspective, the error is uncaught.\n  //\n  // To preserve the expected \"Pause on exceptions\" behavior, we don't use a\n  // try-catch in DEV. Instead, we synchronously dispatch a fake event to a fake\n  // DOM node, and call the user-provided callback from inside an event handler\n  // for that fake event. If the callback throws, the error is \"captured\" using\n  // a global event handler. But because the error happens in a different\n  // event loop context, it does not interrupt the normal program flow.\n  // Effectively, this gives us try-catch behavior without actually using\n  // try-catch. Neat!\n\n  // Check that the browser supports the APIs we need to implement our special\n  // DEV version of invokeGuardedCallback\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.dispatchEvent === 'function' &&\n    typeof document !== 'undefined' &&\n    typeof document.createEvent === 'function'\n  ) {\n    const fakeNode = document.createElement('react');\n\n    invokeGuardedCallbackImpl = function invokeGuardedCallbackDev<\n      A,\n      B,\n      C,\n      D,\n      E,\n      F,\n      Context,\n    >(\n      name: string | null,\n      func: (a: A, b: B, c: C, d: D, e: E, f: F) => mixed,\n      context: Context,\n      a: A,\n      b: B,\n      c: C,\n      d: D,\n      e: E,\n      f: F,\n    ) {\n      // If document doesn't exist we know for sure we will crash in this method\n      // when we call document.createEvent(). However this can cause confusing\n      // errors: https://github.com/facebook/create-react-app/issues/3482\n      // So we preemptively throw with a better message instead.\n      invariant(\n        typeof document !== 'undefined',\n        'The `document` global was defined when React was initialized, but is not ' +\n          'defined anymore. This can happen in a test environment if a component ' +\n          'schedules an update from an asynchronous callback, but the test has already ' +\n          'finished running. To solve this, you can either unmount the component at ' +\n          'the end of your test (and ensure that any asynchronous operations get ' +\n          'canceled in `componentWillUnmount`), or you can change the test itself ' +\n          'to be asynchronous.',\n      );\n      const evt = document.createEvent('Event');\n\n      let didCall = false;\n      // Keeps track of whether the user-provided callback threw an error. We\n      // set this to true at the beginning, then set it to false right after\n      // calling the function. If the function errors, `didError` will never be\n      // set to false. This strategy works even if the browser is flaky and\n      // fails to call our global error handler, because it doesn't rely on\n      // the error event at all.\n      let didError = true;\n\n      // Keeps track of the value of window.event so that we can reset it\n      // during the callback to let user code access window.event in the\n      // browsers that support it.\n      const windowEvent = window.event;\n\n      // Keeps track of the descriptor of window.event to restore it after event\n      // dispatching: https://github.com/facebook/react/issues/13688\n      const windowEventDescriptor = Object.getOwnPropertyDescriptor(\n        window,\n        'event',\n      );\n\n      function restoreAfterDispatch() {\n        // We immediately remove the callback from event listeners so that\n        // nested `invokeGuardedCallback` calls do not clash. Otherwise, a\n        // nested call would trigger the fake event handlers of any call higher\n        // in the stack.\n        fakeNode.removeEventListener(evtType, callCallback, false);\n\n        // We check for window.hasOwnProperty('event') to prevent the\n        // window.event assignment in both IE <= 10 as they throw an error\n        // \"Member not found\" in strict mode, and in Firefox which does not\n        // support window.event.\n        if (\n          typeof window.event !== 'undefined' &&\n          window.hasOwnProperty('event')\n        ) {\n          window.event = windowEvent;\n        }\n      }\n\n      // Create an event handler for our fake event. We will synchronously\n      // dispatch our fake event using `dispatchEvent`. Inside the handler, we\n      // call the user-provided callback.\n      const funcArgs = Array.prototype.slice.call(arguments, 3);\n      function callCallback() {\n        didCall = true;\n        restoreAfterDispatch();\n        func.apply(context, funcArgs);\n        didError = false;\n      }\n\n      // Create a global error event handler. We use this to capture the value\n      // that was thrown. It's possible that this error handler will fire more\n      // than once; for example, if non-React code also calls `dispatchEvent`\n      // and a handler for that event throws. We should be resilient to most of\n      // those cases. Even if our error event handler fires more than once, the\n      // last error event is always used. If the callback actually does error,\n      // we know that the last error event is the correct one, because it's not\n      // possible for anything else to have happened in between our callback\n      // erroring and the code that follows the `dispatchEvent` call below. If\n      // the callback doesn't error, but the error event was fired, we know to\n      // ignore it because `didError` will be false, as described above.\n      let error;\n      // Use this to track whether the error event is ever called.\n      let didSetError = false;\n      let isCrossOriginError = false;\n\n      function handleWindowError(event) {\n        error = event.error;\n        didSetError = true;\n        if (error === null && event.colno === 0 && event.lineno === 0) {\n          isCrossOriginError = true;\n        }\n        if (event.defaultPrevented) {\n          // Some other error handler has prevented default.\n          // Browsers silence the error report if this happens.\n          // We'll remember this to later decide whether to log it or not.\n          if (error != null && typeof error === 'object') {\n            try {\n              error._suppressLogging = true;\n            } catch (inner) {\n              // Ignore.\n            }\n          }\n        }\n      }\n\n      // Create a fake event type.\n      const evtType = `react-${name ? name : 'invokeguardedcallback'}`;\n\n      // Attach our event handlers\n      window.addEventListener('error', handleWindowError);\n      fakeNode.addEventListener(evtType, callCallback, false);\n\n      // Synchronously dispatch our fake event. If the user-provided function\n      // errors, it will trigger our global error handler.\n      evt.initEvent(evtType, false, false);\n      fakeNode.dispatchEvent(evt);\n\n      if (windowEventDescriptor) {\n        Object.defineProperty(window, 'event', windowEventDescriptor);\n      }\n\n      if (didCall && didError) {\n        if (!didSetError) {\n          // The callback errored, but the error event never fired.\n          error = new Error(\n            'An error was thrown inside one of your components, but React ' +\n              \"doesn't know what it was. This is likely due to browser \" +\n              'flakiness. React does its best to preserve the \"Pause on ' +\n              'exceptions\" behavior of the DevTools, which requires some ' +\n              \"DEV-mode only tricks. It's possible that these don't work in \" +\n              'your browser. Try triggering the error in production mode, ' +\n              'or switching to a modern browser. If you suspect that this is ' +\n              'actually an issue with React, please file an issue.',\n          );\n        } else if (isCrossOriginError) {\n          error = new Error(\n            \"A cross-origin error was thrown. React doesn't have access to \" +\n              'the actual error object in development. ' +\n              'See https://reactjs.org/link/crossorigin-error for more information.',\n          );\n        }\n        this.onError(error);\n      }\n\n      // Remove our event listeners\n      window.removeEventListener('error', handleWindowError);\n\n      if (!didCall) {\n        // Something went really wrong, and our event was not dispatched.\n        // https://github.com/facebook/react/issues/16734\n        // https://github.com/facebook/react/issues/16585\n        // Fall back to the production implementation.\n        restoreAfterDispatch();\n        return invokeGuardedCallbackProd.apply(this, arguments);\n      }\n    };\n  }\n}\n\nexport default invokeGuardedCallbackImpl;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport invariant from 'shared/invariant';\nimport invokeGuardedCallbackImpl from './invokeGuardedCallbackImpl';\n\n// Used by Fiber to simulate a try-catch.\nlet hasError: boolean = false;\nlet caughtError: mixed = null;\n\n// Used by event system to capture/rethrow the first error.\nlet hasRethrowError: boolean = false;\nlet rethrowError: mixed = null;\n\nconst reporter = {\n  onError(error: mixed) {\n    hasError = true;\n    caughtError = error;\n  },\n};\n\n/**\n * Call a function while guarding against errors that happens within it.\n * Returns an error if it throws, otherwise null.\n *\n * In production, this is implemented using a try-catch. The reason we don't\n * use a try-catch directly is so that we can swap out a different\n * implementation in DEV mode.\n *\n * @param {String} name of the guard to use for logging or debugging\n * @param {Function} func The function to invoke\n * @param {*} context The context to use when calling the function\n * @param {...*} args Arguments for function\n */\nexport function invokeGuardedCallback<A, B, C, D, E, F, Context>(\n  name: string | null,\n  func: (a: A, b: B, c: C, d: D, e: E, f: F) => mixed,\n  context: Context,\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n): void {\n  hasError = false;\n  caughtError = null;\n  invokeGuardedCallbackImpl.apply(reporter, arguments);\n}\n\n/**\n * Same as invokeGuardedCallback, but instead of returning an error, it stores\n * it in a global so it can be rethrown by `rethrowCaughtError` later.\n * TODO: See if caughtError and rethrowError can be unified.\n *\n * @param {String} name of the guard to use for logging or debugging\n * @param {Function} func The function to invoke\n * @param {*} context The context to use when calling the function\n * @param {...*} args Arguments for function\n */\nexport function invokeGuardedCallbackAndCatchFirstError<\n  A,\n  B,\n  C,\n  D,\n  E,\n  F,\n  Context,\n>(\n  name: string | null,\n  func: (a: A, b: B, c: C, d: D, e: E, f: F) => void,\n  context: Context,\n  a: A,\n  b: B,\n  c: C,\n  d: D,\n  e: E,\n  f: F,\n): void {\n  invokeGuardedCallback.apply(this, arguments);\n  if (hasError) {\n    const error = clearCaughtError();\n    if (!hasRethrowError) {\n      hasRethrowError = true;\n      rethrowError = error;\n    }\n  }\n}\n\n/**\n * During execution of guarded functions we will capture the first error which\n * we will rethrow to be handled by the top level error handler.\n */\nexport function rethrowCaughtError() {\n  if (hasRethrowError) {\n    const error = rethrowError;\n    hasRethrowError = false;\n    rethrowError = null;\n    throw error;\n  }\n}\n\nexport function hasCaughtError() {\n  return hasError;\n}\n\nexport function clearCaughtError() {\n  if (hasError) {\n    const error = caughtError;\n    hasError = false;\n    caughtError = null;\n    return error;\n  } else {\n    invariant(\n      false,\n      'clearCaughtError was called but no error was captured. This error ' +\n        'is likely caused by a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport {findCurrentFiberUsingSlowPath} from 'react-reconciler/src/ReactFiberTreeReflection';\nimport {get as getInstance} from 'shared/ReactInstanceMap';\nimport {\n  ClassComponent,\n  FunctionComponent,\n  HostComponent,\n  HostText,\n} from 'react-reconciler/src/ReactWorkTags';\nimport {SyntheticEvent} from '../events/SyntheticEvent';\nimport invariant from 'shared/invariant';\nimport {ELEMENT_NODE} from '../shared/HTMLNodeType';\nimport {act} from './ReactTestUtilsPublicAct';\nimport {unstable_concurrentAct} from './ReactTestUtilsInternalAct';\nimport {\n  rethrowCaughtError,\n  invokeGuardedCallbackAndCatchFirstError,\n} from 'shared/ReactErrorUtils';\n\n// Keep in sync with ReactDOM.js, and ReactTestUtilsAct.js:\nconst EventInternals =\n  ReactDOM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events;\nconst getInstanceFromNode = EventInternals[0];\nconst getNodeFromInstance = EventInternals[1];\nconst getFiberCurrentPropsFromNode = EventInternals[2];\nconst enqueueStateRestore = EventInternals[3];\nconst restoreStateIfNeeded = EventInternals[4];\n// const flushPassiveEffects = EventInternals[5];\n// TODO: This is related to `act`, not events. Move to separate key?\n// const IsThisRendererActing = EventInternals[6];\n\nfunction Event(suffix) {}\n\nlet hasWarnedAboutDeprecatedMockComponent = false;\n\n/**\n * @class ReactTestUtils\n */\n\nfunction findAllInRenderedFiberTreeInternal(fiber, test) {\n  if (!fiber) {\n    return [];\n  }\n  const currentParent = findCurrentFiberUsingSlowPath(fiber);\n  if (!currentParent) {\n    return [];\n  }\n  let node = currentParent;\n  const ret = [];\n  while (true) {\n    if (\n      node.tag === HostComponent ||\n      node.tag === HostText ||\n      node.tag === ClassComponent ||\n      node.tag === FunctionComponent\n    ) {\n      const publicInst = node.stateNode;\n      if (test(publicInst)) {\n        ret.push(publicInst);\n      }\n    }\n    if (node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === currentParent) {\n      return ret;\n    }\n    while (!node.sibling) {\n      if (!node.return || node.return === currentParent) {\n        return ret;\n      }\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n}\n\nfunction validateClassInstance(inst, methodName) {\n  if (!inst) {\n    // This is probably too relaxed but it's existing behavior.\n    return;\n  }\n  if (getInstance(inst)) {\n    // This is a public instance indeed.\n    return;\n  }\n  let received;\n  const stringified = '' + inst;\n  if (Array.isArray(inst)) {\n    received = 'an array';\n  } else if (inst && inst.nodeType === ELEMENT_NODE && inst.tagName) {\n    received = 'a DOM node';\n  } else if (stringified === '[object Object]') {\n    received = 'object with keys {' + Object.keys(inst).join(', ') + '}';\n  } else {\n    received = stringified;\n  }\n  invariant(\n    false,\n    '%s(...): the first argument must be a React class instance. ' +\n      'Instead received: %s.',\n    methodName,\n    received,\n  );\n}\n\n/**\n * Utilities for making it easy to test React components.\n *\n * See https://reactjs.org/docs/test-utils.html\n *\n * Todo: Support the entire DOM.scry query syntax. For now, these simple\n * utilities will suffice for testing purposes.\n * @lends ReactTestUtils\n */\nfunction renderIntoDocument(element) {\n  const div = document.createElement('div');\n  // None of our tests actually require attaching the container to the\n  // DOM, and doing so creates a mess that we rely on test isolation to\n  // clean up, so we're going to stop honoring the name of this method\n  // (and probably rename it eventually) if no problems arise.\n  // document.documentElement.appendChild(div);\n  return ReactDOM.render(element, div);\n}\n\nfunction isElement(element) {\n  return React.isValidElement(element);\n}\n\nfunction isElementOfType(inst, convenienceConstructor) {\n  return React.isValidElement(inst) && inst.type === convenienceConstructor;\n}\n\nfunction isDOMComponent(inst) {\n  return !!(inst && inst.nodeType === ELEMENT_NODE && inst.tagName);\n}\n\nfunction isDOMComponentElement(inst) {\n  return !!(inst && React.isValidElement(inst) && !!inst.tagName);\n}\n\nfunction isCompositeComponent(inst) {\n  if (isDOMComponent(inst)) {\n    // Accessing inst.setState warns; just return false as that'll be what\n    // this returns when we have DOM nodes as refs directly\n    return false;\n  }\n  return (\n    inst != null &&\n    typeof inst.render === 'function' &&\n    typeof inst.setState === 'function'\n  );\n}\n\nfunction isCompositeComponentWithType(inst, type) {\n  if (!isCompositeComponent(inst)) {\n    return false;\n  }\n  const internalInstance = getInstance(inst);\n  const constructor = internalInstance.type;\n  return constructor === type;\n}\n\nfunction findAllInRenderedTree(inst, test) {\n  validateClassInstance(inst, 'findAllInRenderedTree');\n  if (!inst) {\n    return [];\n  }\n  const internalInstance = getInstance(inst);\n  return findAllInRenderedFiberTreeInternal(internalInstance, test);\n}\n\n/**\n * Finds all instance of components in the rendered tree that are DOM\n * components with the class name matching `className`.\n * @return {array} an array of all the matches.\n */\nfunction scryRenderedDOMComponentsWithClass(root, classNames) {\n  validateClassInstance(root, 'scryRenderedDOMComponentsWithClass');\n  return findAllInRenderedTree(root, function(inst) {\n    if (isDOMComponent(inst)) {\n      let className = inst.className;\n      if (typeof className !== 'string') {\n        // SVG, probably.\n        className = inst.getAttribute('class') || '';\n      }\n      const classList = className.split(/\\s+/);\n\n      if (!Array.isArray(classNames)) {\n        invariant(\n          classNames !== undefined,\n          'TestUtils.scryRenderedDOMComponentsWithClass expects a ' +\n            'className as a second argument.',\n        );\n        classNames = classNames.split(/\\s+/);\n      }\n      return classNames.every(function(name) {\n        return classList.indexOf(name) !== -1;\n      });\n    }\n    return false;\n  });\n}\n\n/**\n * Like scryRenderedDOMComponentsWithClass but expects there to be one result,\n * and returns that one result, or throws exception if there is any other\n * number of matches besides one.\n * @return {!ReactDOMComponent} The one match.\n */\nfunction findRenderedDOMComponentWithClass(root, className) {\n  validateClassInstance(root, 'findRenderedDOMComponentWithClass');\n  const all = scryRenderedDOMComponentsWithClass(root, className);\n  if (all.length !== 1) {\n    throw new Error(\n      'Did not find exactly one match (found: ' +\n        all.length +\n        ') ' +\n        'for class:' +\n        className,\n    );\n  }\n  return all[0];\n}\n\n/**\n * Finds all instance of components in the rendered tree that are DOM\n * components with the tag name matching `tagName`.\n * @return {array} an array of all the matches.\n */\nfunction scryRenderedDOMComponentsWithTag(root, tagName) {\n  validateClassInstance(root, 'scryRenderedDOMComponentsWithTag');\n  return findAllInRenderedTree(root, function(inst) {\n    return (\n      isDOMComponent(inst) &&\n      inst.tagName.toUpperCase() === tagName.toUpperCase()\n    );\n  });\n}\n\n/**\n * Like scryRenderedDOMComponentsWithTag but expects there to be one result,\n * and returns that one result, or throws exception if there is any other\n * number of matches besides one.\n * @return {!ReactDOMComponent} The one match.\n */\nfunction findRenderedDOMComponentWithTag(root, tagName) {\n  validateClassInstance(root, 'findRenderedDOMComponentWithTag');\n  const all = scryRenderedDOMComponentsWithTag(root, tagName);\n  if (all.length !== 1) {\n    throw new Error(\n      'Did not find exactly one match (found: ' +\n        all.length +\n        ') ' +\n        'for tag:' +\n        tagName,\n    );\n  }\n  return all[0];\n}\n\n/**\n * Finds all instances of components with type equal to `componentType`.\n * @return {array} an array of all the matches.\n */\nfunction scryRenderedComponentsWithType(root, componentType) {\n  validateClassInstance(root, 'scryRenderedComponentsWithType');\n  return findAllInRenderedTree(root, function(inst) {\n    return isCompositeComponentWithType(inst, componentType);\n  });\n}\n\n/**\n * Same as `scryRenderedComponentsWithType` but expects there to be one result\n * and returns that one result, or throws exception if there is any other\n * number of matches besides one.\n * @return {!ReactComponent} The one match.\n */\nfunction findRenderedComponentWithType(root, componentType) {\n  validateClassInstance(root, 'findRenderedComponentWithType');\n  const all = scryRenderedComponentsWithType(root, componentType);\n  if (all.length !== 1) {\n    throw new Error(\n      'Did not find exactly one match (found: ' +\n        all.length +\n        ') ' +\n        'for componentType:' +\n        componentType,\n    );\n  }\n  return all[0];\n}\n\n/**\n * Pass a mocked component module to this method to augment it with\n * useful methods that allow it to be used as a dummy React component.\n * Instead of rendering as usual, the component will become a simple\n * <div> containing any provided children.\n *\n * @param {object} module the mock function object exported from a\n *                        module that defines the component to be mocked\n * @param {?string} mockTagName optional dummy root tag name to return\n *                              from render method (overrides\n *                              module.mockTagName if provided)\n * @return {object} the ReactTestUtils object (for chaining)\n */\nfunction mockComponent(module, mockTagName) {\n  if (__DEV__) {\n    if (!hasWarnedAboutDeprecatedMockComponent) {\n      hasWarnedAboutDeprecatedMockComponent = true;\n      console.warn(\n        'ReactTestUtils.mockComponent() is deprecated. ' +\n          'Use shallow rendering or jest.mock() instead.\\n\\n' +\n          'See https://reactjs.org/link/test-utils-mock-component for more information.',\n      );\n    }\n  }\n\n  mockTagName = mockTagName || module.mockTagName || 'div';\n\n  module.prototype.render.mockImplementation(function() {\n    return React.createElement(mockTagName, null, this.props.children);\n  });\n\n  return this;\n}\n\nfunction nativeTouchData(x, y) {\n  return {\n    touches: [{pageX: x, pageY: y}],\n  };\n}\n\n// Start of inline: the below functions were inlined from\n// EventPropagator.js, as they deviated from ReactDOM's newer\n// implementations.\n\n/**\n * Dispatch the event to the listener.\n * @param {SyntheticEvent} event SyntheticEvent to handle\n * @param {function} listener Application-level callback\n * @param {*} inst Internal component instance\n */\nfunction executeDispatch(event, listener, inst) {\n  const type = event.type || 'unknown-event';\n  event.currentTarget = getNodeFromInstance(inst);\n  invokeGuardedCallbackAndCatchFirstError(type, listener, undefined, event);\n  event.currentTarget = null;\n}\n\n/**\n * Standard/simple iteration through an event's collected dispatches.\n */\nfunction executeDispatchesInOrder(event) {\n  const dispatchListeners = event._dispatchListeners;\n  const dispatchInstances = event._dispatchInstances;\n  if (Array.isArray(dispatchListeners)) {\n    for (let i = 0; i < dispatchListeners.length; i++) {\n      if (event.isPropagationStopped()) {\n        break;\n      }\n      // Listeners and Instances are two parallel arrays that are always in sync.\n      executeDispatch(event, dispatchListeners[i], dispatchInstances[i]);\n    }\n  } else if (dispatchListeners) {\n    executeDispatch(event, dispatchListeners, dispatchInstances);\n  }\n  event._dispatchListeners = null;\n  event._dispatchInstances = null;\n}\n\n/**\n * Dispatches an event and releases it back into the pool, unless persistent.\n *\n * @param {?object} event Synthetic event to be dispatched.\n * @private\n */\nconst executeDispatchesAndRelease = function(event: ReactSyntheticEvent) {\n  if (event) {\n    executeDispatchesInOrder(event);\n\n    if (!event.isPersistent()) {\n      event.constructor.release(event);\n    }\n  }\n};\n\nfunction isInteractive(tag) {\n  return (\n    tag === 'button' ||\n    tag === 'input' ||\n    tag === 'select' ||\n    tag === 'textarea'\n  );\n}\n\nfunction getParent(inst) {\n  do {\n    inst = inst.return;\n    // TODO: If this is a HostRoot we might want to bail out.\n    // That is depending on if we want nested subtrees (layers) to bubble\n    // events to their parent. We could also go through parentNode on the\n    // host node but that wouldn't work for React Native and doesn't let us\n    // do the portal feature.\n  } while (inst && inst.tag !== HostComponent);\n  if (inst) {\n    return inst;\n  }\n  return null;\n}\n\n/**\n * Simulates the traversal of a two-phase, capture/bubble event dispatch.\n */\nexport function traverseTwoPhase(inst, fn, arg) {\n  const path = [];\n  while (inst) {\n    path.push(inst);\n    inst = getParent(inst);\n  }\n  let i;\n  for (i = path.length; i-- > 0; ) {\n    fn(path[i], 'captured', arg);\n  }\n  for (i = 0; i < path.length; i++) {\n    fn(path[i], 'bubbled', arg);\n  }\n}\n\nfunction shouldPreventMouseEvent(name, type, props) {\n  switch (name) {\n    case 'onClick':\n    case 'onClickCapture':\n    case 'onDoubleClick':\n    case 'onDoubleClickCapture':\n    case 'onMouseDown':\n    case 'onMouseDownCapture':\n    case 'onMouseMove':\n    case 'onMouseMoveCapture':\n    case 'onMouseUp':\n    case 'onMouseUpCapture':\n    case 'onMouseEnter':\n      return !!(props.disabled && isInteractive(type));\n    default:\n      return false;\n  }\n}\n\n/**\n * @param {object} inst The instance, which is the source of events.\n * @param {string} registrationName Name of listener (e.g. `onClick`).\n * @return {?function} The stored callback.\n */\nfunction getListener(inst: Fiber, registrationName: string) {\n  // TODO: shouldPreventMouseEvent is DOM-specific and definitely should not\n  // live here; needs to be moved to a better place soon\n  const stateNode = inst.stateNode;\n  if (!stateNode) {\n    // Work in progress (ex: onload events in incremental mode).\n    return null;\n  }\n  const props = getFiberCurrentPropsFromNode(stateNode);\n  if (!props) {\n    // Work in progress.\n    return null;\n  }\n  const listener = props[registrationName];\n  if (shouldPreventMouseEvent(registrationName, inst.type, props)) {\n    return null;\n  }\n  invariant(\n    !listener || typeof listener === 'function',\n    'Expected `%s` listener to be a function, instead got a value of `%s` type.',\n    registrationName,\n    typeof listener,\n  );\n  return listener;\n}\n\nfunction listenerAtPhase(inst, event, propagationPhase: PropagationPhases) {\n  let registrationName = event._reactName;\n  if (propagationPhase === 'captured') {\n    registrationName += 'Capture';\n  }\n  return getListener(inst, registrationName);\n}\n\nfunction accumulateDispatches(inst, ignoredDirection, event) {\n  if (inst && event && event._reactName) {\n    const registrationName = event._reactName;\n    const listener = getListener(inst, registrationName);\n    if (listener) {\n      if (event._dispatchListeners == null) {\n        event._dispatchListeners = [];\n      }\n      if (event._dispatchInstances == null) {\n        event._dispatchInstances = [];\n      }\n      event._dispatchListeners.push(listener);\n      event._dispatchInstances.push(inst);\n    }\n  }\n}\n\nfunction accumulateDirectionalDispatches(inst, phase, event) {\n  if (__DEV__) {\n    if (!inst) {\n      console.error('Dispatching inst must not be null');\n    }\n  }\n  const listener = listenerAtPhase(inst, event, phase);\n  if (listener) {\n    if (event._dispatchListeners == null) {\n      event._dispatchListeners = [];\n    }\n    if (event._dispatchInstances == null) {\n      event._dispatchInstances = [];\n    }\n    event._dispatchListeners.push(listener);\n    event._dispatchInstances.push(inst);\n  }\n}\n\nfunction accumulateDirectDispatchesSingle(event) {\n  if (event && event._reactName) {\n    accumulateDispatches(event._targetInst, null, event);\n  }\n}\n\nfunction accumulateTwoPhaseDispatchesSingle(event) {\n  if (event && event._reactName) {\n    traverseTwoPhase(event._targetInst, accumulateDirectionalDispatches, event);\n  }\n}\n\n// End of inline\n\nconst Simulate = {};\n\nconst directDispatchEventTypes = new Set([\n  'mouseEnter',\n  'mouseLeave',\n  'pointerEnter',\n  'pointerLeave',\n]);\n\n/**\n * Exports:\n *\n * - `Simulate.click(Element)`\n * - `Simulate.mouseMove(Element)`\n * - `Simulate.change(Element)`\n * - ... (All keys from event plugin `eventTypes` objects)\n */\nfunction makeSimulator(eventType) {\n  return function(domNode, eventData) {\n    invariant(\n      !React.isValidElement(domNode),\n      'TestUtils.Simulate expected a DOM node as the first argument but received ' +\n        'a React element. Pass the DOM node you wish to simulate the event on instead. ' +\n        'Note that TestUtils.Simulate will not work if you are using shallow rendering.',\n    );\n    invariant(\n      !isCompositeComponent(domNode),\n      'TestUtils.Simulate expected a DOM node as the first argument but received ' +\n        'a component instance. Pass the DOM node you wish to simulate the event on instead.',\n    );\n\n    const reactName = 'on' + eventType[0].toUpperCase() + eventType.slice(1);\n    const fakeNativeEvent = new Event();\n    fakeNativeEvent.target = domNode;\n    fakeNativeEvent.type = eventType.toLowerCase();\n\n    const targetInst = getInstanceFromNode(domNode);\n    const event = new SyntheticEvent(\n      reactName,\n      fakeNativeEvent.type,\n      targetInst,\n      fakeNativeEvent,\n      domNode,\n    );\n\n    // Since we aren't using pooling, always persist the event. This will make\n    // sure it's marked and won't warn when setting additional properties.\n    event.persist();\n    Object.assign(event, eventData);\n\n    if (directDispatchEventTypes.has(eventType)) {\n      accumulateDirectDispatchesSingle(event);\n    } else {\n      accumulateTwoPhaseDispatchesSingle(event);\n    }\n\n    ReactDOM.unstable_batchedUpdates(function() {\n      // Normally extractEvent enqueues a state restore, but we'll just always\n      // do that since we're by-passing it here.\n      enqueueStateRestore(domNode);\n      executeDispatchesAndRelease(event);\n      rethrowCaughtError();\n    });\n    restoreStateIfNeeded();\n  };\n}\n\n// A one-time snapshot with no plans to update. We'll probably want to deprecate Simulate API.\nconst simulatedEventTypes = [\n  'blur',\n  'cancel',\n  'click',\n  'close',\n  'contextMenu',\n  'copy',\n  'cut',\n  'auxClick',\n  'doubleClick',\n  'dragEnd',\n  'dragStart',\n  'drop',\n  'focus',\n  'input',\n  'invalid',\n  'keyDown',\n  'keyPress',\n  'keyUp',\n  'mouseDown',\n  'mouseUp',\n  'paste',\n  'pause',\n  'play',\n  'pointerCancel',\n  'pointerDown',\n  'pointerUp',\n  'rateChange',\n  'reset',\n  'seeked',\n  'submit',\n  'touchCancel',\n  'touchEnd',\n  'touchStart',\n  'volumeChange',\n  'drag',\n  'dragEnter',\n  'dragExit',\n  'dragLeave',\n  'dragOver',\n  'mouseMove',\n  'mouseOut',\n  'mouseOver',\n  'pointerMove',\n  'pointerOut',\n  'pointerOver',\n  'scroll',\n  'toggle',\n  'touchMove',\n  'wheel',\n  'abort',\n  'animationEnd',\n  'animationIteration',\n  'animationStart',\n  'canPlay',\n  'canPlayThrough',\n  'durationChange',\n  'emptied',\n  'encrypted',\n  'ended',\n  'error',\n  'gotPointerCapture',\n  'load',\n  'loadedData',\n  'loadedMetadata',\n  'loadStart',\n  'lostPointerCapture',\n  'playing',\n  'progress',\n  'seeking',\n  'stalled',\n  'suspend',\n  'timeUpdate',\n  'transitionEnd',\n  'waiting',\n  'mouseEnter',\n  'mouseLeave',\n  'pointerEnter',\n  'pointerLeave',\n  'change',\n  'select',\n  'beforeInput',\n  'compositionEnd',\n  'compositionStart',\n  'compositionUpdate',\n];\nfunction buildSimulators() {\n  simulatedEventTypes.forEach(eventType => {\n    Simulate[eventType] = makeSimulator(eventType);\n  });\n}\nbuildSimulators();\n\nexport {\n  renderIntoDocument,\n  isElement,\n  isElementOfType,\n  isDOMComponent,\n  isDOMComponentElement,\n  isCompositeComponent,\n  isCompositeComponentWithType,\n  findAllInRenderedTree,\n  scryRenderedDOMComponentsWithClass,\n  findRenderedDOMComponentWithClass,\n  scryRenderedDOMComponentsWithTag,\n  findRenderedDOMComponentWithTag,\n  scryRenderedComponentsWithType,\n  findRenderedComponentWithType,\n  mockComponent,\n  nativeTouchData,\n  Simulate,\n  act,\n  unstable_concurrentAct,\n};\n"],"names":["ReactInternals","React","assign","ReactSharedInternals","warn","format","args","printWarning","error","level","ReactDebugCurrentFrame","stack","getStackAddendum","concat","argsWithFormat","map","item","unshift","Function","prototype","apply","call","console","get","key","_reactInternals","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_SERVER_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_SCOPE_TYPE","REACT_OPAQUE_ID_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","Symbol","for","symbolFor","FunctionComponent","ClassComponent","HostRoot","HostComponent","HostText","NoFlags","Placement","Hydrating","ReactCurrentOwner","getNearestMountedFiber","fiber","node","nearestMounted","alternate","nextNode","flags","return","tag","assertIsMounted","findCurrentFiberUsingSlowPath","a","b","parentA","parentB","nextParent","child","sibling","didFindChild","stateNode","current","getEventCharCode","nativeEvent","charCode","keyCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","targetInst","nativeEventTarget","_reactName","_targetInst","type","target","currentTarget","propName","hasOwnProperty","normalize","defaultPrevented","returnValue","isDefaultPrevented","isPropagationStopped","preventDefault","event","stopPropagation","cancelBubble","persist","isPersistent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","lastMovementX","lastMovementY","lastMouseEvent","updateMouseMovementPolyfillState","screenX","screenY","MouseEventInterface","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","undefined","fromElement","srcElement","toElement","movementX","movementY","SyntheticMouseEvent","DragEventInterface","dataTransfer","SyntheticDragEvent","FocusEventInterface","SyntheticFocusEvent","AnimationEventInterface","animationName","elapsedTime","pseudoElement","SyntheticAnimationEvent","ClipboardEventInterface","clipboardData","window","SyntheticClipboardEvent","CompositionEventInterface","data","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","getEventKey","String","fromCharCode","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","syntheticEvent","keyProp","KeyboardEventInterface","code","location","repeat","locale","which","SyntheticKeyboardEvent","PointerEventInterface","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticPointerEvent","TouchEventInterface","touches","targetTouches","changedTouches","SyntheticTouchEvent","TransitionEventInterface","propertyName","SyntheticTransitionEvent","WheelEventInterface","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticWheelEvent","ELEMENT_NODE","didWarnAboutMessageChannel","enqueueTaskImpl","enqueueTask","task","requireString","Math","random","slice","nodeRequire","module","setImmediate","_err","callback","MessageChannel","channel","port1","onmessage","port2","postMessage","Scheduler","unstable_cancelCallback","unstable_now","unstable_scheduleCallback","unstable_shouldYield","unstable_requestPaint","unstable_getFirstCallbackNode","unstable_runWithPriority","unstable_next","unstable_continueExecution","unstable_pauseExecution","unstable_getCurrentPriorityLevel","unstable_ImmediatePriority","unstable_UserBlockingPriority","unstable_NormalPriority","unstable_LowPriority","unstable_IdlePriority","unstable_forceFrameRate","unstable_flushAllWithoutAsserting","EventInternals","ReactDOM","Events","flushPassiveEffects","IsThisRendererActing","batchedUpdates","IsSomeRendererActing","isSchedulerMocked","flushWork","didFlushWork","flushWorkAndMicroTasks","onDone","err","actingUpdatesScopeDepth","act","previousActingUpdatesScopeDepth","previousIsSomeRendererActing","previousIsThisRendererActing","result","then","called","Promise","resolve","reject","unstable_concurrentAct","scope","Error","setTimeout","_isMockFunction","unwind","thenable","flushActWork","jest","runOnlyPendingTimers","invokeGuardedCallbackProd","name","func","context","c","d","e","f","funcArgs","Array","arguments","onError","invokeGuardedCallbackImpl","dispatchEvent","document","createEvent","fakeNode","createElement","invokeGuardedCallbackDev","evt","didCall","didError","windowEvent","windowEventDescriptor","Object","getOwnPropertyDescriptor","restoreAfterDispatch","removeEventListener","evtType","callCallback","didSetError","isCrossOriginError","handleWindowError","colno","lineno","_suppressLogging","inner","addEventListener","initEvent","defineProperty","hasError","caughtError","hasRethrowError","rethrowError","reporter","invokeGuardedCallback","invokeGuardedCallbackAndCatchFirstError","clearCaughtError","rethrowCaughtError","getInstanceFromNode","getNodeFromInstance","getFiberCurrentPropsFromNode","enqueueStateRestore","restoreStateIfNeeded","Event","suffix","hasWarnedAboutDeprecatedMockComponent","findAllInRenderedFiberTreeInternal","test","currentParent","ret","publicInst","push","validateClassInstance","inst","methodName","getInstance","received","stringified","isArray","nodeType","tagName","keys","join","renderIntoDocument","element","div","isElement","isElementOfType","convenienceConstructor","isDOMComponent","isDOMComponentElement","isCompositeComponent","render","setState","isCompositeComponentWithType","internalInstance","constructor","findAllInRenderedTree","scryRenderedDOMComponentsWithClass","root","classNames","className","getAttribute","classList","split","every","indexOf","findRenderedDOMComponentWithClass","all","length","scryRenderedDOMComponentsWithTag","toUpperCase","findRenderedDOMComponentWithTag","scryRenderedComponentsWithType","componentType","findRenderedComponentWithType","mockComponent","mockTagName","mockImplementation","props","children","nativeTouchData","x","y","executeDispatch","listener","executeDispatchesInOrder","dispatchListeners","_dispatchListeners","dispatchInstances","_dispatchInstances","i","executeDispatchesAndRelease","release","isInteractive","getParent","traverseTwoPhase","fn","arg","path","shouldPreventMouseEvent","disabled","getListener","registrationName","listenerAtPhase","propagationPhase","accumulateDispatches","ignoredDirection","accumulateDirectionalDispatches","phase","accumulateDirectDispatchesSingle","accumulateTwoPhaseDispatchesSingle","Simulate","directDispatchEventTypes","Set","makeSimulator","eventType","domNode","eventData","fakeNativeEvent","toLowerCase","has","simulatedEventTypes","buildSimulators","forEach"],"mappings":"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"}