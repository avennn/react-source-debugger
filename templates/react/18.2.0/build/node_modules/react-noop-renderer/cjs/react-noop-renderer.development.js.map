{"version":3,"file":"react-noop-renderer.development.js","sources":["../../../../packages/shared/ReactSharedInternals.js","../../../../packages/shared/consoleWithStackDev.js","../../../../packages/shared/assign.js","../../../../packages/shared/ReactSymbols.js","../../../../packages/shared/isArray.js","../../../../packages/shared/CheckStringCoercion.js","../../../../packages/react-noop-renderer/src/createReactNoop.js","../../../../packages/react-noop-renderer/src/ReactNoop.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactSharedInternals =\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\n\nlet suppressWarning = false;\nexport function setSuppressWarning(newSuppressWarning) {\n  if (__DEV__) {\n    suppressWarning = newSuppressWarning;\n  }\n}\n\n// In DEV, calls to console.warn and console.error get replaced\n// by calls to these methods by a Babel plugin.\n//\n// In PROD (or in packages without access to React internals),\n// they are left as they are instead.\n\nexport function warn(format, ...args) {\n  if (__DEV__) {\n    if (!suppressWarning) {\n      printWarning('warn', format, args);\n    }\n  }\n}\n\nexport function error(format, ...args) {\n  if (__DEV__) {\n    if (!suppressWarning) {\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  if (__DEV__) {\n    const ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    const stack = ReactDebugCurrentFrame.getStackAddendum();\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    }\n\n    // eslint-disable-next-line react-internal/safe-string-coercion\n    const argsWithFormat = args.map(item => String(item));\n    // Careful: RN currently depends on this prefix\n    argsWithFormat.unshift('Warning: ' + format);\n    // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst assign = Object.assign;\n\nexport default assign;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_ELEMENT_TYPE = Symbol.for('react.element');\nexport const REACT_PORTAL_TYPE = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nexport const REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nexport const REACT_CONTEXT_TYPE = Symbol.for('react.context');\nexport const REACT_SERVER_CONTEXT_TYPE = Symbol.for('react.server_context');\nexport const REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nexport const REACT_MEMO_TYPE = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE = Symbol.for('react.scope');\nexport const REACT_DEBUG_TRACING_MODE_TYPE = Symbol.for(\n  'react.debug_trace_mode',\n);\nexport const REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nexport const REACT_LEGACY_HIDDEN_TYPE = Symbol.for('react.legacy_hidden');\nexport const REACT_CACHE_TYPE = Symbol.for('react.cache');\nexport const REACT_TRACING_MARKER_TYPE = Symbol.for('react.tracing_marker');\nexport const REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED = Symbol.for(\n  'react.default_value',\n);\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<*> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\n// eslint-disable-next-line no-redeclare\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value: mixed): string {\n  if (__DEV__) {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    const hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    const type =\n      (hasToStringTag && (value: any)[Symbol.toStringTag]) ||\n      (value: any).constructor.name ||\n      'Object';\n    return type;\n  }\n}\n\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction willCoercionThrow(value: mixed): boolean {\n  if (__DEV__) {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value: mixed) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + (value: any);\n}\n\nexport function checkAttributeStringCoercion(\n  value: mixed,\n  attributeName: string,\n) {\n  if (__DEV__) {\n    if (willCoercionThrow(value)) {\n      console.error(\n        'The provided `%s` attribute is an unsupported type %s.' +\n          ' This value must be coerced to a string before before using it here.',\n        attributeName,\n        typeName(value),\n      );\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nexport function checkKeyStringCoercion(value: mixed) {\n  if (__DEV__) {\n    if (willCoercionThrow(value)) {\n      console.error(\n        'The provided key is an unsupported type %s.' +\n          ' This value must be coerced to a string before before using it here.',\n        typeName(value),\n      );\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nexport function checkPropStringCoercion(value: mixed, propName: string) {\n  if (__DEV__) {\n    if (willCoercionThrow(value)) {\n      console.error(\n        'The provided `%s` prop is an unsupported type %s.' +\n          ' This value must be coerced to a string before before using it here.',\n        propName,\n        typeName(value),\n      );\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nexport function checkCSSPropertyStringCoercion(value: mixed, propName: string) {\n  if (__DEV__) {\n    if (willCoercionThrow(value)) {\n      console.error(\n        'The provided `%s` CSS property is an unsupported type %s.' +\n          ' This value must be coerced to a string before before using it here.',\n        propName,\n        typeName(value),\n      );\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nexport function checkHtmlStringCoercion(value: mixed) {\n  if (__DEV__) {\n    if (willCoercionThrow(value)) {\n      console.error(\n        'The provided HTML markup uses a value of unsupported type %s.' +\n          ' This value must be coerced to a string before before using it here.',\n        typeName(value),\n      );\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nexport function checkFormFieldValueStringCoercion(value: mixed) {\n  if (__DEV__) {\n    if (willCoercionThrow(value)) {\n      console.error(\n        'Form field values (value, checked, defaultValue, or defaultChecked props)' +\n          ' must be strings, not %s.' +\n          ' This value must be coerced to a string before before using it here.',\n        typeName(value),\n      );\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport type {\n  Fiber,\n  TransitionTracingCallbacks,\n} from 'react-reconciler/src/ReactInternalTypes';\nimport type {UpdateQueue} from 'react-reconciler/src/ReactFiberClassUpdateQueue.new';\nimport type {ReactNodeList} from 'shared/ReactTypes';\nimport type {RootTag} from 'react-reconciler/src/ReactRootTags';\n\nimport * as Scheduler from 'scheduler/unstable_mock';\nimport {REACT_FRAGMENT_TYPE, REACT_ELEMENT_TYPE} from 'shared/ReactSymbols';\nimport isArray from 'shared/isArray';\nimport {checkPropStringCoercion} from 'shared/CheckStringCoercion';\nimport {\n  DefaultEventPriority,\n  IdleEventPriority,\n  ConcurrentRoot,\n  LegacyRoot,\n} from 'react-reconciler/constants';\n\ntype Container = {\n  rootID: string,\n  children: Array<Instance | TextInstance>,\n  pendingChildren: Array<Instance | TextInstance>,\n  ...\n};\ntype Props = {\n  prop: any,\n  hidden: boolean,\n  children?: mixed,\n  bottom?: null | number,\n  left?: null | number,\n  right?: null | number,\n  top?: null | number,\n  ...\n};\ntype Instance = {|\n  type: string,\n  id: number,\n  parent: number,\n  children: Array<Instance | TextInstance>,\n  text: string | null,\n  prop: any,\n  hidden: boolean,\n  context: HostContext,\n|};\ntype TextInstance = {|\n  text: string,\n  id: number,\n  parent: number,\n  hidden: boolean,\n  context: HostContext,\n|};\ntype HostContext = Object;\ntype CreateRootOptions = {\n  transitionCallbacks?: TransitionTracingCallbacks,\n  ...\n};\n\nconst NO_CONTEXT = {};\nconst UPPERCASE_CONTEXT = {};\nconst UPDATE_SIGNAL = {};\nif (__DEV__) {\n  Object.freeze(NO_CONTEXT);\n  Object.freeze(UPDATE_SIGNAL);\n}\n\nfunction createReactNoop(reconciler: Function, useMutation: boolean) {\n  let instanceCounter = 0;\n  let hostDiffCounter = 0;\n  let hostUpdateCounter = 0;\n  let hostCloneCounter = 0;\n\n  function appendChildToContainerOrInstance(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n  ): void {\n    const prevParent = child.parent;\n    if (prevParent !== -1 && prevParent !== parentInstance.id) {\n      throw new Error('Reparenting is not allowed');\n    }\n    child.parent = parentInstance.id;\n    const index = parentInstance.children.indexOf(child);\n    if (index !== -1) {\n      parentInstance.children.splice(index, 1);\n    }\n    parentInstance.children.push(child);\n  }\n\n  function appendChildToContainer(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'appendChildToContainer() first argument is not a container.',\n      );\n    }\n    appendChildToContainerOrInstance(parentInstance, child);\n  }\n\n  function appendChild(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('appendChild() first argument is not an instance.');\n    }\n    appendChildToContainerOrInstance(parentInstance, child);\n  }\n\n  function insertInContainerOrInstanceBefore(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index !== -1) {\n      parentInstance.children.splice(index, 1);\n    }\n    const beforeIndex = parentInstance.children.indexOf(beforeChild);\n    if (beforeIndex === -1) {\n      throw new Error('This child does not exist.');\n    }\n    parentInstance.children.splice(beforeIndex, 0, child);\n  }\n\n  function insertInContainerBefore(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ) {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'insertInContainerBefore() first argument is not a container.',\n      );\n    }\n    insertInContainerOrInstanceBefore(parentInstance, child, beforeChild);\n  }\n\n  function insertBefore(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n    beforeChild: Instance | TextInstance,\n  ) {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('insertBefore() first argument is not an instance.');\n    }\n    insertInContainerOrInstanceBefore(parentInstance, child, beforeChild);\n  }\n\n  function clearContainer(container: Container): void {\n    container.children.splice(0);\n  }\n\n  function removeChildFromContainerOrInstance(\n    parentInstance: Container | Instance,\n    child: Instance | TextInstance,\n  ): void {\n    const index = parentInstance.children.indexOf(child);\n    if (index === -1) {\n      throw new Error('This child does not exist.');\n    }\n    parentInstance.children.splice(index, 1);\n  }\n\n  function removeChildFromContainer(\n    parentInstance: Container,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof parentInstance.rootID !== 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error(\n        'removeChildFromContainer() first argument is not a container.',\n      );\n    }\n    removeChildFromContainerOrInstance(parentInstance, child);\n  }\n\n  function removeChild(\n    parentInstance: Instance,\n    child: Instance | TextInstance,\n  ): void {\n    if (typeof (parentInstance: any).rootID === 'string') {\n      // Some calls to this aren't typesafe.\n      // This helps surface mistakes in tests.\n      throw new Error('removeChild() first argument is not an instance.');\n    }\n    removeChildFromContainerOrInstance(parentInstance, child);\n  }\n\n  function cloneInstance(\n    instance: Instance,\n    updatePayload: null | Object,\n    type: string,\n    oldProps: Props,\n    newProps: Props,\n    internalInstanceHandle: Object,\n    keepChildren: boolean,\n    recyclableInstance: null | Instance,\n  ): Instance {\n    if (__DEV__) {\n      checkPropStringCoercion(newProps.children, 'children');\n    }\n    const clone = {\n      id: instance.id,\n      type: type,\n      parent: instance.parent,\n      children: keepChildren ? instance.children : [],\n      text: shouldSetTextContent(type, newProps)\n        ? computeText((newProps.children: any) + '', instance.context)\n        : null,\n      prop: newProps.prop,\n      hidden: !!newProps.hidden,\n      context: instance.context,\n    };\n    Object.defineProperty(clone, 'id', {\n      value: clone.id,\n      enumerable: false,\n    });\n    Object.defineProperty(clone, 'parent', {\n      value: clone.parent,\n      enumerable: false,\n    });\n    Object.defineProperty(clone, 'text', {\n      value: clone.text,\n      enumerable: false,\n    });\n    Object.defineProperty(clone, 'context', {\n      value: clone.context,\n      enumerable: false,\n    });\n    hostCloneCounter++;\n    return clone;\n  }\n\n  function shouldSetTextContent(type: string, props: Props): boolean {\n    if (type === 'errorInBeginPhase') {\n      throw new Error('Error in host config.');\n    }\n    return (\n      typeof props.children === 'string' || typeof props.children === 'number'\n    );\n  }\n\n  function computeText(rawText, hostContext) {\n    return hostContext === UPPERCASE_CONTEXT ? rawText.toUpperCase() : rawText;\n  }\n\n  const sharedHostConfig = {\n    getRootHostContext() {\n      return NO_CONTEXT;\n    },\n\n    getChildHostContext(\n      parentHostContext: HostContext,\n      type: string,\n      rootcontainerInstance: Container,\n    ) {\n      if (type === 'offscreen') {\n        return parentHostContext;\n      }\n      if (type === 'uppercase') {\n        return UPPERCASE_CONTEXT;\n      }\n      return NO_CONTEXT;\n    },\n\n    getPublicInstance(instance) {\n      return instance;\n    },\n\n    createInstance(\n      type: string,\n      props: Props,\n      rootContainerInstance: Container,\n      hostContext: HostContext,\n      internalInstanceHandle: Object,\n    ): Instance {\n      if (type === 'errorInCompletePhase') {\n        throw new Error('Error in host config.');\n      }\n      if (__DEV__) {\n        // The `if` statement here prevents auto-disabling of the safe coercion\n        // ESLint rule, so we must manually disable it below.\n        if (shouldSetTextContent(type, props)) {\n          checkPropStringCoercion(props.children, 'children');\n        }\n      }\n      const inst = {\n        id: instanceCounter++,\n        type: type,\n        children: [],\n        parent: -1,\n        text: shouldSetTextContent(type, props)\n          ? // eslint-disable-next-line react-internal/safe-string-coercion\n            computeText((props.children: any) + '', hostContext)\n          : null,\n        prop: props.prop,\n        hidden: !!props.hidden,\n        context: hostContext,\n      };\n      // Hide from unit tests\n      Object.defineProperty(inst, 'id', {value: inst.id, enumerable: false});\n      Object.defineProperty(inst, 'parent', {\n        value: inst.parent,\n        enumerable: false,\n      });\n      Object.defineProperty(inst, 'text', {\n        value: inst.text,\n        enumerable: false,\n      });\n      Object.defineProperty(inst, 'context', {\n        value: inst.context,\n        enumerable: false,\n      });\n      Object.defineProperty(inst, 'fiber', {\n        value: internalInstanceHandle,\n        enumerable: false,\n      });\n      return inst;\n    },\n\n    appendInitialChild(\n      parentInstance: Instance,\n      child: Instance | TextInstance,\n    ): void {\n      const prevParent = child.parent;\n      if (prevParent !== -1 && prevParent !== parentInstance.id) {\n        throw new Error('Reparenting is not allowed');\n      }\n      child.parent = parentInstance.id;\n      parentInstance.children.push(child);\n    },\n\n    finalizeInitialChildren(\n      domElement: Instance,\n      type: string,\n      props: Props,\n    ): boolean {\n      return false;\n    },\n\n    prepareUpdate(\n      instance: Instance,\n      type: string,\n      oldProps: Props,\n      newProps: Props,\n    ): null | {...} {\n      if (type === 'errorInCompletePhase') {\n        throw new Error('Error in host config.');\n      }\n      if (oldProps === null) {\n        throw new Error('Should have old props');\n      }\n      if (newProps === null) {\n        throw new Error('Should have new props');\n      }\n      hostDiffCounter++;\n      return UPDATE_SIGNAL;\n    },\n\n    shouldSetTextContent,\n\n    createTextInstance(\n      text: string,\n      rootContainerInstance: Container,\n      hostContext: Object,\n      internalInstanceHandle: Object,\n    ): TextInstance {\n      if (hostContext === UPPERCASE_CONTEXT) {\n        text = text.toUpperCase();\n      }\n      const inst = {\n        text: text,\n        id: instanceCounter++,\n        parent: -1,\n        hidden: false,\n        context: hostContext,\n      };\n      // Hide from unit tests\n      Object.defineProperty(inst, 'id', {value: inst.id, enumerable: false});\n      Object.defineProperty(inst, 'parent', {\n        value: inst.parent,\n        enumerable: false,\n      });\n      Object.defineProperty(inst, 'context', {\n        value: inst.context,\n        enumerable: false,\n      });\n      return inst;\n    },\n\n    scheduleTimeout: setTimeout,\n    cancelTimeout: clearTimeout,\n    noTimeout: -1,\n\n    supportsMicrotasks: true,\n    scheduleMicrotask:\n      typeof queueMicrotask === 'function'\n        ? queueMicrotask\n        : typeof Promise !== 'undefined'\n        ? callback =>\n            Promise.resolve(null)\n              .then(callback)\n              .catch(error => {\n                setTimeout(() => {\n                  throw error;\n                });\n              })\n        : setTimeout,\n\n    prepareForCommit(): null | Object {\n      return null;\n    },\n\n    resetAfterCommit(): void {},\n\n    getCurrentEventPriority() {\n      return currentEventPriority;\n    },\n\n    now: Scheduler.unstable_now,\n\n    isPrimaryRenderer: true,\n    warnsIfNotActing: true,\n    supportsHydration: false,\n\n    getInstanceFromNode() {\n      throw new Error('Not yet implemented.');\n    },\n\n    beforeActiveInstanceBlur() {\n      // NO-OP\n    },\n\n    afterActiveInstanceBlur() {\n      // NO-OP\n    },\n\n    preparePortalMount() {\n      // NO-OP\n    },\n\n    prepareScopeUpdate() {},\n\n    getInstanceFromScope() {\n      throw new Error('Not yet implemented.');\n    },\n\n    detachDeletedInstance() {},\n\n    logRecoverableError() {\n      // no-op\n    },\n  };\n\n  const hostConfig = useMutation\n    ? {\n        ...sharedHostConfig,\n\n        supportsMutation: true,\n        supportsPersistence: false,\n\n        commitMount(instance: Instance, type: string, newProps: Props): void {\n          // Noop\n        },\n\n        commitUpdate(\n          instance: Instance,\n          updatePayload: Object,\n          type: string,\n          oldProps: Props,\n          newProps: Props,\n        ): void {\n          if (oldProps === null) {\n            throw new Error('Should have old props');\n          }\n          hostUpdateCounter++;\n          instance.prop = newProps.prop;\n          instance.hidden = !!newProps.hidden;\n          if (shouldSetTextContent(type, newProps)) {\n            if (__DEV__) {\n              checkPropStringCoercion(newProps.children, 'children');\n            }\n            instance.text = computeText(\n              (newProps.children: any) + '',\n              instance.context,\n            );\n          }\n        },\n\n        commitTextUpdate(\n          textInstance: TextInstance,\n          oldText: string,\n          newText: string,\n        ): void {\n          hostUpdateCounter++;\n          textInstance.text = computeText(newText, textInstance.context);\n        },\n\n        appendChild,\n        appendChildToContainer,\n        insertBefore,\n        insertInContainerBefore,\n        removeChild,\n        removeChildFromContainer,\n        clearContainer,\n\n        hideInstance(instance: Instance): void {\n          instance.hidden = true;\n        },\n\n        hideTextInstance(textInstance: TextInstance): void {\n          textInstance.hidden = true;\n        },\n\n        unhideInstance(instance: Instance, props: Props): void {\n          if (!props.hidden) {\n            instance.hidden = false;\n          }\n        },\n\n        unhideTextInstance(textInstance: TextInstance, text: string): void {\n          textInstance.hidden = false;\n        },\n\n        resetTextContent(instance: Instance): void {\n          instance.text = null;\n        },\n      }\n    : {\n        ...sharedHostConfig,\n        supportsMutation: false,\n        supportsPersistence: true,\n\n        cloneInstance,\n        clearContainer,\n\n        createContainerChildSet(\n          container: Container,\n        ): Array<Instance | TextInstance> {\n          return [];\n        },\n\n        appendChildToContainerChildSet(\n          childSet: Array<Instance | TextInstance>,\n          child: Instance | TextInstance,\n        ): void {\n          childSet.push(child);\n        },\n\n        finalizeContainerChildren(\n          container: Container,\n          newChildren: Array<Instance | TextInstance>,\n        ): void {\n          container.pendingChildren = newChildren;\n          if (\n            newChildren.length === 1 &&\n            newChildren[0].text === 'Error when completing root'\n          ) {\n            // Trigger an error for testing purposes\n            throw Error('Error when completing root');\n          }\n        },\n\n        replaceContainerChildren(\n          container: Container,\n          newChildren: Array<Instance | TextInstance>,\n        ): void {\n          container.children = newChildren;\n        },\n\n        cloneHiddenInstance(\n          instance: Instance,\n          type: string,\n          props: Props,\n          internalInstanceHandle: Object,\n        ): Instance {\n          const clone = cloneInstance(\n            instance,\n            null,\n            type,\n            props,\n            props,\n            internalInstanceHandle,\n            true,\n            null,\n          );\n          clone.hidden = true;\n          return clone;\n        },\n\n        cloneHiddenTextInstance(\n          instance: TextInstance,\n          text: string,\n          internalInstanceHandle: Object,\n        ): TextInstance {\n          const clone = {\n            text: instance.text,\n            id: instance.id,\n            parent: instance.parent,\n            hidden: true,\n            context: instance.context,\n          };\n          // Hide from unit tests\n          Object.defineProperty(clone, 'id', {\n            value: clone.id,\n            enumerable: false,\n          });\n          Object.defineProperty(clone, 'parent', {\n            value: clone.parent,\n            enumerable: false,\n          });\n          Object.defineProperty(clone, 'context', {\n            value: clone.context,\n            enumerable: false,\n          });\n          return clone;\n        },\n      };\n\n  const NoopRenderer = reconciler(hostConfig);\n\n  const rootContainers = new Map();\n  const roots = new Map();\n  const DEFAULT_ROOT_ID = '<default>';\n\n  let currentEventPriority = DefaultEventPriority;\n\n  function childToJSX(child, text) {\n    if (text !== null) {\n      return text;\n    }\n    if (child === null) {\n      return null;\n    }\n    if (typeof child === 'string') {\n      return child;\n    }\n    if (isArray(child)) {\n      if (child.length === 0) {\n        return null;\n      }\n      if (child.length === 1) {\n        return childToJSX(child[0], null);\n      }\n      // $FlowFixMe\n      const children = child.map(c => childToJSX(c, null));\n      if (children.every(c => typeof c === 'string' || typeof c === 'number')) {\n        return children.join('');\n      }\n      return children;\n    }\n    if (isArray(child.children)) {\n      // This is an instance.\n      const instance: Instance = (child: any);\n      const children = childToJSX(instance.children, instance.text);\n      const props = ({prop: instance.prop}: any);\n      if (instance.hidden) {\n        props.hidden = true;\n      }\n      if (children !== null) {\n        props.children = children;\n      }\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: instance.type,\n        key: null,\n        ref: null,\n        props: props,\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    // This is a text instance\n    const textInstance: TextInstance = (child: any);\n    if (textInstance.hidden) {\n      return '';\n    }\n    return textInstance.text;\n  }\n\n  function getChildren(root) {\n    if (root) {\n      return root.children;\n    } else {\n      return null;\n    }\n  }\n\n  function getPendingChildren(root) {\n    if (root) {\n      return root.children;\n    } else {\n      return null;\n    }\n  }\n\n  function getChildrenAsJSX(root) {\n    const children = childToJSX(getChildren(root), null);\n    if (children === null) {\n      return null;\n    }\n    if (isArray(children)) {\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: REACT_FRAGMENT_TYPE,\n        key: null,\n        ref: null,\n        props: {children},\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    return children;\n  }\n\n  function getPendingChildrenAsJSX(root) {\n    const children = childToJSX(getChildren(root), null);\n    if (children === null) {\n      return null;\n    }\n    if (isArray(children)) {\n      return {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: REACT_FRAGMENT_TYPE,\n        key: null,\n        ref: null,\n        props: {children},\n        _owner: null,\n        _store: __DEV__ ? {} : undefined,\n      };\n    }\n    return children;\n  }\n\n  function flushSync<R>(fn: () => R): R {\n    if (__DEV__) {\n      if (NoopRenderer.isAlreadyRendering()) {\n        console.error(\n          'flushSync was called from inside a lifecycle method. React cannot ' +\n            'flush when React is already rendering. Consider moving this call to ' +\n            'a scheduler task or micro task.',\n        );\n      }\n    }\n    return NoopRenderer.flushSync(fn);\n  }\n\n  function onRecoverableError(error) {\n    // TODO: Turn this on once tests are fixed\n    // eslint-disable-next-line react-internal/no-production-logging, react-internal/warning-args\n    // console.error(error);\n  }\n\n  let idCounter = 0;\n\n  const ReactNoop = {\n    _Scheduler: Scheduler,\n\n    getChildren(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getChildren(container);\n    },\n\n    getPendingChildren(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getPendingChildren(container);\n    },\n\n    getOrCreateRootContainer(rootID: string = DEFAULT_ROOT_ID, tag: RootTag) {\n      let root = roots.get(rootID);\n      if (!root) {\n        const container = {rootID: rootID, pendingChildren: [], children: []};\n        rootContainers.set(rootID, container);\n        root = NoopRenderer.createContainer(\n          container,\n          tag,\n          null,\n          null,\n          false,\n          '',\n          onRecoverableError,\n        );\n        roots.set(rootID, root);\n      }\n      return root.current.stateNode.containerInfo;\n    },\n\n    // TODO: Replace ReactNoop.render with createRoot + root.render\n    createRoot(options?: CreateRootOptions) {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        ConcurrentRoot,\n        null,\n        null,\n        false,\n        '',\n        onRecoverableError,\n        options && options.transitionCallbacks\n          ? options.transitionCallbacks\n          : null,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    createLegacyRoot() {\n      const container = {\n        rootID: '' + idCounter++,\n        pendingChildren: [],\n        children: [],\n      };\n      const fiberRoot = NoopRenderer.createContainer(\n        container,\n        LegacyRoot,\n        null,\n        null,\n        false,\n        '',\n        onRecoverableError,\n      );\n      return {\n        _Scheduler: Scheduler,\n        render(children: ReactNodeList) {\n          NoopRenderer.updateContainer(children, fiberRoot, null, null);\n        },\n        getChildren() {\n          return getChildren(container);\n        },\n        getChildrenAsJSX() {\n          return getChildrenAsJSX(container);\n        },\n      };\n    },\n\n    getChildrenAsJSX(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getChildrenAsJSX(container);\n    },\n\n    getPendingChildrenAsJSX(rootID: string = DEFAULT_ROOT_ID) {\n      const container = rootContainers.get(rootID);\n      return getPendingChildrenAsJSX(container);\n    },\n\n    createPortal(\n      children: ReactNodeList,\n      container: Container,\n      key: ?string = null,\n    ) {\n      return NoopRenderer.createPortal(children, container, null, key);\n    },\n\n    // Shortcut for testing a single root\n    render(element: React$Element<any>, callback: ?Function) {\n      ReactNoop.renderToRootWithID(element, DEFAULT_ROOT_ID, callback);\n    },\n\n    renderLegacySyncRoot(element: React$Element<any>, callback: ?Function) {\n      const rootID = DEFAULT_ROOT_ID;\n      const container = ReactNoop.getOrCreateRootContainer(rootID, LegacyRoot);\n      const root = roots.get(container.rootID);\n      NoopRenderer.updateContainer(element, root, null, callback);\n    },\n\n    renderToRootWithID(\n      element: React$Element<any>,\n      rootID: string,\n      callback: ?Function,\n    ) {\n      const container = ReactNoop.getOrCreateRootContainer(\n        rootID,\n        ConcurrentRoot,\n      );\n      const root = roots.get(container.rootID);\n      NoopRenderer.updateContainer(element, root, null, callback);\n    },\n\n    unmountRootWithID(rootID: string) {\n      const root = roots.get(rootID);\n      if (root) {\n        NoopRenderer.updateContainer(null, root, null, () => {\n          roots.delete(rootID);\n          rootContainers.delete(rootID);\n        });\n      }\n    },\n\n    findInstance(\n      componentOrElement: Element | ?React$Component<any, any>,\n    ): null | Instance | TextInstance {\n      if (componentOrElement == null) {\n        return null;\n      }\n      // Unsound duck typing.\n      const component = (componentOrElement: any);\n      if (typeof component.id === 'number') {\n        return component;\n      }\n      if (__DEV__) {\n        return NoopRenderer.findHostInstanceWithWarning(\n          component,\n          'findInstance',\n        );\n      }\n      return NoopRenderer.findHostInstance(component);\n    },\n\n    flushNextYield(): Array<mixed> {\n      Scheduler.unstable_flushNumberOfYields(1);\n      return Scheduler.unstable_clearYields();\n    },\n\n    flushWithHostCounters(\n      fn: () => void,\n    ):\n      | {|\n          hostDiffCounter: number,\n          hostUpdateCounter: number,\n        |}\n      | {|\n          hostDiffCounter: number,\n          hostCloneCounter: number,\n        |} {\n      hostDiffCounter = 0;\n      hostUpdateCounter = 0;\n      hostCloneCounter = 0;\n      try {\n        Scheduler.unstable_flushAll();\n        return useMutation\n          ? {\n              hostDiffCounter,\n              hostUpdateCounter,\n            }\n          : {\n              hostDiffCounter,\n              hostCloneCounter,\n            };\n      } finally {\n        hostDiffCounter = 0;\n        hostUpdateCounter = 0;\n        hostCloneCounter = 0;\n      }\n    },\n\n    expire: Scheduler.unstable_advanceTime,\n\n    flushExpired(): Array<mixed> {\n      return Scheduler.unstable_flushExpired();\n    },\n\n    unstable_runWithPriority: NoopRenderer.runWithPriority,\n\n    batchedUpdates: NoopRenderer.batchedUpdates,\n\n    deferredUpdates: NoopRenderer.deferredUpdates,\n\n    discreteUpdates: NoopRenderer.discreteUpdates,\n\n    idleUpdates<T>(fn: () => T): T {\n      const prevEventPriority = currentEventPriority;\n      currentEventPriority = IdleEventPriority;\n      try {\n        fn();\n      } finally {\n        currentEventPriority = prevEventPriority;\n      }\n    },\n\n    flushSync,\n    flushPassiveEffects: NoopRenderer.flushPassiveEffects,\n\n    // Logs the current state of the tree.\n    dumpTree(rootID: string = DEFAULT_ROOT_ID) {\n      const root = roots.get(rootID);\n      const rootContainer = rootContainers.get(rootID);\n      if (!root || !rootContainer) {\n        // eslint-disable-next-line react-internal/no-production-logging\n        console.log('Nothing rendered yet.');\n        return;\n      }\n\n      const bufferedLog = [];\n      function log(...args) {\n        bufferedLog.push(...args, '\\n');\n      }\n\n      function logHostInstances(\n        children: Array<Instance | TextInstance>,\n        depth,\n      ) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          const indent = '  '.repeat(depth);\n          if (typeof child.text === 'string') {\n            log(indent + '- ' + child.text);\n          } else {\n            // $FlowFixMe - The child should've been refined now.\n            log(indent + '- ' + child.type + '#' + child.id);\n            // $FlowFixMe - The child should've been refined now.\n            logHostInstances(child.children, depth + 1);\n          }\n        }\n      }\n      function logContainer(container: Container, depth) {\n        log('  '.repeat(depth) + '- [root#' + container.rootID + ']');\n        logHostInstances(container.children, depth + 1);\n      }\n\n      function logUpdateQueue(updateQueue: UpdateQueue<mixed>, depth) {\n        log('  '.repeat(depth + 1) + 'QUEUED UPDATES');\n        const first = updateQueue.firstBaseUpdate;\n        const update = first;\n        if (update !== null) {\n          do {\n            log(\n              '  '.repeat(depth + 1) + '~',\n              '[' + update.expirationTime + ']',\n            );\n          } while (update !== null);\n        }\n\n        const lastPending = updateQueue.shared.pending;\n        if (lastPending !== null) {\n          const firstPending = lastPending.next;\n          const pendingUpdate = firstPending;\n          if (pendingUpdate !== null) {\n            do {\n              log(\n                '  '.repeat(depth + 1) + '~',\n                '[' + pendingUpdate.expirationTime + ']',\n              );\n            } while (pendingUpdate !== null && pendingUpdate !== firstPending);\n          }\n        }\n      }\n\n      function logFiber(fiber: Fiber, depth) {\n        log(\n          '  '.repeat(depth) +\n            '- ' +\n            // need to explicitly coerce Symbol to a string\n            (fiber.type ? fiber.type.name || fiber.type.toString() : '[root]'),\n          '[' +\n            fiber.childExpirationTime +\n            (fiber.pendingProps ? '*' : '') +\n            ']',\n        );\n        if (fiber.updateQueue) {\n          logUpdateQueue(fiber.updateQueue, depth);\n        }\n        // const childInProgress = fiber.progressedChild;\n        // if (childInProgress && childInProgress !== fiber.child) {\n        //   log(\n        //     '  '.repeat(depth + 1) + 'IN PROGRESS: ' + fiber.pendingWorkPriority,\n        //   );\n        //   logFiber(childInProgress, depth + 1);\n        //   if (fiber.child) {\n        //     log('  '.repeat(depth + 1) + 'CURRENT');\n        //   }\n        // } else if (fiber.child && fiber.updateQueue) {\n        //   log('  '.repeat(depth + 1) + 'CHILDREN');\n        // }\n        if (fiber.child) {\n          logFiber(fiber.child, depth + 1);\n        }\n        if (fiber.sibling) {\n          logFiber(fiber.sibling, depth);\n        }\n      }\n\n      log('HOST INSTANCES:');\n      logContainer(rootContainer, 0);\n      log('FIBERS:');\n      logFiber(root.current, 0);\n\n      // eslint-disable-next-line react-internal/no-production-logging\n      console.log(...bufferedLog);\n    },\n\n    getRoot(rootID: string = DEFAULT_ROOT_ID) {\n      return roots.get(rootID);\n    },\n  };\n\n  return ReactNoop;\n}\n\nexport default createReactNoop;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * This is a renderer of React that doesn't have a render target output.\n * It is useful to demonstrate the internals of the reconciler in isolation\n * and for testing semantics of reconciliation separate from the host\n * environment.\n */\n\nimport ReactFiberReconciler from 'react-reconciler';\nimport createReactNoop from './createReactNoop';\n\nexport const {\n  _Scheduler,\n  getChildren,\n  getPendingChildren,\n  getOrCreateRootContainer,\n  createRoot,\n  createLegacyRoot,\n  getChildrenAsJSX,\n  getPendingChildrenAsJSX,\n  createPortal,\n  render,\n  renderLegacySyncRoot,\n  renderToRootWithID,\n  unmountRootWithID,\n  findInstance,\n  flushNextYield,\n  flushWithHostCounters,\n  expire,\n  flushExpired,\n  batchedUpdates,\n  deferredUpdates,\n  discreteUpdates,\n  idleUpdates,\n  flushSync,\n  flushPassiveEffects,\n  act,\n  dumpTree,\n  getRoot,\n  // TODO: Remove this after callers migrate to alternatives.\n  unstable_runWithPriority,\n} = createReactNoop(\n  ReactFiberReconciler, // reconciler\n  true, // useMutation\n);\n"],"names":["ReactSharedInternals","React","error","format","args","printWarning","level","ReactDebugCurrentFrame","stack","getStackAddendum","concat","argsWithFormat","map","item","String","unshift","Function","prototype","apply","call","console","assign","Object","REACT_ELEMENT_TYPE","Symbol","for","REACT_FRAGMENT_TYPE","isArrayImpl","Array","isArray","a","typeName","value","hasToStringTag","toStringTag","type","constructor","name","willCoercionThrow","testStringCoercion","e","checkPropStringCoercion","propName","NO_CONTEXT","UPPERCASE_CONTEXT","UPDATE_SIGNAL","freeze","createReactNoop","reconciler","useMutation","instanceCounter","hostDiffCounter","hostUpdateCounter","hostCloneCounter","appendChildToContainerOrInstance","parentInstance","child","prevParent","parent","id","Error","index","children","indexOf","splice","push","appendChildToContainer","rootID","appendChild","insertInContainerOrInstanceBefore","beforeChild","beforeIndex","insertInContainerBefore","insertBefore","clearContainer","container","removeChildFromContainerOrInstance","removeChildFromContainer","removeChild","cloneInstance","instance","updatePayload","oldProps","newProps","internalInstanceHandle","keepChildren","recyclableInstance","clone","text","shouldSetTextContent","computeText","context","prop","hidden","defineProperty","enumerable","props","rawText","hostContext","toUpperCase","sharedHostConfig","getRootHostContext","getChildHostContext","parentHostContext","rootcontainerInstance","getPublicInstance","createInstance","rootContainerInstance","inst","appendInitialChild","finalizeInitialChildren","domElement","prepareUpdate","createTextInstance","scheduleTimeout","setTimeout","cancelTimeout","clearTimeout","noTimeout","supportsMicrotasks","scheduleMicrotask","queueMicrotask","Promise","callback","resolve","then","catch","prepareForCommit","resetAfterCommit","getCurrentEventPriority","currentEventPriority","now","Scheduler","isPrimaryRenderer","warnsIfNotActing","supportsHydration","getInstanceFromNode","beforeActiveInstanceBlur","afterActiveInstanceBlur","preparePortalMount","prepareScopeUpdate","getInstanceFromScope","detachDeletedInstance","logRecoverableError","hostConfig","supportsMutation","supportsPersistence","commitMount","commitUpdate","commitTextUpdate","textInstance","oldText","newText","hideInstance","hideTextInstance","unhideInstance","unhideTextInstance","resetTextContent","createContainerChildSet","appendChildToContainerChildSet","childSet","finalizeContainerChildren","newChildren","pendingChildren","length","replaceContainerChildren","cloneHiddenInstance","cloneHiddenTextInstance","NoopRenderer","rootContainers","Map","roots","DEFAULT_ROOT_ID","DefaultEventPriority","childToJSX","c","every","join","$$typeof","key","ref","_owner","_store","__DEV__","getChildren","root","getPendingChildren","getChildrenAsJSX","getPendingChildrenAsJSX","flushSync","fn","isAlreadyRendering","onRecoverableError","idCounter","ReactNoop","_Scheduler","get","getOrCreateRootContainer","tag","set","createContainer","current","stateNode","containerInfo","createRoot","options","fiberRoot","ConcurrentRoot","transitionCallbacks","render","updateContainer","createLegacyRoot","LegacyRoot","createPortal","element","renderToRootWithID","renderLegacySyncRoot","unmountRootWithID","delete","findInstance","componentOrElement","component","findHostInstanceWithWarning","flushNextYield","flushWithHostCounters","expire","flushExpired","unstable_runWithPriority","runWithPriority","batchedUpdates","deferredUpdates","discreteUpdates","idleUpdates","prevEventPriority","IdleEventPriority","flushPassiveEffects","dumpTree","rootContainer","log","bufferedLog","logHostInstances","depth","i","indent","repeat","logContainer","logUpdateQueue","updateQueue","first","firstBaseUpdate","update","expirationTime","lastPending","shared","pending","firstPending","next","pendingUpdate","logFiber","fiber","toString","childExpirationTime","pendingProps","sibling","getRoot","ReactFiberReconciler","act"],"mappings":"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"}